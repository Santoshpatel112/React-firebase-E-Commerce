function bx(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function Rx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hf={exports:{}},_l={},Wf={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function Px(){if(L0)return Le;L0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=E&&z[E]||z["@@iterator"],typeof z=="function"?z:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,M={};function A(z,Y,ue){this.props=z,this.context=Y,this.refs=M,this.updater=ue||k}A.prototype.isReactComponent={},A.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},A.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function $(){}$.prototype=A.prototype;function F(z,Y,ue){this.props=z,this.context=Y,this.refs=M,this.updater=ue||k}var O=F.prototype=new $;O.constructor=F,R(O,A.prototype),O.isPureReactComponent=!0;var H=Array.isArray,X=Object.prototype.hasOwnProperty,ne={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function C(z,Y,ue){var Pe,xe={},Oe=null,Ne=null;if(Y!=null)for(Pe in Y.ref!==void 0&&(Ne=Y.ref),Y.key!==void 0&&(Oe=""+Y.key),Y)X.call(Y,Pe)&&!b.hasOwnProperty(Pe)&&(xe[Pe]=Y[Pe]);var je=arguments.length-2;if(je===1)xe.children=ue;else if(1<je){for(var He=Array(je),Tt=0;Tt<je;Tt++)He[Tt]=arguments[Tt+2];xe.children=He}if(z&&z.defaultProps)for(Pe in je=z.defaultProps,je)xe[Pe]===void 0&&(xe[Pe]=je[Pe]);return{$$typeof:n,type:z,key:Oe,ref:Ne,props:xe,_owner:ne.current}}function P(z,Y){return{$$typeof:n,type:z.type,key:Y,ref:z.ref,props:z.props,_owner:z._owner}}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function j(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ue){return Y[ue]})}var U=/\/+/g;function N(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?j(""+z.key):Y.toString(36)}function de(z,Y,ue,Pe,xe){var Oe=typeof z;(Oe==="undefined"||Oe==="boolean")&&(z=null);var Ne=!1;if(z===null)Ne=!0;else switch(Oe){case"string":case"number":Ne=!0;break;case"object":switch(z.$$typeof){case n:case e:Ne=!0}}if(Ne)return Ne=z,xe=xe(Ne),z=Pe===""?"."+N(Ne,0):Pe,H(xe)?(ue="",z!=null&&(ue=z.replace(U,"$&/")+"/"),de(xe,Y,ue,"",function(Tt){return Tt})):xe!=null&&(L(xe)&&(xe=P(xe,ue+(!xe.key||Ne&&Ne.key===xe.key?"":(""+xe.key).replace(U,"$&/")+"/")+z)),Y.push(xe)),1;if(Ne=0,Pe=Pe===""?".":Pe+":",H(z))for(var je=0;je<z.length;je++){Oe=z[je];var He=Pe+N(Oe,je);Ne+=de(Oe,Y,ue,He,xe)}else if(He=x(z),typeof He=="function")for(z=He.call(z),je=0;!(Oe=z.next()).done;)Oe=Oe.value,He=Pe+N(Oe,je++),Ne+=de(Oe,Y,ue,He,xe);else if(Oe==="object")throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ne}function De(z,Y,ue){if(z==null)return z;var Pe=[],xe=0;return de(z,Pe,"","",function(Oe){return Y.call(ue,Oe,xe++)}),Pe}function Re(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(ue){(z._status===0||z._status===-1)&&(z._status=1,z._result=ue)},function(ue){(z._status===0||z._status===-1)&&(z._status=2,z._result=ue)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var ke={current:null},re={transition:null},ce={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:re,ReactCurrentOwner:ne};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:De,forEach:function(z,Y,ue){De(z,function(){Y.apply(this,arguments)},ue)},count:function(z){var Y=0;return De(z,function(){Y++}),Y},toArray:function(z){return De(z,function(Y){return Y})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Le.Component=A,Le.Fragment=t,Le.Profiler=s,Le.PureComponent=F,Le.StrictMode=r,Le.Suspense=f,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Le.act=oe,Le.cloneElement=function(z,Y,ue){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Pe=R({},z.props),xe=z.key,Oe=z.ref,Ne=z._owner;if(Y!=null){if(Y.ref!==void 0&&(Oe=Y.ref,Ne=ne.current),Y.key!==void 0&&(xe=""+Y.key),z.type&&z.type.defaultProps)var je=z.type.defaultProps;for(He in Y)X.call(Y,He)&&!b.hasOwnProperty(He)&&(Pe[He]=Y[He]===void 0&&je!==void 0?je[He]:Y[He])}var He=arguments.length-2;if(He===1)Pe.children=ue;else if(1<He){je=Array(He);for(var Tt=0;Tt<He;Tt++)je[Tt]=arguments[Tt+2];Pe.children=je}return{$$typeof:n,type:z.type,key:xe,ref:Oe,props:Pe,_owner:Ne}},Le.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Le.createElement=C,Le.createFactory=function(z){var Y=C.bind(null,z);return Y.type=z,Y},Le.createRef=function(){return{current:null}},Le.forwardRef=function(z){return{$$typeof:h,render:z}},Le.isValidElement=L,Le.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:Re}},Le.memo=function(z,Y){return{$$typeof:m,type:z,compare:Y===void 0?null:Y}},Le.startTransition=function(z){var Y=re.transition;re.transition={};try{z()}finally{re.transition=Y}},Le.unstable_act=oe,Le.useCallback=function(z,Y){return ke.current.useCallback(z,Y)},Le.useContext=function(z){return ke.current.useContext(z)},Le.useDebugValue=function(){},Le.useDeferredValue=function(z){return ke.current.useDeferredValue(z)},Le.useEffect=function(z,Y){return ke.current.useEffect(z,Y)},Le.useId=function(){return ke.current.useId()},Le.useImperativeHandle=function(z,Y,ue){return ke.current.useImperativeHandle(z,Y,ue)},Le.useInsertionEffect=function(z,Y){return ke.current.useInsertionEffect(z,Y)},Le.useLayoutEffect=function(z,Y){return ke.current.useLayoutEffect(z,Y)},Le.useMemo=function(z,Y){return ke.current.useMemo(z,Y)},Le.useReducer=function(z,Y,ue){return ke.current.useReducer(z,Y,ue)},Le.useRef=function(z){return ke.current.useRef(z)},Le.useState=function(z){return ke.current.useState(z)},Le.useSyncExternalStore=function(z,Y,ue){return ke.current.useSyncExternalStore(z,Y,ue)},Le.useTransition=function(){return ke.current.useTransition()},Le.version="18.3.1",Le}var j0;function Od(){return j0||(j0=1,Wf.exports=Px()),Wf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function Ax(){if(M0)return _l;M0=1;var n=Od(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,m){var v,E={},x=null,k=null;m!==void 0&&(x=""+m),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(k=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(E[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)E[v]===void 0&&(E[v]=f[v]);return{$$typeof:e,type:h,key:x,ref:k,props:E,_owner:s.current}}return _l.Fragment=t,_l.jsx=u,_l.jsxs=u,_l}var V0;function Nx(){return V0||(V0=1,Hf.exports=Ax()),Hf.exports}var _=Nx(),I=Od();const le=Rx(I),F0=bx({__proto__:null,default:le},[I]);var Ac={},qf={exports:{}},on={},Kf={exports:{}},Gf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function Dx(){return U0||(U0=1,function(n){function e(re,ce){var oe=re.length;re.push(ce);e:for(;0<oe;){var z=oe-1>>>1,Y=re[z];if(0<s(Y,ce))re[z]=ce,re[oe]=Y,oe=z;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ce=re[0],oe=re.pop();if(oe!==ce){re[0]=oe;e:for(var z=0,Y=re.length,ue=Y>>>1;z<ue;){var Pe=2*(z+1)-1,xe=re[Pe],Oe=Pe+1,Ne=re[Oe];if(0>s(xe,oe))Oe<Y&&0>s(Ne,xe)?(re[z]=Ne,re[Oe]=oe,z=Oe):(re[z]=xe,re[Pe]=oe,z=Pe);else if(Oe<Y&&0>s(Ne,oe))re[z]=Ne,re[Oe]=oe,z=Oe;else break e}}return ce}function s(re,ce){var oe=re.sortIndex-ce.sortIndex;return oe!==0?oe:re.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],v=1,E=null,x=3,k=!1,R=!1,M=!1,A=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(re){for(var ce=t(m);ce!==null;){if(ce.callback===null)r(m);else if(ce.startTime<=re)r(m),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=t(m)}}function H(re){if(M=!1,O(re),!R)if(t(f)!==null)R=!0,Re(X);else{var ce=t(m);ce!==null&&ke(H,ce.startTime-re)}}function X(re,ce){R=!1,M&&(M=!1,$(C),C=-1),k=!0;var oe=x;try{for(O(ce),E=t(f);E!==null&&(!(E.expirationTime>ce)||re&&!j());){var z=E.callback;if(typeof z=="function"){E.callback=null,x=E.priorityLevel;var Y=z(E.expirationTime<=ce);ce=n.unstable_now(),typeof Y=="function"?E.callback=Y:E===t(f)&&r(f),O(ce)}else r(f);E=t(f)}if(E!==null)var ue=!0;else{var Pe=t(m);Pe!==null&&ke(H,Pe.startTime-ce),ue=!1}return ue}finally{E=null,x=oe,k=!1}}var ne=!1,b=null,C=-1,P=5,L=-1;function j(){return!(n.unstable_now()-L<P)}function U(){if(b!==null){var re=n.unstable_now();L=re;var ce=!0;try{ce=b(!0,re)}finally{ce?N():(ne=!1,b=null)}}else ne=!1}var N;if(typeof F=="function")N=function(){F(U)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,De=de.port2;de.port1.onmessage=U,N=function(){De.postMessage(null)}}else N=function(){A(U,0)};function Re(re){b=re,ne||(ne=!0,N())}function ke(re,ce){C=A(function(){re(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){R||k||(R=!0,Re(X))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(re){switch(x){case 1:case 2:case 3:var ce=3;break;default:ce=x}var oe=x;x=ce;try{return re()}finally{x=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,ce){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=x;x=re;try{return ce()}finally{x=oe}},n.unstable_scheduleCallback=function(re,ce,oe){var z=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?z+oe:z):oe=z,re){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=oe+Y,re={id:v++,callback:ce,priorityLevel:re,startTime:oe,expirationTime:Y,sortIndex:-1},oe>z?(re.sortIndex=oe,e(m,re),t(f)===null&&re===t(m)&&(M?($(C),C=-1):M=!0,ke(H,oe-z))):(re.sortIndex=Y,e(f,re),R||k||(R=!0,Re(X))),re},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(re){var ce=x;return function(){var oe=x;x=ce;try{return re.apply(this,arguments)}finally{x=oe}}}}(Gf)),Gf}var $0;function Ox(){return $0||($0=1,Kf.exports=Dx()),Kf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function Lx(){if(z0)return on;z0=1;var n=Od(),e=Ox();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function x(i){return f.call(E,i)?!0:f.call(v,i)?!1:m.test(i)?E[i]=!0:(v[i]=!0,!1)}function k(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function R(i,o,l,d){if(o===null||typeof o>"u"||k(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function M(i,o,l,d,p,y,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=T}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){A[i]=new M(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];A[o]=new M(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){A[i]=new M(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){A[i]=new M(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){A[i]=new M(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){A[i]=new M(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){A[i]=new M(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){A[i]=new M(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){A[i]=new M(i,5,!1,i.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function F(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace($,F);A[o]=new M(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace($,F);A[o]=new M(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace($,F);A[o]=new M(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){A[i]=new M(i,1,!1,i.toLowerCase(),null,!1,!1)}),A.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){A[i]=new M(i,1,!1,i.toLowerCase(),null,!0,!0)});function O(i,o,l,d){var p=A.hasOwnProperty(o)?A[o]:null;(p!==null?p.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(R(o,l,p,d)&&(l=null),d||p===null?x(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(o=p.attributeName,d=p.attributeNamespace,l===null?i.removeAttribute(o):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),ne=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),j=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),re=Symbol.iterator;function ce(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,z;function Y(i){if(z===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+i}var ue=!1;function Pe(i,o){if(!i||ue)return"";ue=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var d=G}Reflect.construct(i,[],o)}else{try{o.call()}catch(G){d=G}i.call(o.prototype)}else{try{throw Error()}catch(G){d=G}i()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var p=G.stack.split(`
`),y=d.stack.split(`
`),T=p.length-1,D=y.length-1;1<=T&&0<=D&&p[T]!==y[D];)D--;for(;1<=T&&0<=D;T--,D--)if(p[T]!==y[D]){if(T!==1||D!==1)do if(T--,D--,0>D||p[T]!==y[D]){var V=`
`+p[T].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=T&&0<=D);break}}}finally{ue=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Y(i):""}function xe(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=Pe(i.type,!1),i;case 11:return i=Pe(i.type.render,!1),i;case 1:return i=Pe(i.type,!0),i;default:return""}}function Oe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case ne:return"Portal";case P:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case de:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case j:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case U:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case De:return o=i.displayName||null,o!==null?o:Oe(i.type)||"Memo";case Re:o=i._payload,i=i._init;try{return Oe(i(o))}catch{}}return null}function Ne(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function je(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function He(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Tt(i){var o=He(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(T){d=""+T,y.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function xr(i){i._valueTracker||(i._valueTracker=Tt(i))}function eo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=He(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function ni(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ts(i,o){var l=o.checked;return oe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function to(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=je(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Sa(i,o){o=o.checked,o!=null&&O(i,"checked",o,!1)}function Ca(i,o){Sa(i,o);var l=je(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?no(i,o.type,l):o.hasOwnProperty("defaultValue")&&no(i,o.type,je(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function gu(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function no(i,o,l){(o!=="number"||ni(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Ir=Array.isArray;function Sr(i,o,l,d){if(i=i.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=o.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&d&&(i[l].defaultSelected=!0)}else{for(l=""+je(l),o=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function ka(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ro(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Ir(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:je(l)}}function io(i,o){var l=je(o.value),d=je(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function ba(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function gt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?gt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Cr,Ra=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,p){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,p)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Cr=Cr||document.createElement("div"),Cr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Cr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ri(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rs=["Webkit","ms","Moz","O"];Object.keys(ns).forEach(function(i){rs.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ns[o]=ns[i]})});function Pa(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||ns.hasOwnProperty(i)&&ns[i]?(""+o).trim():o+"px"}function Aa(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Pa(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,p):i[l]=p}}var Na=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Da(i,o){if(o){if(Na[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Oa(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var is=null;function so(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var oo=null,wn=null,ir=null;function ao(i){if(i=il(i)){if(typeof oo!="function")throw Error(t(280));var o=i.stateNode;o&&(o=qu(o),oo(i.stateNode,i.type,o))}}function sr(i){wn?ir?ir.push(i):ir=[i]:wn=i}function La(){if(wn){var i=wn,o=ir;if(ir=wn=null,ao(i),o)for(i=0;i<o.length;i++)ao(o[i])}}function ss(i,o){return i(o)}function ja(){}var kr=!1;function Ma(i,o,l){if(kr)return i(o,l);kr=!0;try{return ss(i,o,l)}finally{kr=!1,(wn!==null||ir!==null)&&(ja(),La())}}function lt(i,o){var l=i.stateNode;if(l===null)return null;var d=qu(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var lo=!1;if(h)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){lo=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{lo=!1}function os(i,o,l,d,p,y,T,D,V){var G=Array.prototype.slice.call(arguments,3);try{o.apply(l,G)}catch(te){this.onError(te)}}var as=!1,uo=null,On=!1,Va=null,yh={onError:function(i){as=!0,uo=i}};function co(i,o,l,d,p,y,T,D,V){as=!1,uo=null,os.apply(yh,arguments)}function yu(i,o,l,d,p,y,T,D,V){if(co.apply(this,arguments),as){if(as){var G=uo;as=!1,uo=null}else throw Error(t(198));On||(On=!0,Va=G)}}function Ln(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function ls(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function jn(i){if(Ln(i)!==i)throw Error(t(188))}function vu(i){var o=i.alternate;if(!o){if(o=Ln(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,d=o;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return jn(p),i;if(y===d)return jn(p),o;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=y;else{for(var T=!1,D=p.child;D;){if(D===l){T=!0,l=p,d=y;break}if(D===d){T=!0,d=p,l=y;break}D=D.sibling}if(!T){for(D=y.child;D;){if(D===l){T=!0,l=y,d=p;break}if(D===d){T=!0,d=y,l=p;break}D=D.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Fa(i){return i=vu(i),i!==null?ho(i):null}function ho(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=ho(i);if(o!==null)return o;i=i.sibling}return null}var fo=e.unstable_scheduleCallback,Ua=e.unstable_cancelCallback,_u=e.unstable_shouldYield,vh=e.unstable_requestPaint,Qe=e.unstable_now,wu=e.unstable_getCurrentPriorityLevel,us=e.unstable_ImmediatePriority,ii=e.unstable_UserBlockingPriority,En=e.unstable_NormalPriority,$a=e.unstable_LowPriority,Eu=e.unstable_IdlePriority,cs=null,dn=null;function Tu(i){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(cs,i,void 0,(i.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:Iu,za=Math.log,xu=Math.LN2;function Iu(i){return i>>>=0,i===0?32:31-(za(i)/xu|0)|0}var po=64,mo=4194304;function si(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ds(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,p=i.suspendedLanes,y=i.pingedLanes,T=l&268435455;if(T!==0){var D=T&~p;D!==0?d=si(D):(y&=T,y!==0&&(d=si(y)))}else T=l&~p,T!==0?d=si(T):y!==0&&(d=si(y));if(d===0)return 0;if(o!==0&&o!==d&&!(o&p)&&(p=d&-d,y=o&-o,p>=y||p===16&&(y&4194240)!==0))return o;if(d&4&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-qt(o),p=1<<l,d|=i[l],o&=~p;return d}function _h(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function br(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var T=31-qt(y),D=1<<T,V=p[T];V===-1?(!(D&l)||D&d)&&(p[T]=_h(D,o)):V<=o&&(i.expiredLanes|=D),y&=~D}}function hn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function hs(){var i=po;return po<<=1,!(po&4194240)&&(po=64),i}function oi(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function ai(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-qt(o),i[o]=l}function Ge(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-qt(l),y=1<<p;o[p]=0,d[p]=-1,i[p]=-1,l&=~y}}function li(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-qt(l),p=1<<d;p&o|i[d]&o&&(i[d]|=o),l&=~p}}var Fe=0;function ui(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Su,go,Cu,ku,bu,Ba=!1,or=[],Rt=null,Mn=null,Vn=null,ci=new Map,Tn=new Map,ar=[],wh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ru(i,o){switch(i){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":ci.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tn.delete(o.pointerId)}}function Jt(i,o,l,d,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},o!==null&&(o=il(o),o!==null&&go(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function Eh(i,o,l,d,p){switch(o){case"focusin":return Rt=Jt(Rt,i,o,l,d,p),!0;case"dragenter":return Mn=Jt(Mn,i,o,l,d,p),!0;case"mouseover":return Vn=Jt(Vn,i,o,l,d,p),!0;case"pointerover":var y=p.pointerId;return ci.set(y,Jt(ci.get(y)||null,i,o,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Tn.set(y,Jt(Tn.get(y)||null,i,o,l,d,p)),!0}return!1}function Pu(i){var o=ys(i.target);if(o!==null){var l=Ln(o);if(l!==null){if(o=l.tag,o===13){if(o=ls(l),o!==null){i.blockedOn=o,bu(i.priority,function(){Cu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Rr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=yo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);is=d,l.target.dispatchEvent(d),is=null}else return o=il(l),o!==null&&go(o),i.blockedOn=l,!1;o.shift()}return!0}function fs(i,o,l){Rr(i)&&l.delete(o)}function Au(){Ba=!1,Rt!==null&&Rr(Rt)&&(Rt=null),Mn!==null&&Rr(Mn)&&(Mn=null),Vn!==null&&Rr(Vn)&&(Vn=null),ci.forEach(fs),Tn.forEach(fs)}function Fn(i,o){i.blockedOn===o&&(i.blockedOn=null,Ba||(Ba=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Au)))}function Un(i){function o(p){return Fn(p,i)}if(0<or.length){Fn(or[0],i);for(var l=1;l<or.length;l++){var d=or[l];d.blockedOn===i&&(d.blockedOn=null)}}for(Rt!==null&&Fn(Rt,i),Mn!==null&&Fn(Mn,i),Vn!==null&&Fn(Vn,i),ci.forEach(o),Tn.forEach(o),l=0;l<ar.length;l++)d=ar[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<ar.length&&(l=ar[0],l.blockedOn===null);)Pu(l),l.blockedOn===null&&ar.shift()}var Pr=H.ReactCurrentBatchConfig,di=!0;function et(i,o,l,d){var p=Fe,y=Pr.transition;Pr.transition=null;try{Fe=1,Ha(i,o,l,d)}finally{Fe=p,Pr.transition=y}}function Th(i,o,l,d){var p=Fe,y=Pr.transition;Pr.transition=null;try{Fe=4,Ha(i,o,l,d)}finally{Fe=p,Pr.transition=y}}function Ha(i,o,l,d){if(di){var p=yo(i,o,l,d);if(p===null)Dh(i,o,d,ps,l),Ru(i,d);else if(Eh(p,i,o,l,d))d.stopPropagation();else if(Ru(i,d),o&4&&-1<wh.indexOf(i)){for(;p!==null;){var y=il(p);if(y!==null&&Su(y),y=yo(i,o,l,d),y===null&&Dh(i,o,d,ps,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else Dh(i,o,d,null,l)}}var ps=null;function yo(i,o,l,d){if(ps=null,i=so(d),i=ys(i),i!==null)if(o=Ln(i),o===null)i=null;else if(l=o.tag,l===13){if(i=ls(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return ps=i,null}function Wa(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wu()){case us:return 1;case ii:return 4;case En:case $a:return 16;case Eu:return 536870912;default:return 16}default:return 16}}var fn=null,vo=null,Zt=null;function qa(){if(Zt)return Zt;var i,o=vo,l=o.length,d,p="value"in fn?fn.value:fn.textContent,y=p.length;for(i=0;i<l&&o[i]===p[i];i++);var T=l-i;for(d=1;d<=T&&o[l-d]===p[y-d];d++);return Zt=p.slice(i,1<d?1-d:void 0)}function _o(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function lr(){return!0}function Ka(){return!1}function Pt(i){function o(l,d,p,y,T){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(l=i[D],this[D]=l?l(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?lr:Ka,this.isPropagationStopped=Ka,this}return oe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),o}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=Pt($n),ur=oe({},$n,{view:0,detail:0}),xh=Pt(ur),Eo,Ar,hi,ms=oe({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==hi&&(hi&&i.type==="mousemove"?(Eo=i.screenX-hi.screenX,Ar=i.screenY-hi.screenY):Ar=Eo=0,hi=i),Eo)},movementY:function(i){return"movementY"in i?i.movementY:Ar}}),To=Pt(ms),Ga=oe({},ms,{dataTransfer:0}),Nu=Pt(Ga),xo=oe({},ur,{relatedTarget:0}),Io=Pt(xo),Du=oe({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),Nr=Pt(Du),Ou=oe({},$n,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Lu=Pt(Ou),ju=oe({},$n,{data:0}),Qa=Pt(ju),So={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Mu[i])?!!o[i]:!1}function cr(){return Vu}var c=oe({},ur,{key:function(i){if(i.key){var o=So[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=_o(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Kt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(i){return i.type==="keypress"?_o(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_o(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Pt(c),w=oe({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Pt(w),W=oe({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),Q=Pt(W),ae=oe({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ke=Pt(ae),vt=oe({},ms,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$e=Pt(vt),xt=[9,13,27,32],ht=h&&"CompositionEvent"in window,xn=null;h&&"documentMode"in document&&(xn=document.documentMode);var pn=h&&"TextEvent"in window&&!xn,gs=h&&(!ht||xn&&8<xn&&11>=xn),Co=" ",Rg=!1;function Pg(i,o){switch(i){case"keyup":return xt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ag(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ko=!1;function CT(i,o){switch(i){case"compositionend":return Ag(o);case"keypress":return o.which!==32?null:(Rg=!0,Co);case"textInput":return i=o.data,i===Co&&Rg?null:i;default:return null}}function kT(i,o){if(ko)return i==="compositionend"||!ht&&Pg(i,o)?(i=qa(),Zt=vo=fn=null,ko=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return gs&&o.locale!=="ko"?null:o.data;default:return null}}var bT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!bT[i.type]:o==="textarea"}function Dg(i,o,l,d){sr(d),o=Bu(o,"onChange"),0<o.length&&(l=new wo("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var Ya=null,Xa=null;function RT(i){Xg(i,0)}function Fu(i){var o=No(i);if(eo(o))return i}function PT(i,o){if(i==="change")return o}var Og=!1;if(h){var Ih;if(h){var Sh="oninput"in document;if(!Sh){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Sh=typeof Lg.oninput=="function"}Ih=Sh}else Ih=!1;Og=Ih&&(!document.documentMode||9<document.documentMode)}function jg(){Ya&&(Ya.detachEvent("onpropertychange",Mg),Xa=Ya=null)}function Mg(i){if(i.propertyName==="value"&&Fu(Xa)){var o=[];Dg(o,Xa,i,so(i)),Ma(RT,o)}}function AT(i,o,l){i==="focusin"?(jg(),Ya=o,Xa=l,Ya.attachEvent("onpropertychange",Mg)):i==="focusout"&&jg()}function NT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Fu(Xa)}function DT(i,o){if(i==="click")return Fu(o)}function OT(i,o){if(i==="input"||i==="change")return Fu(o)}function LT(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var zn=typeof Object.is=="function"?Object.is:LT;function Ja(i,o){if(zn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(o,p)||!zn(i[p],o[p]))return!1}return!0}function Vg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Fg(i,o){var l=Vg(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Vg(l)}}function Ug(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Ug(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function $g(){for(var i=window,o=ni();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=ni(i.document)}return o}function Ch(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function jT(i){var o=$g(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Ug(l.ownerDocument.documentElement,l)){if(d!==null&&Ch(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!i.extend&&y>d&&(p=d,d=y,y=p),p=Fg(l,y);var T=Fg(l,d);p&&T&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),i.removeAllRanges(),y>d?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var MT=h&&"documentMode"in document&&11>=document.documentMode,bo=null,kh=null,Za=null,bh=!1;function zg(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;bh||bo==null||bo!==ni(d)||(d=bo,"selectionStart"in d&&Ch(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Za&&Ja(Za,d)||(Za=d,d=Bu(kh,"onSelect"),0<d.length&&(o=new wo("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=bo)))}function Uu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Ro={animationend:Uu("Animation","AnimationEnd"),animationiteration:Uu("Animation","AnimationIteration"),animationstart:Uu("Animation","AnimationStart"),transitionend:Uu("Transition","TransitionEnd")},Rh={},Bg={};h&&(Bg=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function $u(i){if(Rh[i])return Rh[i];if(!Ro[i])return i;var o=Ro[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Bg)return Rh[i]=o[l];return i}var Hg=$u("animationend"),Wg=$u("animationiteration"),qg=$u("animationstart"),Kg=$u("transitionend"),Gg=new Map,Qg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(i,o){Gg.set(i,o),a(o,[i])}for(var Ph=0;Ph<Qg.length;Ph++){var Ah=Qg[Ph],VT=Ah.toLowerCase(),FT=Ah[0].toUpperCase()+Ah.slice(1);fi(VT,"on"+FT)}fi(Hg,"onAnimationEnd"),fi(Wg,"onAnimationIteration"),fi(qg,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(Kg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UT=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function Yg(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,yu(d,o,void 0,i),i.currentTarget=null}function Xg(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],p=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var T=d.length-1;0<=T;T--){var D=d[T],V=D.instance,G=D.currentTarget;if(D=D.listener,V!==y&&p.isPropagationStopped())break e;Yg(p,D,G),y=V}else for(T=0;T<d.length;T++){if(D=d[T],V=D.instance,G=D.currentTarget,D=D.listener,V!==y&&p.isPropagationStopped())break e;Yg(p,D,G),y=V}}}if(On)throw i=Va,On=!1,Va=null,i}function Xe(i,o){var l=o[Fh];l===void 0&&(l=o[Fh]=new Set);var d=i+"__bubble";l.has(d)||(Jg(o,i,2,!1),l.add(d))}function Nh(i,o,l){var d=0;o&&(d|=4),Jg(l,i,d,o)}var zu="_reactListening"+Math.random().toString(36).slice(2);function tl(i){if(!i[zu]){i[zu]=!0,r.forEach(function(l){l!=="selectionchange"&&(UT.has(l)||Nh(l,!1,i),Nh(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[zu]||(o[zu]=!0,Nh("selectionchange",!1,o))}}function Jg(i,o,l,d){switch(Wa(o)){case 1:var p=et;break;case 4:p=Th;break;default:p=Ha}l=p.bind(null,o,l,i),p=void 0,!lo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(o,l,{capture:!0,passive:p}):i.addEventListener(o,l,!0):p!==void 0?i.addEventListener(o,l,{passive:p}):i.addEventListener(o,l,!1)}function Dh(i,o,l,d,p){var y=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var D=d.stateNode.containerInfo;if(D===p||D.nodeType===8&&D.parentNode===p)break;if(T===4)for(T=d.return;T!==null;){var V=T.tag;if((V===3||V===4)&&(V=T.stateNode.containerInfo,V===p||V.nodeType===8&&V.parentNode===p))return;T=T.return}for(;D!==null;){if(T=ys(D),T===null)return;if(V=T.tag,V===5||V===6){d=y=T;continue e}D=D.parentNode}}d=d.return}Ma(function(){var G=y,te=so(l),ie=[];e:{var ee=Gg.get(i);if(ee!==void 0){var he=wo,ge=i;switch(i){case"keypress":if(_o(l)===0)break e;case"keydown":case"keyup":he=g;break;case"focusin":ge="focus",he=Io;break;case"focusout":ge="blur",he=Io;break;case"beforeblur":case"afterblur":he=Io;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=To;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Q;break;case Hg:case Wg:case qg:he=Nr;break;case Kg:he=Ke;break;case"scroll":he=xh;break;case"wheel":he=$e;break;case"copy":case"cut":case"paste":he=Lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=S}var ye=(o&4)!==0,ut=!ye&&i==="scroll",q=ye?ee!==null?ee+"Capture":null:ee;ye=[];for(var B=G,K;B!==null;){K=B;var se=K.stateNode;if(K.tag===5&&se!==null&&(K=se,q!==null&&(se=lt(B,q),se!=null&&ye.push(nl(B,se,K)))),ut)break;B=B.return}0<ye.length&&(ee=new he(ee,ge,null,l,te),ie.push({event:ee,listeners:ye}))}}if(!(o&7)){e:{if(ee=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",ee&&l!==is&&(ge=l.relatedTarget||l.fromElement)&&(ys(ge)||ge[Dr]))break e;if((he||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,he?(ge=l.relatedTarget||l.toElement,he=G,ge=ge?ys(ge):null,ge!==null&&(ut=Ln(ge),ge!==ut||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(he=null,ge=G),he!==ge)){if(ye=To,se="onMouseLeave",q="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(ye=S,se="onPointerLeave",q="onPointerEnter",B="pointer"),ut=he==null?ee:No(he),K=ge==null?ee:No(ge),ee=new ye(se,B+"leave",he,l,te),ee.target=ut,ee.relatedTarget=K,se=null,ys(te)===G&&(ye=new ye(q,B+"enter",ge,l,te),ye.target=K,ye.relatedTarget=ut,se=ye),ut=se,he&&ge)t:{for(ye=he,q=ge,B=0,K=ye;K;K=Po(K))B++;for(K=0,se=q;se;se=Po(se))K++;for(;0<B-K;)ye=Po(ye),B--;for(;0<K-B;)q=Po(q),K--;for(;B--;){if(ye===q||q!==null&&ye===q.alternate)break t;ye=Po(ye),q=Po(q)}ye=null}else ye=null;he!==null&&Zg(ie,ee,he,ye,!1),ge!==null&&ut!==null&&Zg(ie,ut,ge,ye,!0)}}e:{if(ee=G?No(G):window,he=ee.nodeName&&ee.nodeName.toLowerCase(),he==="select"||he==="input"&&ee.type==="file")var ve=PT;else if(Ng(ee))if(Og)ve=OT;else{ve=NT;var we=AT}else(he=ee.nodeName)&&he.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ve=DT);if(ve&&(ve=ve(i,G))){Dg(ie,ve,l,te);break e}we&&we(i,ee,G),i==="focusout"&&(we=ee._wrapperState)&&we.controlled&&ee.type==="number"&&no(ee,"number",ee.value)}switch(we=G?No(G):window,i){case"focusin":(Ng(we)||we.contentEditable==="true")&&(bo=we,kh=G,Za=null);break;case"focusout":Za=kh=bo=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,zg(ie,l,te);break;case"selectionchange":if(MT)break;case"keydown":case"keyup":zg(ie,l,te)}var Ee;if(ht)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else ko?Pg(i,l)&&(Ie="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ie="onCompositionStart");Ie&&(gs&&l.locale!=="ko"&&(ko||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&ko&&(Ee=qa()):(fn=te,vo="value"in fn?fn.value:fn.textContent,ko=!0)),we=Bu(G,Ie),0<we.length&&(Ie=new Qa(Ie,i,null,l,te),ie.push({event:Ie,listeners:we}),Ee?Ie.data=Ee:(Ee=Ag(l),Ee!==null&&(Ie.data=Ee)))),(Ee=pn?CT(i,l):kT(i,l))&&(G=Bu(G,"onBeforeInput"),0<G.length&&(te=new Qa("onBeforeInput","beforeinput",null,l,te),ie.push({event:te,listeners:G}),te.data=Ee))}Xg(ie,o)})}function nl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Bu(i,o){for(var l=o+"Capture",d=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=lt(i,l),y!=null&&d.unshift(nl(i,y,p)),y=lt(i,o),y!=null&&d.push(nl(i,y,p))),i=i.return}return d}function Po(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Zg(i,o,l,d,p){for(var y=o._reactName,T=[];l!==null&&l!==d;){var D=l,V=D.alternate,G=D.stateNode;if(V!==null&&V===d)break;D.tag===5&&G!==null&&(D=G,p?(V=lt(l,y),V!=null&&T.unshift(nl(l,V,D))):p||(V=lt(l,y),V!=null&&T.push(nl(l,V,D)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var $T=/\r\n?/g,zT=/\u0000|\uFFFD/g;function ey(i){return(typeof i=="string"?i:""+i).replace($T,`
`).replace(zT,"")}function Hu(i,o,l){if(o=ey(o),ey(i)!==o&&l)throw Error(t(425))}function Wu(){}var Oh=null,Lh=null;function jh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Mh=typeof setTimeout=="function"?setTimeout:void 0,BT=typeof clearTimeout=="function"?clearTimeout:void 0,ty=typeof Promise=="function"?Promise:void 0,HT=typeof queueMicrotask=="function"?queueMicrotask:typeof ty<"u"?function(i){return ty.resolve(null).then(i).catch(WT)}:Mh;function WT(i){setTimeout(function(){throw i})}function Vh(i,o){var l=o,d=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){i.removeChild(p),Un(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);Un(o)}function pi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function ny(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),dr="__reactFiber$"+Ao,rl="__reactProps$"+Ao,Dr="__reactContainer$"+Ao,Fh="__reactEvents$"+Ao,qT="__reactListeners$"+Ao,KT="__reactHandles$"+Ao;function ys(i){var o=i[dr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Dr]||l[dr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=ny(i);i!==null;){if(l=i[dr])return l;i=ny(i)}return o}i=l,l=i.parentNode}return null}function il(i){return i=i[dr]||i[Dr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function No(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function qu(i){return i[rl]||null}var Uh=[],Do=-1;function mi(i){return{current:i}}function Je(i){0>Do||(i.current=Uh[Do],Uh[Do]=null,Do--)}function Ye(i,o){Do++,Uh[Do]=i.current,i.current=o}var gi={},Vt=mi(gi),en=mi(!1),vs=gi;function Oo(i,o){var l=i.type.contextTypes;if(!l)return gi;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=o[y];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=p),p}function tn(i){return i=i.childContextTypes,i!=null}function Ku(){Je(en),Je(Vt)}function ry(i,o,l){if(Vt.current!==gi)throw Error(t(168));Ye(Vt,o),Ye(en,l)}function iy(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in o))throw Error(t(108,Ne(i)||"Unknown",p));return oe({},l,d)}function Gu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||gi,vs=Vt.current,Ye(Vt,i),Ye(en,en.current),!0}function sy(i,o,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=iy(i,o,vs),d.__reactInternalMemoizedMergedChildContext=i,Je(en),Je(Vt),Ye(Vt,i)):Je(en),Ye(en,l)}var Or=null,Qu=!1,$h=!1;function oy(i){Or===null?Or=[i]:Or.push(i)}function GT(i){Qu=!0,oy(i)}function yi(){if(!$h&&Or!==null){$h=!0;var i=0,o=Fe;try{var l=Or;for(Fe=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}Or=null,Qu=!1}catch(p){throw Or!==null&&(Or=Or.slice(i+1)),fo(us,yi),p}finally{Fe=o,$h=!1}}return null}var Lo=[],jo=0,Yu=null,Xu=0,In=[],Sn=0,_s=null,Lr=1,jr="";function ws(i,o){Lo[jo++]=Xu,Lo[jo++]=Yu,Yu=i,Xu=o}function ay(i,o,l){In[Sn++]=Lr,In[Sn++]=jr,In[Sn++]=_s,_s=i;var d=Lr;i=jr;var p=32-qt(d)-1;d&=~(1<<p),l+=1;var y=32-qt(o)+p;if(30<y){var T=p-p%5;y=(d&(1<<T)-1).toString(32),d>>=T,p-=T,Lr=1<<32-qt(o)+p|l<<p|d,jr=y+i}else Lr=1<<y|l<<p|d,jr=i}function zh(i){i.return!==null&&(ws(i,1),ay(i,1,0))}function Bh(i){for(;i===Yu;)Yu=Lo[--jo],Lo[jo]=null,Xu=Lo[--jo],Lo[jo]=null;for(;i===_s;)_s=In[--Sn],In[Sn]=null,jr=In[--Sn],In[Sn]=null,Lr=In[--Sn],In[Sn]=null}var mn=null,gn=null,tt=!1,Bn=null;function ly(i,o){var l=Rn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function uy(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,mn=i,gn=pi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,mn=i,gn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=_s!==null?{id:Lr,overflow:jr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Rn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,mn=i,gn=null,!0):!1;default:return!1}}function Hh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Wh(i){if(tt){var o=gn;if(o){var l=o;if(!uy(i,o)){if(Hh(i))throw Error(t(418));o=pi(l.nextSibling);var d=mn;o&&uy(i,o)?ly(d,l):(i.flags=i.flags&-4097|2,tt=!1,mn=i)}}else{if(Hh(i))throw Error(t(418));i.flags=i.flags&-4097|2,tt=!1,mn=i}}}function cy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;mn=i}function Ju(i){if(i!==mn)return!1;if(!tt)return cy(i),tt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!jh(i.type,i.memoizedProps)),o&&(o=gn)){if(Hh(i))throw dy(),Error(t(418));for(;o;)ly(i,o),o=pi(o.nextSibling)}if(cy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){gn=pi(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}gn=null}}else gn=mn?pi(i.stateNode.nextSibling):null;return!0}function dy(){for(var i=gn;i;)i=pi(i.nextSibling)}function Mo(){gn=mn=null,tt=!1}function qh(i){Bn===null?Bn=[i]:Bn.push(i)}var QT=H.ReactCurrentBatchConfig;function sl(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var p=d,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(T){var D=p.refs;T===null?delete D[y]:D[y]=T},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Zu(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function hy(i){var o=i._init;return o(i._payload)}function fy(i){function o(q,B){if(i){var K=q.deletions;K===null?(q.deletions=[B],q.flags|=16):K.push(B)}}function l(q,B){if(!i)return null;for(;B!==null;)o(q,B),B=B.sibling;return null}function d(q,B){for(q=new Map;B!==null;)B.key!==null?q.set(B.key,B):q.set(B.index,B),B=B.sibling;return q}function p(q,B){return q=Si(q,B),q.index=0,q.sibling=null,q}function y(q,B,K){return q.index=K,i?(K=q.alternate,K!==null?(K=K.index,K<B?(q.flags|=2,B):K):(q.flags|=2,B)):(q.flags|=1048576,B)}function T(q){return i&&q.alternate===null&&(q.flags|=2),q}function D(q,B,K,se){return B===null||B.tag!==6?(B=Vf(K,q.mode,se),B.return=q,B):(B=p(B,K),B.return=q,B)}function V(q,B,K,se){var ve=K.type;return ve===b?te(q,B,K.props.children,se,K.key):B!==null&&(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Re&&hy(ve)===B.type)?(se=p(B,K.props),se.ref=sl(q,B,K),se.return=q,se):(se=xc(K.type,K.key,K.props,null,q.mode,se),se.ref=sl(q,B,K),se.return=q,se)}function G(q,B,K,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Ff(K,q.mode,se),B.return=q,B):(B=p(B,K.children||[]),B.return=q,B)}function te(q,B,K,se,ve){return B===null||B.tag!==7?(B=bs(K,q.mode,se,ve),B.return=q,B):(B=p(B,K),B.return=q,B)}function ie(q,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Vf(""+B,q.mode,K),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case X:return K=xc(B.type,B.key,B.props,null,q.mode,K),K.ref=sl(q,null,B),K.return=q,K;case ne:return B=Ff(B,q.mode,K),B.return=q,B;case Re:var se=B._init;return ie(q,se(B._payload),K)}if(Ir(B)||ce(B))return B=bs(B,q.mode,K,null),B.return=q,B;Zu(q,B)}return null}function ee(q,B,K,se){var ve=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ve!==null?null:D(q,B,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case X:return K.key===ve?V(q,B,K,se):null;case ne:return K.key===ve?G(q,B,K,se):null;case Re:return ve=K._init,ee(q,B,ve(K._payload),se)}if(Ir(K)||ce(K))return ve!==null?null:te(q,B,K,se,null);Zu(q,K)}return null}function he(q,B,K,se,ve){if(typeof se=="string"&&se!==""||typeof se=="number")return q=q.get(K)||null,D(B,q,""+se,ve);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case X:return q=q.get(se.key===null?K:se.key)||null,V(B,q,se,ve);case ne:return q=q.get(se.key===null?K:se.key)||null,G(B,q,se,ve);case Re:var we=se._init;return he(q,B,K,we(se._payload),ve)}if(Ir(se)||ce(se))return q=q.get(K)||null,te(B,q,se,ve,null);Zu(B,se)}return null}function ge(q,B,K,se){for(var ve=null,we=null,Ee=B,Ie=B=0,Ct=null;Ee!==null&&Ie<K.length;Ie++){Ee.index>Ie?(Ct=Ee,Ee=null):Ct=Ee.sibling;var We=ee(q,Ee,K[Ie],se);if(We===null){Ee===null&&(Ee=Ct);break}i&&Ee&&We.alternate===null&&o(q,Ee),B=y(We,B,Ie),we===null?ve=We:we.sibling=We,we=We,Ee=Ct}if(Ie===K.length)return l(q,Ee),tt&&ws(q,Ie),ve;if(Ee===null){for(;Ie<K.length;Ie++)Ee=ie(q,K[Ie],se),Ee!==null&&(B=y(Ee,B,Ie),we===null?ve=Ee:we.sibling=Ee,we=Ee);return tt&&ws(q,Ie),ve}for(Ee=d(q,Ee);Ie<K.length;Ie++)Ct=he(Ee,q,Ie,K[Ie],se),Ct!==null&&(i&&Ct.alternate!==null&&Ee.delete(Ct.key===null?Ie:Ct.key),B=y(Ct,B,Ie),we===null?ve=Ct:we.sibling=Ct,we=Ct);return i&&Ee.forEach(function(Ci){return o(q,Ci)}),tt&&ws(q,Ie),ve}function ye(q,B,K,se){var ve=ce(K);if(typeof ve!="function")throw Error(t(150));if(K=ve.call(K),K==null)throw Error(t(151));for(var we=ve=null,Ee=B,Ie=B=0,Ct=null,We=K.next();Ee!==null&&!We.done;Ie++,We=K.next()){Ee.index>Ie?(Ct=Ee,Ee=null):Ct=Ee.sibling;var Ci=ee(q,Ee,We.value,se);if(Ci===null){Ee===null&&(Ee=Ct);break}i&&Ee&&Ci.alternate===null&&o(q,Ee),B=y(Ci,B,Ie),we===null?ve=Ci:we.sibling=Ci,we=Ci,Ee=Ct}if(We.done)return l(q,Ee),tt&&ws(q,Ie),ve;if(Ee===null){for(;!We.done;Ie++,We=K.next())We=ie(q,We.value,se),We!==null&&(B=y(We,B,Ie),we===null?ve=We:we.sibling=We,we=We);return tt&&ws(q,Ie),ve}for(Ee=d(q,Ee);!We.done;Ie++,We=K.next())We=he(Ee,q,Ie,We.value,se),We!==null&&(i&&We.alternate!==null&&Ee.delete(We.key===null?Ie:We.key),B=y(We,B,Ie),we===null?ve=We:we.sibling=We,we=We);return i&&Ee.forEach(function(kx){return o(q,kx)}),tt&&ws(q,Ie),ve}function ut(q,B,K,se){if(typeof K=="object"&&K!==null&&K.type===b&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case X:e:{for(var ve=K.key,we=B;we!==null;){if(we.key===ve){if(ve=K.type,ve===b){if(we.tag===7){l(q,we.sibling),B=p(we,K.props.children),B.return=q,q=B;break e}}else if(we.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Re&&hy(ve)===we.type){l(q,we.sibling),B=p(we,K.props),B.ref=sl(q,we,K),B.return=q,q=B;break e}l(q,we);break}else o(q,we);we=we.sibling}K.type===b?(B=bs(K.props.children,q.mode,se,K.key),B.return=q,q=B):(se=xc(K.type,K.key,K.props,null,q.mode,se),se.ref=sl(q,B,K),se.return=q,q=se)}return T(q);case ne:e:{for(we=K.key;B!==null;){if(B.key===we)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){l(q,B.sibling),B=p(B,K.children||[]),B.return=q,q=B;break e}else{l(q,B);break}else o(q,B);B=B.sibling}B=Ff(K,q.mode,se),B.return=q,q=B}return T(q);case Re:return we=K._init,ut(q,B,we(K._payload),se)}if(Ir(K))return ge(q,B,K,se);if(ce(K))return ye(q,B,K,se);Zu(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(l(q,B.sibling),B=p(B,K),B.return=q,q=B):(l(q,B),B=Vf(K,q.mode,se),B.return=q,q=B),T(q)):l(q,B)}return ut}var Vo=fy(!0),py=fy(!1),ec=mi(null),tc=null,Fo=null,Kh=null;function Gh(){Kh=Fo=tc=null}function Qh(i){var o=ec.current;Je(ec),i._currentValue=o}function Yh(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function Uo(i,o){tc=i,Kh=Fo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(nn=!0),i.firstContext=null)}function Cn(i){var o=i._currentValue;if(Kh!==i)if(i={context:i,memoizedValue:o,next:null},Fo===null){if(tc===null)throw Error(t(308));Fo=i,tc.dependencies={lanes:0,firstContext:i}}else Fo=Fo.next=i;return o}var Es=null;function Xh(i){Es===null?Es=[i]:Es.push(i)}function my(i,o,l,d){var p=o.interleaved;return p===null?(l.next=l,Xh(o)):(l.next=p.next,p.next=l),o.interleaved=l,Mr(i,d)}function Mr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var vi=!1;function Jh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Vr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function _i(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,Be&2){var p=d.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),d.pending=o,Mr(i,l)}return p=d.interleaved,p===null?(o.next=o,Xh(d)):(o.next=p.next,p.next=o),d.interleaved=o,Mr(i,l)}function nc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,li(i,l)}}function yy(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=o:y=y.next=o}else p=y=o;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function rc(i,o,l,d){var p=i.updateQueue;vi=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var V=D,G=V.next;V.next=null,T===null?y=G:T.next=G,T=V;var te=i.alternate;te!==null&&(te=te.updateQueue,D=te.lastBaseUpdate,D!==T&&(D===null?te.firstBaseUpdate=G:D.next=G,te.lastBaseUpdate=V))}if(y!==null){var ie=p.baseState;T=0,te=G=V=null,D=y;do{var ee=D.lane,he=D.eventTime;if((d&ee)===ee){te!==null&&(te=te.next={eventTime:he,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var ge=i,ye=D;switch(ee=o,he=l,ye.tag){case 1:if(ge=ye.payload,typeof ge=="function"){ie=ge.call(he,ie,ee);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ye.payload,ee=typeof ge=="function"?ge.call(he,ie,ee):ge,ee==null)break e;ie=oe({},ie,ee);break e;case 2:vi=!0}}D.callback!==null&&D.lane!==0&&(i.flags|=64,ee=p.effects,ee===null?p.effects=[D]:ee.push(D))}else he={eventTime:he,lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},te===null?(G=te=he,V=ie):te=te.next=he,T|=ee;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;ee=D,D=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);if(te===null&&(V=ie),p.baseState=V,p.firstBaseUpdate=G,p.lastBaseUpdate=te,o=p.shared.interleaved,o!==null){p=o;do T|=p.lane,p=p.next;while(p!==o)}else y===null&&(p.shared.lanes=0);Is|=T,i.lanes=T,i.memoizedState=ie}}function vy(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var ol={},hr=mi(ol),al=mi(ol),ll=mi(ol);function Ts(i){if(i===ol)throw Error(t(174));return i}function Zh(i,o){switch(Ye(ll,o),Ye(al,i),Ye(hr,ol),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:yt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=yt(o,i)}Je(hr),Ye(hr,o)}function $o(){Je(hr),Je(al),Je(ll)}function _y(i){Ts(ll.current);var o=Ts(hr.current),l=yt(o,i.type);o!==l&&(Ye(al,i),Ye(hr,l))}function ef(i){al.current===i&&(Je(hr),Je(al))}var rt=mi(0);function ic(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var tf=[];function nf(){for(var i=0;i<tf.length;i++)tf[i]._workInProgressVersionPrimary=null;tf.length=0}var sc=H.ReactCurrentDispatcher,rf=H.ReactCurrentBatchConfig,xs=0,it=null,_t=null,It=null,oc=!1,ul=!1,cl=0,YT=0;function Ft(){throw Error(t(321))}function sf(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!zn(i[l],o[l]))return!1;return!0}function of(i,o,l,d,p,y){if(xs=y,it=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,sc.current=i===null||i.memoizedState===null?ex:tx,i=l(d,p),ul){y=0;do{if(ul=!1,cl=0,25<=y)throw Error(t(301));y+=1,It=_t=null,o.updateQueue=null,sc.current=nx,i=l(d,p)}while(ul)}if(sc.current=uc,o=_t!==null&&_t.next!==null,xs=0,It=_t=it=null,oc=!1,o)throw Error(t(300));return i}function af(){var i=cl!==0;return cl=0,i}function fr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?it.memoizedState=It=i:It=It.next=i,It}function kn(){if(_t===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=_t.next;var o=It===null?it.memoizedState:It.next;if(o!==null)It=o,_t=i;else{if(i===null)throw Error(t(310));_t=i,i={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},It===null?it.memoizedState=It=i:It=It.next=i}return It}function dl(i,o){return typeof o=="function"?o(i):o}function lf(i){var o=kn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=_t,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var D=T=null,V=null,G=y;do{var te=G.lane;if((xs&te)===te)V!==null&&(V=V.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:i(d,G.action);else{var ie={lane:te,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};V===null?(D=V=ie,T=d):V=V.next=ie,it.lanes|=te,Is|=te}G=G.next}while(G!==null&&G!==y);V===null?T=d:V.next=D,zn(d,o.memoizedState)||(nn=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=V,l.lastRenderedState=d}if(i=l.interleaved,i!==null){p=i;do y=p.lane,it.lanes|=y,Is|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function uf(i){var o=kn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,p=l.pending,y=o.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=i(y,T.action),T=T.next;while(T!==p);zn(y,o.memoizedState)||(nn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,d]}function wy(){}function Ey(i,o){var l=it,d=kn(),p=o(),y=!zn(d.memoizedState,p);if(y&&(d.memoizedState=p,nn=!0),d=d.queue,cf(Iy.bind(null,l,d,i),[i]),d.getSnapshot!==o||y||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,hl(9,xy.bind(null,l,d,p,o),void 0,null),St===null)throw Error(t(349));xs&30||Ty(l,o,p)}return p}function Ty(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=it.updateQueue,o===null?(o={lastEffect:null,stores:null},it.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function xy(i,o,l,d){o.value=l,o.getSnapshot=d,Sy(o)&&Cy(i)}function Iy(i,o,l){return l(function(){Sy(o)&&Cy(i)})}function Sy(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!zn(i,l)}catch{return!0}}function Cy(i){var o=Mr(i,1);o!==null&&Kn(o,i,1,-1)}function ky(i){var o=fr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:i},o.queue=i,i=i.dispatch=ZT.bind(null,it,i),[o.memoizedState,i]}function hl(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=it.updateQueue,o===null?(o={lastEffect:null,stores:null},it.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function by(){return kn().memoizedState}function ac(i,o,l,d){var p=fr();it.flags|=i,p.memoizedState=hl(1|o,l,void 0,d===void 0?null:d)}function lc(i,o,l,d){var p=kn();d=d===void 0?null:d;var y=void 0;if(_t!==null){var T=_t.memoizedState;if(y=T.destroy,d!==null&&sf(d,T.deps)){p.memoizedState=hl(o,l,y,d);return}}it.flags|=i,p.memoizedState=hl(1|o,l,y,d)}function Ry(i,o){return ac(8390656,8,i,o)}function cf(i,o){return lc(2048,8,i,o)}function Py(i,o){return lc(4,2,i,o)}function Ay(i,o){return lc(4,4,i,o)}function Ny(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Dy(i,o,l){return l=l!=null?l.concat([i]):null,lc(4,4,Ny.bind(null,o,i),l)}function df(){}function Oy(i,o){var l=kn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&sf(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function Ly(i,o){var l=kn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&sf(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function jy(i,o,l){return xs&21?(zn(l,o)||(l=hs(),it.lanes|=l,Is|=l,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,nn=!0),i.memoizedState=l)}function XT(i,o){var l=Fe;Fe=l!==0&&4>l?l:4,i(!0);var d=rf.transition;rf.transition={};try{i(!1),o()}finally{Fe=l,rf.transition=d}}function My(){return kn().memoizedState}function JT(i,o,l){var d=xi(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Vy(i))Fy(o,l);else if(l=my(i,o,l,d),l!==null){var p=Qt();Kn(l,i,d,p),Uy(l,o,d)}}function ZT(i,o,l){var d=xi(i),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Vy(i))Fy(o,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,D=y(T,l);if(p.hasEagerState=!0,p.eagerState=D,zn(D,T)){var V=o.interleaved;V===null?(p.next=p,Xh(o)):(p.next=V.next,V.next=p),o.interleaved=p;return}}catch{}finally{}l=my(i,o,p,d),l!==null&&(p=Qt(),Kn(l,i,d,p),Uy(l,o,d))}}function Vy(i){var o=i.alternate;return i===it||o!==null&&o===it}function Fy(i,o){ul=oc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Uy(i,o,l){if(l&4194240){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,li(i,l)}}var uc={readContext:Cn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},ex={readContext:Cn,useCallback:function(i,o){return fr().memoizedState=[i,o===void 0?null:o],i},useContext:Cn,useEffect:Ry,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,ac(4194308,4,Ny.bind(null,o,i),l)},useLayoutEffect:function(i,o){return ac(4194308,4,i,o)},useInsertionEffect:function(i,o){return ac(4,2,i,o)},useMemo:function(i,o){var l=fr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=fr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=JT.bind(null,it,i),[d.memoizedState,i]},useRef:function(i){var o=fr();return i={current:i},o.memoizedState=i},useState:ky,useDebugValue:df,useDeferredValue:function(i){return fr().memoizedState=i},useTransition:function(){var i=ky(!1),o=i[0];return i=XT.bind(null,i[1]),fr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=it,p=fr();if(tt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),St===null)throw Error(t(349));xs&30||Ty(d,o,l)}p.memoizedState=l;var y={value:l,getSnapshot:o};return p.queue=y,Ry(Iy.bind(null,d,y,i),[i]),d.flags|=2048,hl(9,xy.bind(null,d,y,l,o),void 0,null),l},useId:function(){var i=fr(),o=St.identifierPrefix;if(tt){var l=jr,d=Lr;l=(d&~(1<<32-qt(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=cl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=YT++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},tx={readContext:Cn,useCallback:Oy,useContext:Cn,useEffect:cf,useImperativeHandle:Dy,useInsertionEffect:Py,useLayoutEffect:Ay,useMemo:Ly,useReducer:lf,useRef:by,useState:function(){return lf(dl)},useDebugValue:df,useDeferredValue:function(i){var o=kn();return jy(o,_t.memoizedState,i)},useTransition:function(){var i=lf(dl)[0],o=kn().memoizedState;return[i,o]},useMutableSource:wy,useSyncExternalStore:Ey,useId:My,unstable_isNewReconciler:!1},nx={readContext:Cn,useCallback:Oy,useContext:Cn,useEffect:cf,useImperativeHandle:Dy,useInsertionEffect:Py,useLayoutEffect:Ay,useMemo:Ly,useReducer:uf,useRef:by,useState:function(){return uf(dl)},useDebugValue:df,useDeferredValue:function(i){var o=kn();return _t===null?o.memoizedState=i:jy(o,_t.memoizedState,i)},useTransition:function(){var i=uf(dl)[0],o=kn().memoizedState;return[i,o]},useMutableSource:wy,useSyncExternalStore:Ey,useId:My,unstable_isNewReconciler:!1};function Hn(i,o){if(i&&i.defaultProps){o=oe({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function hf(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:oe({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var cc={isMounted:function(i){return(i=i._reactInternals)?Ln(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=Qt(),p=xi(i),y=Vr(d,p);y.payload=o,l!=null&&(y.callback=l),o=_i(i,y,p),o!==null&&(Kn(o,i,p,d),nc(o,i,p))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=Qt(),p=xi(i),y=Vr(d,p);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=_i(i,y,p),o!==null&&(Kn(o,i,p,d),nc(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Qt(),d=xi(i),p=Vr(l,d);p.tag=2,o!=null&&(p.callback=o),o=_i(i,p,d),o!==null&&(Kn(o,i,d,l),nc(o,i,d))}};function $y(i,o,l,d,p,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,T):o.prototype&&o.prototype.isPureReactComponent?!Ja(l,d)||!Ja(p,y):!0}function zy(i,o,l){var d=!1,p=gi,y=o.contextType;return typeof y=="object"&&y!==null?y=Cn(y):(p=tn(o)?vs:Vt.current,d=o.contextTypes,y=(d=d!=null)?Oo(i,p):gi),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=cc,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),o}function By(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&cc.enqueueReplaceState(o,o.state,null)}function ff(i,o,l,d){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},Jh(i);var y=o.contextType;typeof y=="object"&&y!==null?p.context=Cn(y):(y=tn(o)?vs:Vt.current,p.context=Oo(i,y)),p.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(hf(i,o,y,l),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&cc.enqueueReplaceState(p,p.state,null),rc(i,l,p,d),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function zo(i,o){try{var l="",d=o;do l+=xe(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:p,digest:null}}function pf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function mf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var rx=typeof WeakMap=="function"?WeakMap:Map;function Hy(i,o,l){l=Vr(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){yc||(yc=!0,Pf=d),mf(i,o)},l}function Wy(i,o,l){l=Vr(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var p=o.value;l.payload=function(){return d(p)},l.callback=function(){mf(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){mf(i,o),typeof d!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function qy(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new rx;var p=new Set;d.set(o,p)}else p=d.get(o),p===void 0&&(p=new Set,d.set(o,p));p.has(l)||(p.add(l),i=yx.bind(null,i,o,l),o.then(i,i))}function Ky(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Gy(i,o,l,d,p){return i.mode&1?(i.flags|=65536,i.lanes=p,i):(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Vr(-1,1),o.tag=2,_i(l,o,1))),l.lanes|=1),i)}var ix=H.ReactCurrentOwner,nn=!1;function Gt(i,o,l,d){o.child=i===null?py(o,null,l,d):Vo(o,i.child,l,d)}function Qy(i,o,l,d,p){l=l.render;var y=o.ref;return Uo(o,p),d=of(i,o,l,d,y,p),l=af(),i!==null&&!nn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,Fr(i,o,p)):(tt&&l&&zh(o),o.flags|=1,Gt(i,o,d,p),o.child)}function Yy(i,o,l,d,p){if(i===null){var y=l.type;return typeof y=="function"&&!Mf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,Xy(i,o,y,d,p)):(i=xc(l.type,null,d,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,!(i.lanes&p)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ja,l(T,d)&&i.ref===o.ref)return Fr(i,o,p)}return o.flags|=1,i=Si(y,d),i.ref=o.ref,i.return=o,o.child=i}function Xy(i,o,l,d,p){if(i!==null){var y=i.memoizedProps;if(Ja(y,d)&&i.ref===o.ref)if(nn=!1,o.pendingProps=d=y,(i.lanes&p)!==0)i.flags&131072&&(nn=!0);else return o.lanes=i.lanes,Fr(i,o,p)}return gf(i,o,l,d,p)}function Jy(i,o,l){var d=o.pendingProps,p=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Ho,yn),yn|=l;else{if(!(l&1073741824))return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ye(Ho,yn),yn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,Ye(Ho,yn),yn|=d}else y!==null?(d=y.baseLanes|l,o.memoizedState=null):d=l,Ye(Ho,yn),yn|=d;return Gt(i,o,p,l),o.child}function Zy(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function gf(i,o,l,d,p){var y=tn(l)?vs:Vt.current;return y=Oo(o,y),Uo(o,p),l=of(i,o,l,d,y,p),d=af(),i!==null&&!nn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,Fr(i,o,p)):(tt&&d&&zh(o),o.flags|=1,Gt(i,o,l,p),o.child)}function e0(i,o,l,d,p){if(tn(l)){var y=!0;Gu(o)}else y=!1;if(Uo(o,p),o.stateNode===null)hc(i,o),zy(o,l,d),ff(o,l,d,p),d=!0;else if(i===null){var T=o.stateNode,D=o.memoizedProps;T.props=D;var V=T.context,G=l.contextType;typeof G=="object"&&G!==null?G=Cn(G):(G=tn(l)?vs:Vt.current,G=Oo(o,G));var te=l.getDerivedStateFromProps,ie=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function";ie||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==d||V!==G)&&By(o,T,d,G),vi=!1;var ee=o.memoizedState;T.state=ee,rc(o,d,T,p),V=o.memoizedState,D!==d||ee!==V||en.current||vi?(typeof te=="function"&&(hf(o,l,te,d),V=o.memoizedState),(D=vi||$y(o,l,D,d,ee,V,G))?(ie||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=V),T.props=d,T.state=V,T.context=G,d=D):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,gy(i,o),D=o.memoizedProps,G=o.type===o.elementType?D:Hn(o.type,D),T.props=G,ie=o.pendingProps,ee=T.context,V=l.contextType,typeof V=="object"&&V!==null?V=Cn(V):(V=tn(l)?vs:Vt.current,V=Oo(o,V));var he=l.getDerivedStateFromProps;(te=typeof he=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==ie||ee!==V)&&By(o,T,d,V),vi=!1,ee=o.memoizedState,T.state=ee,rc(o,d,T,p);var ge=o.memoizedState;D!==ie||ee!==ge||en.current||vi?(typeof he=="function"&&(hf(o,l,he,d),ge=o.memoizedState),(G=vi||$y(o,l,G,d,ee,ge,V)||!1)?(te||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,ge,V),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,ge,V)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||D===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ge),T.props=d,T.state=ge,T.context=V,d=G):(typeof T.componentDidUpdate!="function"||D===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),d=!1)}return yf(i,o,l,d,y,p)}function yf(i,o,l,d,p,y){Zy(i,o);var T=(o.flags&128)!==0;if(!d&&!T)return p&&sy(o,l,!1),Fr(i,o,y);d=o.stateNode,ix.current=o;var D=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&T?(o.child=Vo(o,i.child,null,y),o.child=Vo(o,null,D,y)):Gt(i,o,D,y),o.memoizedState=d.state,p&&sy(o,l,!0),o.child}function t0(i){var o=i.stateNode;o.pendingContext?ry(i,o.pendingContext,o.pendingContext!==o.context):o.context&&ry(i,o.context,!1),Zh(i,o.containerInfo)}function n0(i,o,l,d,p){return Mo(),qh(p),o.flags|=256,Gt(i,o,l,d),o.child}var vf={dehydrated:null,treeContext:null,retryLane:0};function _f(i){return{baseLanes:i,cachePool:null,transitions:null}}function r0(i,o,l){var d=o.pendingProps,p=rt.current,y=!1,T=(o.flags&128)!==0,D;if((D=T)||(D=i!==null&&i.memoizedState===null?!1:(p&2)!==0),D?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),Ye(rt,p&1),i===null)return Wh(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(T=d.children,i=d.fallback,y?(d=o.mode,y=o.child,T={mode:"hidden",children:T},!(d&1)&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Ic(T,d,0,null),i=bs(i,d,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=_f(l),o.memoizedState=vf,i):wf(o,T));if(p=i.memoizedState,p!==null&&(D=p.dehydrated,D!==null))return sx(i,o,T,d,D,p,l);if(y){y=d.fallback,T=o.mode,p=i.child,D=p.sibling;var V={mode:"hidden",children:d.children};return!(T&1)&&o.child!==p?(d=o.child,d.childLanes=0,d.pendingProps=V,o.deletions=null):(d=Si(p,V),d.subtreeFlags=p.subtreeFlags&14680064),D!==null?y=Si(D,y):(y=bs(y,T,l,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,T=i.child.memoizedState,T=T===null?_f(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=i.childLanes&~l,o.memoizedState=vf,d}return y=i.child,i=y.sibling,d=Si(y,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function wf(i,o){return o=Ic({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function dc(i,o,l,d){return d!==null&&qh(d),Vo(o,i.child,null,l),i=wf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function sx(i,o,l,d,p,y,T){if(l)return o.flags&256?(o.flags&=-257,d=pf(Error(t(422))),dc(i,o,T,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=d.fallback,p=o.mode,d=Ic({mode:"visible",children:d.children},p,0,null),y=bs(y,p,T,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,o.mode&1&&Vo(o,i.child,null,T),o.child.memoizedState=_f(T),o.memoizedState=vf,y);if(!(o.mode&1))return dc(i,o,T,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var D=d.dgst;return d=D,y=Error(t(419)),d=pf(y,d,void 0),dc(i,o,T,d)}if(D=(T&i.childLanes)!==0,nn||D){if(d=St,d!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(d.suspendedLanes|T)?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Mr(i,p),Kn(d,i,p,-1))}return jf(),d=pf(Error(t(421))),dc(i,o,T,d)}return p.data==="$?"?(o.flags|=128,o.child=i.child,o=vx.bind(null,i),p._reactRetry=o,null):(i=y.treeContext,gn=pi(p.nextSibling),mn=o,tt=!0,Bn=null,i!==null&&(In[Sn++]=Lr,In[Sn++]=jr,In[Sn++]=_s,Lr=i.id,jr=i.overflow,_s=o),o=wf(o,d.children),o.flags|=4096,o)}function i0(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Yh(i.return,o,l)}function Ef(i,o,l,d,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function s0(i,o,l){var d=o.pendingProps,p=d.revealOrder,y=d.tail;if(Gt(i,o,d.children,l),d=rt.current,d&2)d=d&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&i0(i,l,o);else if(i.tag===19)i0(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Ye(rt,d),!(o.mode&1))o.memoizedState=null;else switch(p){case"forwards":for(l=o.child,p=null;l!==null;)i=l.alternate,i!==null&&ic(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),Ef(o,!1,p,l,y);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&ic(i)===null){o.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Ef(o,!0,l,null,y);break;case"together":Ef(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function hc(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Fr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Is|=o.lanes,!(l&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Si(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Si(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function ox(i,o,l){switch(o.tag){case 3:t0(o),Mo();break;case 5:_y(o);break;case 1:tn(o.type)&&Gu(o);break;case 4:Zh(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,p=o.memoizedProps.value;Ye(ec,d._currentValue),d._currentValue=p;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Ye(rt,rt.current&1),o.flags|=128,null):l&o.child.childLanes?r0(i,o,l):(Ye(rt,rt.current&1),i=Fr(i,o,l),i!==null?i.sibling:null);Ye(rt,rt.current&1);break;case 19:if(d=(l&o.childLanes)!==0,i.flags&128){if(d)return s0(i,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ye(rt,rt.current),d)break;return null;case 22:case 23:return o.lanes=0,Jy(i,o,l)}return Fr(i,o,l)}var o0,Tf,a0,l0;o0=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Tf=function(){},a0=function(i,o,l,d){var p=i.memoizedProps;if(p!==d){i=o.stateNode,Ts(hr.current);var y=null;switch(l){case"input":p=ts(i,p),d=ts(i,d),y=[];break;case"select":p=oe({},p,{value:void 0}),d=oe({},d,{value:void 0}),y=[];break;case"textarea":p=ka(i,p),d=ka(i,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=Wu)}Da(l,d);var T;l=null;for(G in p)if(!d.hasOwnProperty(G)&&p.hasOwnProperty(G)&&p[G]!=null)if(G==="style"){var D=p[G];for(T in D)D.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(s.hasOwnProperty(G)?y||(y=[]):(y=y||[]).push(G,null));for(G in d){var V=d[G];if(D=p!=null?p[G]:void 0,d.hasOwnProperty(G)&&V!==D&&(V!=null||D!=null))if(G==="style")if(D){for(T in D)!D.hasOwnProperty(T)||V&&V.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in V)V.hasOwnProperty(T)&&D[T]!==V[T]&&(l||(l={}),l[T]=V[T])}else l||(y||(y=[]),y.push(G,l)),l=V;else G==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,D=D?D.__html:void 0,V!=null&&D!==V&&(y=y||[]).push(G,V)):G==="children"?typeof V!="string"&&typeof V!="number"||(y=y||[]).push(G,""+V):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(s.hasOwnProperty(G)?(V!=null&&G==="onScroll"&&Xe("scroll",i),y||D===V||(y=[])):(y=y||[]).push(G,V))}l&&(y=y||[]).push("style",l);var G=y;(o.updateQueue=G)&&(o.flags|=4)}},l0=function(i,o,l,d){l!==d&&(o.flags|=4)};function fl(i,o){if(!tt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Ut(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function ax(i,o,l){var d=o.pendingProps;switch(Bh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(o),null;case 1:return tn(o.type)&&Ku(),Ut(o),null;case 3:return d=o.stateNode,$o(),Je(en),Je(Vt),nf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Ju(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Bn!==null&&(Df(Bn),Bn=null))),Tf(i,o),Ut(o),null;case 5:ef(o);var p=Ts(ll.current);if(l=o.type,i!==null&&o.stateNode!=null)a0(i,o,l,d,p),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Ut(o),null}if(i=Ts(hr.current),Ju(o)){d=o.stateNode,l=o.type;var y=o.memoizedProps;switch(d[dr]=o,d[rl]=y,i=(o.mode&1)!==0,l){case"dialog":Xe("cancel",d),Xe("close",d);break;case"iframe":case"object":case"embed":Xe("load",d);break;case"video":case"audio":for(p=0;p<el.length;p++)Xe(el[p],d);break;case"source":Xe("error",d);break;case"img":case"image":case"link":Xe("error",d),Xe("load",d);break;case"details":Xe("toggle",d);break;case"input":to(d,y),Xe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Xe("invalid",d);break;case"textarea":ro(d,y),Xe("invalid",d)}Da(l,y),p=null;for(var T in y)if(y.hasOwnProperty(T)){var D=y[T];T==="children"?typeof D=="string"?d.textContent!==D&&(y.suppressHydrationWarning!==!0&&Hu(d.textContent,D,i),p=["children",D]):typeof D=="number"&&d.textContent!==""+D&&(y.suppressHydrationWarning!==!0&&Hu(d.textContent,D,i),p=["children",""+D]):s.hasOwnProperty(T)&&D!=null&&T==="onScroll"&&Xe("scroll",d)}switch(l){case"input":xr(d),gu(d,y,!0);break;case"textarea":xr(d),ba(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Wu)}d=p,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=gt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=T.createElement(l,{is:d.is}):(i=T.createElement(l),l==="select"&&(T=i,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):i=T.createElementNS(i,l),i[dr]=o,i[rl]=d,o0(i,o,!1,!1),o.stateNode=i;e:{switch(T=Oa(l,d),l){case"dialog":Xe("cancel",i),Xe("close",i),p=d;break;case"iframe":case"object":case"embed":Xe("load",i),p=d;break;case"video":case"audio":for(p=0;p<el.length;p++)Xe(el[p],i);p=d;break;case"source":Xe("error",i),p=d;break;case"img":case"image":case"link":Xe("error",i),Xe("load",i),p=d;break;case"details":Xe("toggle",i),p=d;break;case"input":to(i,d),p=ts(i,d),Xe("invalid",i);break;case"option":p=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},p=oe({},d,{value:void 0}),Xe("invalid",i);break;case"textarea":ro(i,d),p=ka(i,d),Xe("invalid",i);break;default:p=d}Da(l,p),D=p;for(y in D)if(D.hasOwnProperty(y)){var V=D[y];y==="style"?Aa(i,V):y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Ra(i,V)):y==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&ri(i,V):typeof V=="number"&&ri(i,""+V):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?V!=null&&y==="onScroll"&&Xe("scroll",i):V!=null&&O(i,y,V,T))}switch(l){case"input":xr(i),gu(i,d,!1);break;case"textarea":xr(i),ba(i);break;case"option":d.value!=null&&i.setAttribute("value",""+je(d.value));break;case"select":i.multiple=!!d.multiple,y=d.value,y!=null?Sr(i,!!d.multiple,y,!1):d.defaultValue!=null&&Sr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=Wu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ut(o),null;case 6:if(i&&o.stateNode!=null)l0(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=Ts(ll.current),Ts(hr.current),Ju(o)){if(d=o.stateNode,l=o.memoizedProps,d[dr]=o,(y=d.nodeValue!==l)&&(i=mn,i!==null))switch(i.tag){case 3:Hu(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Hu(d.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[dr]=o,o.stateNode=d}return Ut(o),null;case 13:if(Je(rt),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(tt&&gn!==null&&o.mode&1&&!(o.flags&128))dy(),Mo(),o.flags|=98560,y=!1;else if(y=Ju(o),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[dr]=o}else Mo(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Ut(o),y=!1}else Bn!==null&&(Df(Bn),Bn=null),y=!0;if(!y)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(i===null||rt.current&1?wt===0&&(wt=3):jf())),o.updateQueue!==null&&(o.flags|=4),Ut(o),null);case 4:return $o(),Tf(i,o),i===null&&tl(o.stateNode.containerInfo),Ut(o),null;case 10:return Qh(o.type._context),Ut(o),null;case 17:return tn(o.type)&&Ku(),Ut(o),null;case 19:if(Je(rt),y=o.memoizedState,y===null)return Ut(o),null;if(d=(o.flags&128)!==0,T=y.rendering,T===null)if(d)fl(y,!1);else{if(wt!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(T=ic(i),T!==null){for(o.flags|=128,fl(y,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)y=l,i=d,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,i=T.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ye(rt,rt.current&1|2),o.child}i=i.sibling}y.tail!==null&&Qe()>Wo&&(o.flags|=128,d=!0,fl(y,!1),o.lanes=4194304)}else{if(!d)if(i=ic(T),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),fl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!tt)return Ut(o),null}else 2*Qe()-y.renderingStartTime>Wo&&l!==1073741824&&(o.flags|=128,d=!0,fl(y,!1),o.lanes=4194304);y.isBackwards?(T.sibling=o.child,o.child=T):(l=y.last,l!==null?l.sibling=T:o.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Qe(),o.sibling=null,l=rt.current,Ye(rt,d?l&1|2:l&1),o):(Ut(o),null);case 22:case 23:return Lf(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?yn&1073741824&&(Ut(o),o.subtreeFlags&6&&(o.flags|=8192)):Ut(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function lx(i,o){switch(Bh(o),o.tag){case 1:return tn(o.type)&&Ku(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return $o(),Je(en),Je(Vt),nf(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return ef(o),null;case 13:if(Je(rt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Mo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Je(rt),null;case 4:return $o(),null;case 10:return Qh(o.type._context),null;case 22:case 23:return Lf(),null;case 24:return null;default:return null}}var fc=!1,$t=!1,ux=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Bo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){at(i,o,d)}else l.current=null}function xf(i,o,l){try{l()}catch(d){at(i,o,d)}}var u0=!1;function cx(i,o){if(Oh=di,i=$g(),Ch(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,D=-1,V=-1,G=0,te=0,ie=i,ee=null;t:for(;;){for(var he;ie!==l||p!==0&&ie.nodeType!==3||(D=T+p),ie!==y||d!==0&&ie.nodeType!==3||(V=T+d),ie.nodeType===3&&(T+=ie.nodeValue.length),(he=ie.firstChild)!==null;)ee=ie,ie=he;for(;;){if(ie===i)break t;if(ee===l&&++G===p&&(D=T),ee===y&&++te===d&&(V=T),(he=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=he}l=D===-1||V===-1?null:{start:D,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(Lh={focusedElem:i,selectionRange:l},di=!1,pe=o;pe!==null;)if(o=pe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,pe=i;else for(;pe!==null;){o=pe;try{var ge=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ye=ge.memoizedProps,ut=ge.memoizedState,q=o.stateNode,B=q.getSnapshotBeforeUpdate(o.elementType===o.type?ye:Hn(o.type,ye),ut);q.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){at(o,o.return,se)}if(i=o.sibling,i!==null){i.return=o.return,pe=i;break}pe=o.return}return ge=u0,u0=!1,ge}function pl(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&xf(o,l,y)}p=p.next}while(p!==d)}}function pc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function If(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function c0(i){var o=i.alternate;o!==null&&(i.alternate=null,c0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[dr],delete o[rl],delete o[Fh],delete o[qT],delete o[KT])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function d0(i){return i.tag===5||i.tag===3||i.tag===4}function h0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||d0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Sf(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Wu));else if(d!==4&&(i=i.child,i!==null))for(Sf(i,o,l),i=i.sibling;i!==null;)Sf(i,o,l),i=i.sibling}function Cf(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Cf(i,o,l),i=i.sibling;i!==null;)Cf(i,o,l),i=i.sibling}var At=null,Wn=!1;function wi(i,o,l){for(l=l.child;l!==null;)f0(i,o,l),l=l.sibling}function f0(i,o,l){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(cs,l)}catch{}switch(l.tag){case 5:$t||Bo(l,o);case 6:var d=At,p=Wn;At=null,wi(i,o,l),At=d,Wn=p,At!==null&&(Wn?(i=At,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):At.removeChild(l.stateNode));break;case 18:At!==null&&(Wn?(i=At,l=l.stateNode,i.nodeType===8?Vh(i.parentNode,l):i.nodeType===1&&Vh(i,l),Un(i)):Vh(At,l.stateNode));break;case 4:d=At,p=Wn,At=l.stateNode.containerInfo,Wn=!0,wi(i,o,l),At=d,Wn=p;break;case 0:case 11:case 14:case 15:if(!$t&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,T=y.destroy;y=y.tag,T!==void 0&&(y&2||y&4)&&xf(l,o,T),p=p.next}while(p!==d)}wi(i,o,l);break;case 1:if(!$t&&(Bo(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(D){at(l,o,D)}wi(i,o,l);break;case 21:wi(i,o,l);break;case 22:l.mode&1?($t=(d=$t)||l.memoizedState!==null,wi(i,o,l),$t=d):wi(i,o,l);break;default:wi(i,o,l)}}function p0(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new ux),o.forEach(function(d){var p=_x.bind(null,i,d);l.has(d)||(l.add(d),d.then(p,p))})}}function qn(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=i,T=o,D=T;e:for(;D!==null;){switch(D.tag){case 5:At=D.stateNode,Wn=!1;break e;case 3:At=D.stateNode.containerInfo,Wn=!0;break e;case 4:At=D.stateNode.containerInfo,Wn=!0;break e}D=D.return}if(At===null)throw Error(t(160));f0(y,T,p),At=null,Wn=!1;var V=p.alternate;V!==null&&(V.return=null),p.return=null}catch(G){at(p,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)m0(o,i),o=o.sibling}function m0(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(qn(o,i),pr(i),d&4){try{pl(3,i,i.return),pc(3,i)}catch(ye){at(i,i.return,ye)}try{pl(5,i,i.return)}catch(ye){at(i,i.return,ye)}}break;case 1:qn(o,i),pr(i),d&512&&l!==null&&Bo(l,l.return);break;case 5:if(qn(o,i),pr(i),d&512&&l!==null&&Bo(l,l.return),i.flags&32){var p=i.stateNode;try{ri(p,"")}catch(ye){at(i,i.return,ye)}}if(d&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,T=l!==null?l.memoizedProps:y,D=i.type,V=i.updateQueue;if(i.updateQueue=null,V!==null)try{D==="input"&&y.type==="radio"&&y.name!=null&&Sa(p,y),Oa(D,T);var G=Oa(D,y);for(T=0;T<V.length;T+=2){var te=V[T],ie=V[T+1];te==="style"?Aa(p,ie):te==="dangerouslySetInnerHTML"?Ra(p,ie):te==="children"?ri(p,ie):O(p,te,ie,G)}switch(D){case"input":Ca(p,y);break;case"textarea":io(p,y);break;case"select":var ee=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var he=y.value;he!=null?Sr(p,!!y.multiple,he,!1):ee!==!!y.multiple&&(y.defaultValue!=null?Sr(p,!!y.multiple,y.defaultValue,!0):Sr(p,!!y.multiple,y.multiple?[]:"",!1))}p[rl]=y}catch(ye){at(i,i.return,ye)}}break;case 6:if(qn(o,i),pr(i),d&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(ye){at(i,i.return,ye)}}break;case 3:if(qn(o,i),pr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Un(o.containerInfo)}catch(ye){at(i,i.return,ye)}break;case 4:qn(o,i),pr(i);break;case 13:qn(o,i),pr(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Rf=Qe())),d&4&&p0(i);break;case 22:if(te=l!==null&&l.memoizedState!==null,i.mode&1?($t=(G=$t)||te,qn(o,i),$t=G):qn(o,i),pr(i),d&8192){if(G=i.memoizedState!==null,(i.stateNode.isHidden=G)&&!te&&i.mode&1)for(pe=i,te=i.child;te!==null;){for(ie=pe=te;pe!==null;){switch(ee=pe,he=ee.child,ee.tag){case 0:case 11:case 14:case 15:pl(4,ee,ee.return);break;case 1:Bo(ee,ee.return);var ge=ee.stateNode;if(typeof ge.componentWillUnmount=="function"){d=ee,l=ee.return;try{o=d,ge.props=o.memoizedProps,ge.state=o.memoizedState,ge.componentWillUnmount()}catch(ye){at(d,l,ye)}}break;case 5:Bo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){v0(ie);continue}}he!==null?(he.return=ee,pe=he):v0(ie)}te=te.sibling}e:for(te=null,ie=i;;){if(ie.tag===5){if(te===null){te=ie;try{p=ie.stateNode,G?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(D=ie.stateNode,V=ie.memoizedProps.style,T=V!=null&&V.hasOwnProperty("display")?V.display:null,D.style.display=Pa("display",T))}catch(ye){at(i,i.return,ye)}}}else if(ie.tag===6){if(te===null)try{ie.stateNode.nodeValue=G?"":ie.memoizedProps}catch(ye){at(i,i.return,ye)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;te===ie&&(te=null),ie=ie.return}te===ie&&(te=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:qn(o,i),pr(i),d&4&&p0(i);break;case 21:break;default:qn(o,i),pr(i)}}function pr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(d0(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(ri(p,""),d.flags&=-33);var y=h0(i);Cf(i,y,p);break;case 3:case 4:var T=d.stateNode.containerInfo,D=h0(i);Sf(i,D,T);break;default:throw Error(t(161))}}catch(V){at(i,i.return,V)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function dx(i,o,l){pe=i,g0(i)}function g0(i,o,l){for(var d=(i.mode&1)!==0;pe!==null;){var p=pe,y=p.child;if(p.tag===22&&d){var T=p.memoizedState!==null||fc;if(!T){var D=p.alternate,V=D!==null&&D.memoizedState!==null||$t;D=fc;var G=$t;if(fc=T,($t=V)&&!G)for(pe=p;pe!==null;)T=pe,V=T.child,T.tag===22&&T.memoizedState!==null?_0(p):V!==null?(V.return=T,pe=V):_0(p);for(;y!==null;)pe=y,g0(y),y=y.sibling;pe=p,fc=D,$t=G}y0(i)}else p.subtreeFlags&8772&&y!==null?(y.return=p,pe=y):y0(i)}}function y0(i){for(;pe!==null;){var o=pe;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:$t||pc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!$t)if(l===null)d.componentDidMount();else{var p=o.elementType===o.type?l.memoizedProps:Hn(o.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&vy(o,y,d);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}vy(o,T,l)}break;case 5:var D=o.stateNode;if(l===null&&o.flags&4){l=D;var V=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var te=G.memoizedState;if(te!==null){var ie=te.dehydrated;ie!==null&&Un(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$t||o.flags&512&&If(o)}catch(ee){at(o,o.return,ee)}}if(o===i){pe=null;break}if(l=o.sibling,l!==null){l.return=o.return,pe=l;break}pe=o.return}}function v0(i){for(;pe!==null;){var o=pe;if(o===i){pe=null;break}var l=o.sibling;if(l!==null){l.return=o.return,pe=l;break}pe=o.return}}function _0(i){for(;pe!==null;){var o=pe;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{pc(4,o)}catch(V){at(o,l,V)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var p=o.return;try{d.componentDidMount()}catch(V){at(o,p,V)}}var y=o.return;try{If(o)}catch(V){at(o,y,V)}break;case 5:var T=o.return;try{If(o)}catch(V){at(o,T,V)}}}catch(V){at(o,o.return,V)}if(o===i){pe=null;break}var D=o.sibling;if(D!==null){D.return=o.return,pe=D;break}pe=o.return}}var hx=Math.ceil,mc=H.ReactCurrentDispatcher,kf=H.ReactCurrentOwner,bn=H.ReactCurrentBatchConfig,Be=0,St=null,ft=null,Nt=0,yn=0,Ho=mi(0),wt=0,ml=null,Is=0,gc=0,bf=0,gl=null,rn=null,Rf=0,Wo=1/0,Ur=null,yc=!1,Pf=null,Ei=null,vc=!1,Ti=null,_c=0,yl=0,Af=null,wc=-1,Ec=0;function Qt(){return Be&6?Qe():wc!==-1?wc:wc=Qe()}function xi(i){return i.mode&1?Be&2&&Nt!==0?Nt&-Nt:QT.transition!==null?(Ec===0&&(Ec=hs()),Ec):(i=Fe,i!==0||(i=window.event,i=i===void 0?16:Wa(i.type)),i):1}function Kn(i,o,l,d){if(50<yl)throw yl=0,Af=null,Error(t(185));ai(i,l,d),(!(Be&2)||i!==St)&&(i===St&&(!(Be&2)&&(gc|=l),wt===4&&Ii(i,Nt)),sn(i,d),l===1&&Be===0&&!(o.mode&1)&&(Wo=Qe()+500,Qu&&yi()))}function sn(i,o){var l=i.callbackNode;br(i,o);var d=ds(i,i===St?Nt:0);if(d===0)l!==null&&Ua(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&Ua(l),o===1)i.tag===0?GT(E0.bind(null,i)):oy(E0.bind(null,i)),HT(function(){!(Be&6)&&yi()}),l=null;else{switch(ui(d)){case 1:l=us;break;case 4:l=ii;break;case 16:l=En;break;case 536870912:l=Eu;break;default:l=En}l=R0(l,w0.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function w0(i,o){if(wc=-1,Ec=0,Be&6)throw Error(t(327));var l=i.callbackNode;if(qo()&&i.callbackNode!==l)return null;var d=ds(i,i===St?Nt:0);if(d===0)return null;if(d&30||d&i.expiredLanes||o)o=Tc(i,d);else{o=d;var p=Be;Be|=2;var y=x0();(St!==i||Nt!==o)&&(Ur=null,Wo=Qe()+500,Cs(i,o));do try{mx();break}catch(D){T0(i,D)}while(!0);Gh(),mc.current=y,Be=p,ft!==null?o=0:(St=null,Nt=0,o=wt)}if(o!==0){if(o===2&&(p=hn(i),p!==0&&(d=p,o=Nf(i,p))),o===1)throw l=ml,Cs(i,0),Ii(i,d),sn(i,Qe()),l;if(o===6)Ii(i,d);else{if(p=i.current.alternate,!(d&30)&&!fx(p)&&(o=Tc(i,d),o===2&&(y=hn(i),y!==0&&(d=y,o=Nf(i,y))),o===1))throw l=ml,Cs(i,0),Ii(i,d),sn(i,Qe()),l;switch(i.finishedWork=p,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:ks(i,rn,Ur);break;case 3:if(Ii(i,d),(d&130023424)===d&&(o=Rf+500-Qe(),10<o)){if(ds(i,0)!==0)break;if(p=i.suspendedLanes,(p&d)!==d){Qt(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=Mh(ks.bind(null,i,rn,Ur),o);break}ks(i,rn,Ur);break;case 4:if(Ii(i,d),(d&4194240)===d)break;for(o=i.eventTimes,p=-1;0<d;){var T=31-qt(d);y=1<<T,T=o[T],T>p&&(p=T),d&=~y}if(d=p,d=Qe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*hx(d/1960))-d,10<d){i.timeoutHandle=Mh(ks.bind(null,i,rn,Ur),d);break}ks(i,rn,Ur);break;case 5:ks(i,rn,Ur);break;default:throw Error(t(329))}}}return sn(i,Qe()),i.callbackNode===l?w0.bind(null,i):null}function Nf(i,o){var l=gl;return i.current.memoizedState.isDehydrated&&(Cs(i,o).flags|=256),i=Tc(i,o),i!==2&&(o=rn,rn=l,o!==null&&Df(o)),i}function Df(i){rn===null?rn=i:rn.push.apply(rn,i)}function fx(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!zn(y(),p))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ii(i,o){for(o&=~bf,o&=~gc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-qt(o),d=1<<l;i[l]=-1,o&=~d}}function E0(i){if(Be&6)throw Error(t(327));qo();var o=ds(i,0);if(!(o&1))return sn(i,Qe()),null;var l=Tc(i,o);if(i.tag!==0&&l===2){var d=hn(i);d!==0&&(o=d,l=Nf(i,d))}if(l===1)throw l=ml,Cs(i,0),Ii(i,o),sn(i,Qe()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,ks(i,rn,Ur),sn(i,Qe()),null}function Of(i,o){var l=Be;Be|=1;try{return i(o)}finally{Be=l,Be===0&&(Wo=Qe()+500,Qu&&yi())}}function Ss(i){Ti!==null&&Ti.tag===0&&!(Be&6)&&qo();var o=Be;Be|=1;var l=bn.transition,d=Fe;try{if(bn.transition=null,Fe=1,i)return i()}finally{Fe=d,bn.transition=l,Be=o,!(Be&6)&&yi()}}function Lf(){yn=Ho.current,Je(Ho)}function Cs(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,BT(l)),ft!==null)for(l=ft.return;l!==null;){var d=l;switch(Bh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Ku();break;case 3:$o(),Je(en),Je(Vt),nf();break;case 5:ef(d);break;case 4:$o();break;case 13:Je(rt);break;case 19:Je(rt);break;case 10:Qh(d.type._context);break;case 22:case 23:Lf()}l=l.return}if(St=i,ft=i=Si(i.current,null),Nt=yn=o,wt=0,ml=null,bf=gc=Is=0,rn=gl=null,Es!==null){for(o=0;o<Es.length;o++)if(l=Es[o],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var T=y.next;y.next=p,d.next=T}l.pending=d}Es=null}return i}function T0(i,o){do{var l=ft;try{if(Gh(),sc.current=uc,oc){for(var d=it.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}oc=!1}if(xs=0,It=_t=it=null,ul=!1,cl=0,kf.current=null,l===null||l.return===null){wt=1,ml=o,ft=null;break}e:{var y=i,T=l.return,D=l,V=o;if(o=Nt,D.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var G=V,te=D,ie=te.tag;if(!(te.mode&1)&&(ie===0||ie===11||ie===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var he=Ky(T);if(he!==null){he.flags&=-257,Gy(he,T,D,y,o),he.mode&1&&qy(y,G,o),o=he,V=G;var ge=o.updateQueue;if(ge===null){var ye=new Set;ye.add(V),o.updateQueue=ye}else ge.add(V);break e}else{if(!(o&1)){qy(y,G,o),jf();break e}V=Error(t(426))}}else if(tt&&D.mode&1){var ut=Ky(T);if(ut!==null){!(ut.flags&65536)&&(ut.flags|=256),Gy(ut,T,D,y,o),qh(zo(V,D));break e}}y=V=zo(V,D),wt!==4&&(wt=2),gl===null?gl=[y]:gl.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var q=Hy(y,V,o);yy(y,q);break e;case 1:D=V;var B=y.type,K=y.stateNode;if(!(y.flags&128)&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ei===null||!Ei.has(K)))){y.flags|=65536,o&=-o,y.lanes|=o;var se=Wy(y,D,o);yy(y,se);break e}}y=y.return}while(y!==null)}S0(l)}catch(ve){o=ve,ft===l&&l!==null&&(ft=l=l.return);continue}break}while(!0)}function x0(){var i=mc.current;return mc.current=uc,i===null?uc:i}function jf(){(wt===0||wt===3||wt===2)&&(wt=4),St===null||!(Is&268435455)&&!(gc&268435455)||Ii(St,Nt)}function Tc(i,o){var l=Be;Be|=2;var d=x0();(St!==i||Nt!==o)&&(Ur=null,Cs(i,o));do try{px();break}catch(p){T0(i,p)}while(!0);if(Gh(),Be=l,mc.current=d,ft!==null)throw Error(t(261));return St=null,Nt=0,wt}function px(){for(;ft!==null;)I0(ft)}function mx(){for(;ft!==null&&!_u();)I0(ft)}function I0(i){var o=b0(i.alternate,i,yn);i.memoizedProps=i.pendingProps,o===null?S0(i):ft=o,kf.current=null}function S0(i){var o=i;do{var l=o.alternate;if(i=o.return,o.flags&32768){if(l=lx(l,o),l!==null){l.flags&=32767,ft=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{wt=6,ft=null;return}}else if(l=ax(l,o,yn),l!==null){ft=l;return}if(o=o.sibling,o!==null){ft=o;return}ft=o=i}while(o!==null);wt===0&&(wt=5)}function ks(i,o,l){var d=Fe,p=bn.transition;try{bn.transition=null,Fe=1,gx(i,o,l,d)}finally{bn.transition=p,Fe=d}return null}function gx(i,o,l,d){do qo();while(Ti!==null);if(Be&6)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(Ge(i,y),i===St&&(ft=St=null,Nt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||vc||(vc=!0,R0(En,function(){return qo(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=bn.transition,bn.transition=null;var T=Fe;Fe=1;var D=Be;Be|=4,kf.current=null,cx(i,l),m0(l,i),jT(Lh),di=!!Oh,Lh=Oh=null,i.current=l,dx(l),vh(),Be=D,Fe=T,bn.transition=y}else i.current=l;if(vc&&(vc=!1,Ti=i,_c=p),y=i.pendingLanes,y===0&&(Ei=null),Tu(l.stateNode),sn(i,Qe()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)p=o[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(yc)throw yc=!1,i=Pf,Pf=null,i;return _c&1&&i.tag!==0&&qo(),y=i.pendingLanes,y&1?i===Af?yl++:(yl=0,Af=i):yl=0,yi(),null}function qo(){if(Ti!==null){var i=ui(_c),o=bn.transition,l=Fe;try{if(bn.transition=null,Fe=16>i?16:i,Ti===null)var d=!1;else{if(i=Ti,Ti=null,_c=0,Be&6)throw Error(t(331));var p=Be;for(Be|=4,pe=i.current;pe!==null;){var y=pe,T=y.child;if(pe.flags&16){var D=y.deletions;if(D!==null){for(var V=0;V<D.length;V++){var G=D[V];for(pe=G;pe!==null;){var te=pe;switch(te.tag){case 0:case 11:case 15:pl(8,te,y)}var ie=te.child;if(ie!==null)ie.return=te,pe=ie;else for(;pe!==null;){te=pe;var ee=te.sibling,he=te.return;if(c0(te),te===G){pe=null;break}if(ee!==null){ee.return=he,pe=ee;break}pe=he}}}var ge=y.alternate;if(ge!==null){var ye=ge.child;if(ye!==null){ge.child=null;do{var ut=ye.sibling;ye.sibling=null,ye=ut}while(ye!==null)}}pe=y}}if(y.subtreeFlags&2064&&T!==null)T.return=y,pe=T;else e:for(;pe!==null;){if(y=pe,y.flags&2048)switch(y.tag){case 0:case 11:case 15:pl(9,y,y.return)}var q=y.sibling;if(q!==null){q.return=y.return,pe=q;break e}pe=y.return}}var B=i.current;for(pe=B;pe!==null;){T=pe;var K=T.child;if(T.subtreeFlags&2064&&K!==null)K.return=T,pe=K;else e:for(T=B;pe!==null;){if(D=pe,D.flags&2048)try{switch(D.tag){case 0:case 11:case 15:pc(9,D)}}catch(ve){at(D,D.return,ve)}if(D===T){pe=null;break e}var se=D.sibling;if(se!==null){se.return=D.return,pe=se;break e}pe=D.return}}if(Be=p,yi(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(cs,i)}catch{}d=!0}return d}finally{Fe=l,bn.transition=o}}return!1}function C0(i,o,l){o=zo(l,o),o=Hy(i,o,1),i=_i(i,o,1),o=Qt(),i!==null&&(ai(i,1,o),sn(i,o))}function at(i,o,l){if(i.tag===3)C0(i,i,l);else for(;o!==null;){if(o.tag===3){C0(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ei===null||!Ei.has(d))){i=zo(l,i),i=Wy(o,i,1),o=_i(o,i,1),i=Qt(),o!==null&&(ai(o,1,i),sn(o,i));break}}o=o.return}}function yx(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=Qt(),i.pingedLanes|=i.suspendedLanes&l,St===i&&(Nt&l)===l&&(wt===4||wt===3&&(Nt&130023424)===Nt&&500>Qe()-Rf?Cs(i,0):bf|=l),sn(i,o)}function k0(i,o){o===0&&(i.mode&1?(o=mo,mo<<=1,!(mo&130023424)&&(mo=4194304)):o=1);var l=Qt();i=Mr(i,o),i!==null&&(ai(i,o,l),sn(i,l))}function vx(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),k0(i,l)}function _x(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),k0(i,l)}var b0;b0=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||en.current)nn=!0;else{if(!(i.lanes&l)&&!(o.flags&128))return nn=!1,ox(i,o,l);nn=!!(i.flags&131072)}else nn=!1,tt&&o.flags&1048576&&ay(o,Xu,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;hc(i,o),i=o.pendingProps;var p=Oo(o,Vt.current);Uo(o,l),p=of(null,o,d,i,p,l);var y=af();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,tn(d)?(y=!0,Gu(o)):y=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Jh(o),p.updater=cc,o.stateNode=p,p._reactInternals=o,ff(o,d,i,l),o=yf(null,o,d,!0,y,l)):(o.tag=0,tt&&y&&zh(o),Gt(null,o,p,l),o=o.child),o;case 16:d=o.elementType;e:{switch(hc(i,o),i=o.pendingProps,p=d._init,d=p(d._payload),o.type=d,p=o.tag=Ex(d),i=Hn(d,i),p){case 0:o=gf(null,o,d,i,l);break e;case 1:o=e0(null,o,d,i,l);break e;case 11:o=Qy(null,o,d,i,l);break e;case 14:o=Yy(null,o,d,Hn(d.type,i),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Hn(d,p),gf(i,o,d,p,l);case 1:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Hn(d,p),e0(i,o,d,p,l);case 3:e:{if(t0(o),i===null)throw Error(t(387));d=o.pendingProps,y=o.memoizedState,p=y.element,gy(i,o),rc(o,d,null,l);var T=o.memoizedState;if(d=T.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){p=zo(Error(t(423)),o),o=n0(i,o,d,l,p);break e}else if(d!==p){p=zo(Error(t(424)),o),o=n0(i,o,d,l,p);break e}else for(gn=pi(o.stateNode.containerInfo.firstChild),mn=o,tt=!0,Bn=null,l=py(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Mo(),d===p){o=Fr(i,o,l);break e}Gt(i,o,d,l)}o=o.child}return o;case 5:return _y(o),i===null&&Wh(o),d=o.type,p=o.pendingProps,y=i!==null?i.memoizedProps:null,T=p.children,jh(d,p)?T=null:y!==null&&jh(d,y)&&(o.flags|=32),Zy(i,o),Gt(i,o,T,l),o.child;case 6:return i===null&&Wh(o),null;case 13:return r0(i,o,l);case 4:return Zh(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=Vo(o,null,d,l):Gt(i,o,d,l),o.child;case 11:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Hn(d,p),Qy(i,o,d,p,l);case 7:return Gt(i,o,o.pendingProps,l),o.child;case 8:return Gt(i,o,o.pendingProps.children,l),o.child;case 12:return Gt(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,p=o.pendingProps,y=o.memoizedProps,T=p.value,Ye(ec,d._currentValue),d._currentValue=T,y!==null)if(zn(y.value,T)){if(y.children===p.children&&!en.current){o=Fr(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var D=y.dependencies;if(D!==null){T=y.child;for(var V=D.firstContext;V!==null;){if(V.context===d){if(y.tag===1){V=Vr(-1,l&-l),V.tag=2;var G=y.updateQueue;if(G!==null){G=G.shared;var te=G.pending;te===null?V.next=V:(V.next=te.next,te.next=V),G.pending=V}}y.lanes|=l,V=y.alternate,V!==null&&(V.lanes|=l),Yh(y.return,l,o),D.lanes|=l;break}V=V.next}}else if(y.tag===10)T=y.type===o.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,D=T.alternate,D!==null&&(D.lanes|=l),Yh(T,l,o),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===o){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Gt(i,o,p.children,l),o=o.child}return o;case 9:return p=o.type,d=o.pendingProps.children,Uo(o,l),p=Cn(p),d=d(p),o.flags|=1,Gt(i,o,d,l),o.child;case 14:return d=o.type,p=Hn(d,o.pendingProps),p=Hn(d.type,p),Yy(i,o,d,p,l);case 15:return Xy(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Hn(d,p),hc(i,o),o.tag=1,tn(d)?(i=!0,Gu(o)):i=!1,Uo(o,l),zy(o,d,p),ff(o,d,p,l),yf(null,o,d,!0,i,l);case 19:return s0(i,o,l);case 22:return Jy(i,o,l)}throw Error(t(156,o.tag))};function R0(i,o){return fo(i,o)}function wx(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(i,o,l,d){return new wx(i,o,l,d)}function Mf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ex(i){if(typeof i=="function")return Mf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===De)return 14}return 2}function Si(i,o){var l=i.alternate;return l===null?(l=Rn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function xc(i,o,l,d,p,y){var T=2;if(d=i,typeof i=="function")Mf(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case b:return bs(l.children,p,y,o);case C:T=8,p|=8;break;case P:return i=Rn(12,l,o,p|2),i.elementType=P,i.lanes=y,i;case N:return i=Rn(13,l,o,p),i.elementType=N,i.lanes=y,i;case de:return i=Rn(19,l,o,p),i.elementType=de,i.lanes=y,i;case ke:return Ic(l,p,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:T=10;break e;case j:T=9;break e;case U:T=11;break e;case De:T=14;break e;case Re:T=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Rn(T,l,o,p),o.elementType=i,o.type=d,o.lanes=y,o}function bs(i,o,l,d){return i=Rn(7,i,d,o),i.lanes=l,i}function Ic(i,o,l,d){return i=Rn(22,i,d,o),i.elementType=ke,i.lanes=l,i.stateNode={isHidden:!1},i}function Vf(i,o,l){return i=Rn(6,i,null,o),i.lanes=l,i}function Ff(i,o,l){return o=Rn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Tx(i,o,l,d,p){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oi(0),this.expirationTimes=oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Uf(i,o,l,d,p,y,T,D,V){return i=new Tx(i,o,l,D,V),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Rn(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jh(y),i}function xx(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function P0(i){if(!i)return gi;i=i._reactInternals;e:{if(Ln(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(tn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(tn(l))return iy(i,l,o)}return o}function A0(i,o,l,d,p,y,T,D,V){return i=Uf(l,d,!0,i,p,y,T,D,V),i.context=P0(null),l=i.current,d=Qt(),p=xi(l),y=Vr(d,p),y.callback=o??null,_i(l,y,p),i.current.lanes=p,ai(i,p,d),sn(i,d),i}function Sc(i,o,l,d){var p=o.current,y=Qt(),T=xi(p);return l=P0(l),o.context===null?o.context=l:o.pendingContext=l,o=Vr(y,T),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=_i(p,o,T),i!==null&&(Kn(i,p,T,y),nc(i,p,T)),T}function Cc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function N0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function $f(i,o){N0(i,o),(i=i.alternate)&&N0(i,o)}var D0=typeof reportError=="function"?reportError:function(i){console.error(i)};function zf(i){this._internalRoot=i}kc.prototype.render=zf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Sc(i,o,null,null)},kc.prototype.unmount=zf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Ss(function(){Sc(null,i,null,null)}),o[Dr]=null}};function kc(i){this._internalRoot=i}kc.prototype.unstable_scheduleHydration=function(i){if(i){var o=ku();i={blockedOn:null,target:i,priority:o};for(var l=0;l<ar.length&&o!==0&&o<ar[l].priority;l++);ar.splice(l,0,i),l===0&&Pu(i)}};function Bf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function bc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function O0(){}function Ix(i,o,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var G=Cc(T);y.call(G)}}var T=A0(o,d,i,0,null,!1,!1,"",O0);return i._reactRootContainer=T,i[Dr]=T.current,tl(i.nodeType===8?i.parentNode:i),Ss(),T}for(;p=i.lastChild;)i.removeChild(p);if(typeof d=="function"){var D=d;d=function(){var G=Cc(V);D.call(G)}}var V=Uf(i,0,!1,null,null,!1,!1,"",O0);return i._reactRootContainer=V,i[Dr]=V.current,tl(i.nodeType===8?i.parentNode:i),Ss(function(){Sc(o,V,l,d)}),V}function Rc(i,o,l,d,p){var y=l._reactRootContainer;if(y){var T=y;if(typeof p=="function"){var D=p;p=function(){var V=Cc(T);D.call(V)}}Sc(o,T,i,p)}else T=Ix(l,o,i,p,d);return Cc(T)}Su=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=si(o.pendingLanes);l!==0&&(li(o,l|1),sn(o,Qe()),!(Be&6)&&(Wo=Qe()+500,yi()))}break;case 13:Ss(function(){var d=Mr(i,1);if(d!==null){var p=Qt();Kn(d,i,1,p)}}),$f(i,1)}},go=function(i){if(i.tag===13){var o=Mr(i,134217728);if(o!==null){var l=Qt();Kn(o,i,134217728,l)}$f(i,134217728)}},Cu=function(i){if(i.tag===13){var o=xi(i),l=Mr(i,o);if(l!==null){var d=Qt();Kn(l,i,o,d)}$f(i,o)}},ku=function(){return Fe},bu=function(i,o){var l=Fe;try{return Fe=i,o()}finally{Fe=l}},oo=function(i,o,l){switch(o){case"input":if(Ca(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var p=qu(d);if(!p)throw Error(t(90));eo(d),Ca(d,p)}}}break;case"textarea":io(i,l);break;case"select":o=l.value,o!=null&&Sr(i,!!l.multiple,o,!1)}},ss=Of,ja=Ss;var Sx={usingClientEntryPoint:!1,Events:[il,No,qu,sr,La,Of]},vl={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cx={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Fa(i),i===null?null:i.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{cs=Pc.inject(Cx),dn=Pc}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sx,on.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bf(o))throw Error(t(200));return xx(i,o,null,l)},on.createRoot=function(i,o){if(!Bf(i))throw Error(t(299));var l=!1,d="",p=D0;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=Uf(i,1,!1,null,null,l,!1,d,p),i[Dr]=o.current,tl(i.nodeType===8?i.parentNode:i),new zf(o)},on.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Fa(o),i=i===null?null:i.stateNode,i},on.flushSync=function(i){return Ss(i)},on.hydrate=function(i,o,l){if(!bc(o))throw Error(t(200));return Rc(null,i,o,!0,l)},on.hydrateRoot=function(i,o,l){if(!Bf(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",T=D0;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=A0(o,null,i,1,l??null,p,!1,y,T),i[Dr]=o.current,tl(i),d)for(i=0;i<d.length;i++)l=d[i],p=l._getVersion,p=p(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,p]:o.mutableSourceEagerHydrationData.push(l,p);return new kc(o)},on.render=function(i,o,l){if(!bc(o))throw Error(t(200));return Rc(null,i,o,!1,l)},on.unmountComponentAtNode=function(i){if(!bc(i))throw Error(t(40));return i._reactRootContainer?(Ss(function(){Rc(null,null,i,!1,function(){i._reactRootContainer=null,i[Dr]=null})}),!0):!1},on.unstable_batchedUpdates=Of,on.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!bc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Rc(i,o,l,!1,d)},on.version="18.3.1-next-f1338f8080-20240426",on}var B0;function W_(){if(B0)return qf.exports;B0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qf.exports=Lx(),qf.exports}var H0;function jx(){if(H0)return Ac;H0=1;var n=W_();return Ac.createRoot=n.createRoot,Ac.hydrateRoot=n.hydrateRoot,Ac}var Mx=jx(),wl={},W0;function Vx(){if(W0)return wl;W0=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.parse=u,wl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function u(x,k){const R=new a,M=x.length;if(M<2)return R;const A=(k==null?void 0:k.decode)||v;let $=0;do{const F=x.indexOf("=",$);if(F===-1)break;const O=x.indexOf(";",$),H=O===-1?M:O;if(F>H){$=x.lastIndexOf(";",F-1)+1;continue}const X=h(x,$,F),ne=f(x,F,X),b=x.slice(X,ne);if(R[b]===void 0){let C=h(x,F+1,H),P=f(x,H,C);const L=A(x.slice(C,P));R[b]=L}$=H+1}while($<M);return R}function h(x,k,R){do{const M=x.charCodeAt(k);if(M!==32&&M!==9)return k}while(++k<R);return R}function f(x,k,R){for(;k>R;){const M=x.charCodeAt(--k);if(M!==32&&M!==9)return k+1}return R}function m(x,k,R){const M=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const A=M(k);if(!e.test(A))throw new TypeError(`argument val is invalid: ${k}`);let $=x+"="+A;if(!R)return $;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);$+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);$+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);$+="; Path="+R.path}if(R.expires){if(!E(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);$+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&($+="; HttpOnly"),R.secure&&($+="; Secure"),R.partitioned&&($+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return $}function v(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function E(x){return s.call(x)==="[object Date]"}return wl}Vx();/**
 * react-router v7.1.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q0="popstate";function Fx(n={}){function e(r,s){let{pathname:a,search:u,hash:h}=r.location;return Tp("",{pathname:a,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Vl(s)}return $x(e,t,null,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Zn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ux(){return Math.random().toString(36).substring(2,10)}function K0(n,e){return{usr:n.state,key:n.key,idx:e}}function Tp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?fa(e):e,state:t,key:e&&e.key||r||Ux()}}function Vl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function fa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function $x(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,h="POP",f=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function E(){h="POP";let A=v(),$=A==null?null:A-m;m=A,f&&f({action:h,location:M.location,delta:$})}function x(A,$){h="PUSH";let F=Tp(M.location,A,$);m=v()+1;let O=K0(F,m),H=M.createHref(F);try{u.pushState(O,"",H)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;s.location.assign(H)}a&&f&&f({action:h,location:M.location,delta:1})}function k(A,$){h="REPLACE";let F=Tp(M.location,A,$);m=v();let O=K0(F,m),H=M.createHref(F);u.replaceState(O,"",H),a&&f&&f({action:h,location:M.location,delta:0})}function R(A){let $=s.location.origin!=="null"?s.location.origin:s.location.href,F=typeof A=="string"?A:Vl(A);return F=F.replace(/ $/,"%20"),nt($,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,$)}let M={get action(){return h},get location(){return n(s,u)},listen(A){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(q0,E),f=A,()=>{s.removeEventListener(q0,E),f=null}},createHref(A){return e(s,A)},createURL:R,encodeLocation(A){let $=R(A);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:x,replace:k,go(A){return u.go(A)}};return M}function q_(n,e,t="/"){return zx(n,e,t,!1)}function zx(n,e,t,r){let s=typeof e=="string"?fa(e):e,a=$i(s.pathname||"/",t);if(a==null)return null;let u=K_(n);Bx(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=eI(a);h=Jx(u[f],m,r)}return h}function K_(n,e=[],t=[],r=""){let s=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(nt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=Wr([r,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(nt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),K_(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:Yx(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,u);else for(let f of G_(a.path))s(a,u,f)}),e}function G_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=G_(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function Bx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Xx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Hx=/^:[\w-]+$/,Wx=3,qx=2,Kx=1,Gx=10,Qx=-2,G0=n=>n==="*";function Yx(n,e){let t=n.split("/"),r=t.length;return t.some(G0)&&(r+=Qx),e&&(r+=qx),t.filter(s=>!G0(s)).reduce((s,a)=>s+(Hx.test(a)?Wx:a===""?Kx:Gx),r)}function Xx(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function Jx(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],m=h===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",E=rd({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),x=f.route;if(!E&&m&&t&&!r[r.length-1].route.index&&(E=rd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!E)return null;Object.assign(s,E.params),u.push({params:s,pathname:Wr([a,E.pathname]),pathnameBase:iI(Wr([a,E.pathnameBase])),route:x}),E.pathnameBase!=="/"&&(a=Wr([a,E.pathnameBase]))}return u}function rd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Zx(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:E},x)=>{if(v==="*"){let R=h[x]||"";u=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const k=h[x];return E&&!k?m[v]=void 0:m[v]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function Zx(n,e=!1,t=!0){Zn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function eI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $i(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function tI(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?fa(n):n;return{pathname:t?t.startsWith("/")?t:nI(t,e):e,search:sI(r),hash:oI(s)}}function nI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Qf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function fm(n){let e=rI(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function pm(n,e,t,r=!1){let s;typeof n=="string"?s=fa(n):(s={...n},nt(!s.pathname||!s.pathname.includes("?"),Qf("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),Qf("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),Qf("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,h;if(u==null)h=t;else{let E=e.length-1;if(!r&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),E-=1;s.pathname=x.join("/")}h=E>=0?e[E]:"/"}let f=tI(s,h),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var Wr=n=>n.join("/").replace(/\/\/+/g,"/"),iI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),sI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,oI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function aI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Q_=["POST","PUT","PATCH","DELETE"];new Set(Q_);var lI=["GET",...Q_];new Set(lI);var pa=I.createContext(null);pa.displayName="DataRouter";var Ld=I.createContext(null);Ld.displayName="DataRouterState";var Y_=I.createContext({isTransitioning:!1});Y_.displayName="ViewTransition";var uI=I.createContext(new Map);uI.displayName="Fetchers";var cI=I.createContext(null);cI.displayName="Await";var nr=I.createContext(null);nr.displayName="Navigation";var Jl=I.createContext(null);Jl.displayName="Location";var rr=I.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var mm=I.createContext(null);mm.displayName="RouteError";function dI(n,{relative:e}={}){nt(ma(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=I.useContext(nr),{hash:s,pathname:a,search:u}=Zl(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:Wr([t,a])),r.createHref({pathname:h,search:u,hash:s})}function ma(){return I.useContext(Jl)!=null}function Qi(){return nt(ma(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Jl).location}var X_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J_(n){I.useContext(nr).static||I.useLayoutEffect(n)}function gm(){let{isDataRoute:n}=I.useContext(rr);return n?SI():hI()}function hI(){nt(ma(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(pa),{basename:e,navigator:t}=I.useContext(nr),{matches:r}=I.useContext(rr),{pathname:s}=Qi(),a=JSON.stringify(fm(r)),u=I.useRef(!1);return J_(()=>{u.current=!0}),I.useCallback((f,m={})=>{if(Zn(u.current,X_),!u.current)return;if(typeof f=="number"){t.go(f);return}let v=pm(f,JSON.parse(a),s,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Wr([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,a,s,n])}I.createContext(null);function fI(){let{matches:n}=I.useContext(rr),e=n[n.length-1];return e?e.params:{}}function Zl(n,{relative:e}={}){let{matches:t}=I.useContext(rr),{pathname:r}=Qi(),s=JSON.stringify(fm(t));return I.useMemo(()=>pm(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function pI(n,e){return Z_(n,e)}function Z_(n,e,t,r){var $;nt(ma(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=I.useContext(nr),{matches:a}=I.useContext(rr),u=a[a.length-1],h=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let F=v&&v.path||"";e1(f,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=Qi(),x;if(e){let F=typeof e=="string"?fa(e):e;nt(m==="/"||(($=F.pathname)==null?void 0:$.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${F.pathname}" was given in the \`location\` prop.`),x=F}else x=E;let k=x.pathname||"/",R=k;if(m!=="/"){let F=m.replace(/^\//,"").split("/");R="/"+k.replace(/^\//,"").split("/").slice(F.length).join("/")}let M=q_(n,{pathname:R});Zn(v||M!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Zn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=_I(M&&M.map(F=>Object.assign({},F,{params:Object.assign({},h,F.params),pathname:Wr([m,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?m:Wr([m,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),a,t,r);return e&&A?I.createElement(Jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},A):A}function mI(){let n=II(),e=aI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:a},"ErrorBoundary")," or"," ",I.createElement("code",{style:a},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:s},t):null,u)}var gI=I.createElement(mI,null),yI=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?I.createElement(rr.Provider,{value:this.props.routeContext},I.createElement(mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vI({routeContext:n,match:e,children:t}){let r=I.useContext(pa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(rr.Provider,{value:n},t)}function _I(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);nt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:v,errors:E}=t,x=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||x){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,m,v)=>{let E,x=!1,k=null,R=null;t&&(E=a&&m.route.id?a[m.route.id]:void 0,k=m.route.errorElement||gI,u&&(h<0&&v===0?(e1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,R=null):h===v&&(x=!0,R=m.route.hydrateFallbackElement||null)));let M=e.concat(s.slice(0,v+1)),A=()=>{let $;return E?$=k:x?$=R:m.route.Component?$=I.createElement(m.route.Component,null):m.route.element?$=m.route.element:$=f,I.createElement(vI,{match:m,routeContext:{outlet:f,matches:M,isDataRoute:t!=null},children:$})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?I.createElement(yI,{location:t.location,revalidation:t.revalidation,component:k,error:E,children:A(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):A()},null)}function ym(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wI(n){let e=I.useContext(pa);return nt(e,ym(n)),e}function EI(n){let e=I.useContext(Ld);return nt(e,ym(n)),e}function TI(n){let e=I.useContext(rr);return nt(e,ym(n)),e}function vm(n){let e=TI(n),t=e.matches[e.matches.length-1];return nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function xI(){return vm("useRouteId")}function II(){var r;let n=I.useContext(mm),e=EI("useRouteError"),t=vm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function SI(){let{router:n}=wI("useNavigate"),e=vm("useNavigate"),t=I.useRef(!1);return J_(()=>{t.current=!0}),I.useCallback(async(s,a={})=>{Zn(t.current,X_),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var Q0={};function e1(n,e,t){!e&&!Q0[n]&&(Q0[n]=!0,Zn(!1,t))}I.memo(CI);function CI({routes:n,future:e,state:t}){return Z_(n,void 0,t,e)}function Zo({to:n,replace:e,state:t,relative:r}){nt(ma(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=I.useContext(nr);Zn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=I.useContext(rr),{pathname:u}=Qi(),h=gm(),f=pm(n,fm(a),u,r==="path"),m=JSON.stringify(f);return I.useEffect(()=>{h(JSON.parse(m),{replace:e,state:t,relative:r})},[h,m,r,e,t]),null}function Pn(n){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){nt(!ma(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=I.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=fa(t));let{pathname:f="/",search:m="",hash:v="",state:E=null,key:x="default"}=t,k=I.useMemo(()=>{let R=$i(f,u);return R==null?null:{location:{pathname:R,search:m,hash:v,state:E,key:x},navigationType:r}},[u,f,m,v,E,x,r]);return Zn(k!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:I.createElement(nr.Provider,{value:h},I.createElement(Jl.Provider,{children:e,value:k}))}function bI({children:n,location:e}){return pI(xp(n),e)}function xp(n,e=[]){let t=[];return I.Children.forEach(n,(r,s)=>{if(!I.isValidElement(r))return;let a=[...e,s];if(r.type===I.Fragment){t.push.apply(t,xp(r.props.children,a));return}nt(r.type===Pn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=xp(r.props.children,a)),t.push(u)}),t}var zc="get",Bc="application/x-www-form-urlencoded";function jd(n){return n!=null&&typeof n.tagName=="string"}function RI(n){return jd(n)&&n.tagName.toLowerCase()==="button"}function PI(n){return jd(n)&&n.tagName.toLowerCase()==="form"}function AI(n){return jd(n)&&n.tagName.toLowerCase()==="input"}function NI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function DI(n,e){return n.button===0&&(!e||e==="_self")&&!NI(n)}var Nc=null;function OI(){if(Nc===null)try{new FormData(document.createElement("form"),0),Nc=!1}catch{Nc=!0}return Nc}var LI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yf(n){return n!=null&&!LI.has(n)?(Zn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bc}"`),null):n}function jI(n,e){let t,r,s,a,u;if(PI(n)){let h=n.getAttribute("action");r=h?$i(h,e):null,t=n.getAttribute("method")||zc,s=Yf(n.getAttribute("enctype"))||Bc,a=new FormData(n)}else if(RI(n)||AI(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?$i(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||zc,s=Yf(n.getAttribute("formenctype"))||Yf(h.getAttribute("enctype"))||Bc,a=new FormData(h,n),!OI()){let{name:m,type:v,value:E}=n;if(v==="image"){let x=m?`${m}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else m&&a.append(m,E)}}else{if(jd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=zc,r=null,s=Bc,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function _m(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function MI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function FI(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await MI(a,t);return u.links?u.links():[]}return[]}));return BI(r.flat(1).filter(VI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Y0(n,e,t,r,s,a){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,h=(f,m)=>{var v;return t[m].pathname!==f.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):a==="data"?e.filter((f,m)=>{var E;let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function UI(n,e){return $I(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function $I(n){return[...new Set(n)]}function zI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function BI(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(zI(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function HI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function WI(){let n=I.useContext(pa);return _m(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function qI(){let n=I.useContext(Ld);return _m(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var wm=I.createContext(void 0);wm.displayName="FrameworkContext";function t1(){let n=I.useContext(wm);return _m(n,"You must render this element inside a <HydratedRouter> element"),n}function KI(n,e){let t=I.useContext(wm),[r,s]=I.useState(!1),[a,u]=I.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:E}=e,x=I.useRef(null);I.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let M=$=>{$.forEach(F=>{u(F.isIntersecting)})},A=new IntersectionObserver(M,{threshold:.5});return x.current&&A.observe(x.current),()=>{A.disconnect()}}},[n]),I.useEffect(()=>{if(r){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[r]);let k=()=>{s(!0)},R=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,x,{}]:[a,x,{onFocus:El(h,k),onBlur:El(f,R),onMouseEnter:El(m,k),onMouseLeave:El(v,R),onTouchStart:El(E,k)}]:[!1,x,{}]}function El(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function GI({page:n,...e}){let{router:t}=WI(),r=I.useMemo(()=>q_(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?I.createElement(YI,{page:n,matches:r,...e}):null}function QI(n){let{manifest:e,routeModules:t}=t1(),[r,s]=I.useState([]);return I.useEffect(()=>{let a=!1;return FI(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function YI({page:n,matches:e,...t}){let r=Qi(),{manifest:s,routeModules:a}=t1(),{loaderData:u,matches:h}=qI(),f=I.useMemo(()=>Y0(n,e,h,s,r,"data"),[n,e,h,s,r]),m=I.useMemo(()=>Y0(n,e,h,s,r,"assets"),[n,e,h,s,r]),v=I.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let k=new Set,R=!1;if(e.forEach(A=>{var F;let $=s.routes[A.route.id];!$||!$.hasLoader||(!f.some(O=>O.route.id===A.route.id)&&A.route.id in u&&((F=a[A.route.id])!=null&&F.shouldRevalidate)||$.hasClientLoader?R=!0:k.add(A.route.id))}),k.size===0)return[];let M=HI(n);return R&&k.size>0&&M.searchParams.set("_routes",e.filter(A=>k.has(A.route.id)).map(A=>A.route.id).join(",")),[M.pathname+M.search]},[u,r,s,f,e,n,a]),E=I.useMemo(()=>UI(m,s),[m,s]),x=QI(m);return I.createElement(I.Fragment,null,v.map(k=>I.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),E.map(k=>I.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),x.map(({key:k,link:R})=>I.createElement("link",{key:k,...R})))}function XI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var n1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{n1&&(window.__reactRouterVersion="7.1.0")}catch{}function JI({basename:n,children:e,window:t}){let r=I.useRef();r.current==null&&(r.current=Fx({window:t,v5Compat:!0}));let s=r.current,[a,u]=I.useState({action:s.action,location:s.location}),h=I.useCallback(f=>{I.startTransition(()=>u(f))},[u]);return I.useLayoutEffect(()=>s.listen(h),[s,h]),I.createElement(kI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var r1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=I.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:h,target:f,to:m,preventScrollReset:v,viewTransition:E,...x},k){let{basename:R}=I.useContext(nr),M=typeof m=="string"&&r1.test(m),A,$=!1;if(typeof m=="string"&&M&&(A=m,n1))try{let P=new URL(window.location.href),L=m.startsWith("//")?new URL(P.protocol+m):new URL(m),j=$i(L.pathname,R);L.origin===P.origin&&j!=null?m=j+L.search+L.hash:$=!0}catch{Zn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=dI(m,{relative:s}),[O,H,X]=KI(r,x),ne=nS(m,{replace:u,state:h,target:f,preventScrollReset:v,relative:s,viewTransition:E});function b(P){e&&e(P),P.defaultPrevented||ne(P)}let C=I.createElement("a",{...x,...X,href:A||F,onClick:$||a?e:b,ref:XI(k,H),target:f,"data-discover":!M&&t==="render"?"true":void 0});return O&&!M?I.createElement(I.Fragment,null,C,I.createElement(GI,{page:F})):C});bt.displayName="Link";var ZI=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:h,children:f,...m},v){let E=Zl(u,{relative:m.relative}),x=Qi(),k=I.useContext(Ld),{navigator:R,basename:M}=I.useContext(nr),A=k!=null&&aS(E)&&h===!0,$=R.encodeLocation?R.encodeLocation(E).pathname:E.pathname,F=x.pathname,O=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(F=F.toLowerCase(),O=O?O.toLowerCase():null,$=$.toLowerCase()),O&&M&&(O=$i(O,M)||O);const H=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let X=F===$||!s&&F.startsWith($)&&F.charAt(H)==="/",ne=O!=null&&(O===$||!s&&O.startsWith($)&&O.charAt($.length)==="/"),b={isActive:X,isPending:ne,isTransitioning:A},C=X?e:void 0,P;typeof r=="function"?P=r(b):P=[r,X?"active":null,ne?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(b):a;return I.createElement(bt,{...m,"aria-current":C,className:P,ref:v,style:L,to:u,viewTransition:h},typeof f=="function"?f(b):f)});ZI.displayName="NavLink";var eS=I.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=zc,action:h,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:E,...x},k)=>{let R=sS(),M=oS(h,{relative:m}),A=u.toLowerCase()==="get"?"get":"post",$=typeof h=="string"&&r1.test(h),F=O=>{if(f&&f(O),O.defaultPrevented)return;O.preventDefault();let H=O.nativeEvent.submitter,X=(H==null?void 0:H.getAttribute("formmethod"))||u;R(H||O.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:s,state:a,relative:m,preventScrollReset:v,viewTransition:E})};return I.createElement("form",{ref:k,method:A,action:M,onSubmit:r?f:F,...x,"data-discover":!$&&n==="render"?"true":void 0})});eS.displayName="Form";function tS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i1(n){let e=I.useContext(pa);return nt(e,tS(n)),e}function nS(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let h=gm(),f=Qi(),m=Zl(n,{relative:a});return I.useCallback(v=>{if(DI(v,e)){v.preventDefault();let E=t!==void 0?t:Vl(f)===Vl(m);h(n,{replace:E,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,h,m,t,r,e,n,s,a,u])}var rS=0,iS=()=>`__${String(++rS)}__`;function sS(){let{router:n}=i1("useSubmit"),{basename:e}=I.useContext(nr),t=xI();return I.useCallback(async(r,s={})=>{let{action:a,method:u,encType:h,formData:f,body:m}=jI(r,e);if(s.navigate===!1){let v=s.fetcherKey||iS();await n.fetch(v,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function oS(n,{relative:e}={}){let{basename:t}=I.useContext(nr),r=I.useContext(rr);nt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Zl(n||".",{relative:e})},u=Qi();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(E=>E).forEach(E=>h.append("index",E));let v=h.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Wr([t,a.pathname])),Vl(a)}function aS(n,e={}){let t=I.useContext(Y_);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=i1("useViewTransitionState"),s=Zl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=$i(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=$i(t.nextLocation.pathname,r)||t.nextLocation.pathname;return rd(s.pathname,u)!=null||rd(s.pathname,a)!=null}new TextEncoder;var lS=W_();function s1(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=s1(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Xn(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=s1(n))&&(r&&(r+=" "),r+=e);return r}var uS=Object.defineProperty,cS=(n,e,t)=>e in n?uS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Xf=(n,e,t)=>(cS(n,typeof e!="symbol"?e+"":e,t),t);let dS=class{constructor(){Xf(this,"current",this.detect()),Xf(this,"handoffState","pending"),Xf(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},js=new dS;function Md(n){return js.isServer?null:n instanceof Node?n.ownerDocument:n!=null&&n.hasOwnProperty("current")&&n.current instanceof Node?n.current.ownerDocument:document}function Vd(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function Yi(){let n=[],e={addEventListener(t,r,s,a){return t.addEventListener(r,s,a),e.add(()=>t.removeEventListener(r,s,a))},requestAnimationFrame(...t){let r=requestAnimationFrame(...t);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...t){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...t))},setTimeout(...t){let r=setTimeout(...t);return e.add(()=>clearTimeout(r))},microTask(...t){let r={current:!0};return Vd(()=>{r.current&&t[0]()}),e.add(()=>{r.current=!1})},style(t,r,s){let a=t.style.getPropertyValue(r);return Object.assign(t.style,{[r]:s}),this.add(()=>{Object.assign(t.style,{[r]:a})})},group(t){let r=Yi();return t(r),this.add(()=>r.dispose())},add(t){return n.includes(t)||n.push(t),()=>{let r=n.indexOf(t);if(r>=0)for(let s of n.splice(r,1))s()}},dispose(){for(let t of n.splice(0))t()}};return e}function Em(){let[n]=I.useState(Yi);return I.useEffect(()=>()=>n.dispose(),[n]),n}let Xt=(n,e)=>{js.isServer?I.useEffect(n,e):I.useLayoutEffect(n,e)};function Gs(n){let e=I.useRef(n);return Xt(()=>{e.current=n},[n]),e}let st=function(n){let e=Gs(n);return le.useCallback((...t)=>e.current(...t),[e])},hS=I.createContext(void 0);function fS(){return I.useContext(hS)}function Ip(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function zi(n,e,...t){if(n in e){let s=e[n];return typeof s=="function"?s(...t):s}let r=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,zi),r}var id=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(id||{}),Oi=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(Oi||{});function Nn(){let n=mS();return I.useCallback(e=>pS({mergeRefs:n,...e}),[n])}function pS({ourProps:n,theirProps:e,slot:t,defaultTag:r,features:s,visible:a=!0,name:u,mergeRefs:h}){h=h??gS;let f=o1(e,n);if(a)return Dc(f,t,r,u,h);let m=s??0;if(m&2){let{static:v=!1,...E}=f;if(v)return Dc(E,t,r,u,h)}if(m&1){let{unmount:v=!0,...E}=f;return zi(v?0:1,{0(){return null},1(){return Dc({...E,hidden:!0,style:{display:"none"}},t,r,u,h)}})}return Dc(f,t,r,u,h)}function Dc(n,e={},t,r,s){let{as:a=t,children:u,refName:h="ref",...f}=Jf(n,["unmount","static"]),m=n.ref!==void 0?{[h]:n.ref}:{},v=typeof u=="function"?u(e):u;"className"in f&&f.className&&typeof f.className=="function"&&(f.className=f.className(e)),f["aria-labelledby"]&&f["aria-labelledby"]===f.id&&(f["aria-labelledby"]=void 0);let E={};if(e){let x=!1,k=[];for(let[R,M]of Object.entries(e))typeof M=="boolean"&&(x=!0),M===!0&&k.push(R.replace(/([A-Z])/g,A=>`-${A.toLowerCase()}`));if(x){E["data-headlessui-state"]=k.join(" ");for(let R of k)E[`data-${R}`]=""}}if(a===I.Fragment&&(Object.keys(Ps(f)).length>0||Object.keys(Ps(E)).length>0))if(!I.isValidElement(v)||Array.isArray(v)&&v.length>1){if(Object.keys(Ps(f)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ps(f)).concat(Object.keys(Ps(E))).map(x=>`  - ${x}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(x=>`  - ${x}`).join(`
`)].join(`
`))}else{let x=v.props,k=x==null?void 0:x.className,R=typeof k=="function"?(...$)=>Ip(k(...$),f.className):Ip(k,f.className),M=R?{className:R}:{},A=o1(v.props,Ps(Jf(f,["ref"])));for(let $ in E)$ in A&&delete E[$];return I.cloneElement(v,Object.assign({},A,E,m,{ref:s(yS(v),m.ref)},M))}return I.createElement(a,Object.assign({},Jf(f,["ref"]),a!==I.Fragment&&m,a!==I.Fragment&&E),v)}function mS(){let n=I.useRef([]),e=I.useCallback(t=>{for(let r of n.current)r!=null&&(typeof r=="function"?r(t):r.current=t)},[]);return(...t)=>{if(!t.every(r=>r==null))return n.current=t,e}}function gS(...n){return n.every(e=>e==null)?void 0:e=>{for(let t of n)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function o1(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let r of n)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(t[s]!=null||(t[s]=[]),t[s].push(r[s])):e[s]=r[s];if(e.disabled||e["aria-disabled"])for(let r in t)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(t[r]=[s=>{var a;return(a=s==null?void 0:s.preventDefault)==null?void 0:a.call(s)}]);for(let r in t)Object.assign(e,{[r](s,...a){let u=t[r];for(let h of u){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;h(s,...a)}}});return e}function cn(n){var e;return Object.assign(I.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function Ps(n){let e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function Jf(n,e=[]){let t=Object.assign({},n);for(let r of e)r in t&&delete t[r];return t}function yS(n){return le.version.split(".")[0]>="19"?n.props.ref:n.ref}let vS="span";var sd=(n=>(n[n.None=1]="None",n[n.Focusable=2]="Focusable",n[n.Hidden=4]="Hidden",n))(sd||{});function _S(n,e){var t;let{features:r=1,...s}=n,a={ref:e,"aria-hidden":(r&2)===2?!0:(t=s["aria-hidden"])!=null?t:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Nn()({ourProps:a,theirProps:s,slot:{},defaultTag:vS,name:"Hidden"})}let Sp=cn(_S),a1=Symbol();function wS(n,e=!0){return Object.assign(n,{[a1]:e})}function Tr(...n){let e=I.useRef(n);I.useEffect(()=>{e.current=n},[n]);let t=st(r=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return n.every(r=>r==null||(r==null?void 0:r[a1]))?void 0:t}let Tm=I.createContext(null);Tm.displayName="DescriptionContext";function l1(){let n=I.useContext(Tm);if(n===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,l1),e}return n}function ES(){let[n,e]=I.useState([]);return[n.length>0?n.join(" "):void 0,I.useMemo(()=>function(t){let r=st(a=>(e(u=>[...u,a]),()=>e(u=>{let h=u.slice(),f=h.indexOf(a);return f!==-1&&h.splice(f,1),h}))),s=I.useMemo(()=>({register:r,slot:t.slot,name:t.name,props:t.props,value:t.value}),[r,t.slot,t.name,t.props,t.value]);return le.createElement(Tm.Provider,{value:s},t.children)},[e])]}let TS="p";function xS(n,e){let t=I.useId(),r=fS(),{id:s=`headlessui-description-${t}`,...a}=n,u=l1(),h=Tr(e);Xt(()=>u.register(s),[s,u.register]);let f=r||!1,m=I.useMemo(()=>({...u.slot,disabled:f}),[u.slot,f]),v={ref:h,...u.props,id:s};return Nn()({ourProps:v,theirProps:a,slot:m,defaultTag:TS,name:u.name||"Description"})}let IS=cn(xS),SS=Object.assign(IS,{});var u1=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(u1||{});let CS=I.createContext(()=>{});function kS({value:n,children:e}){return le.createElement(CS.Provider,{value:n},e)}let bS=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return t===void 0&&(t=this.factory(e),this.set(e,t)),t}};function c1(n,e){let t=n(),r=new Set;return{getSnapshot(){return t},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...a){let u=e[s].call(t,...a);u&&(t=u,r.forEach(h=>h()))}}}function d1(n){return I.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getSnapshot)}let RS=new bS(()=>c1(()=>[],{ADD(n){return this.includes(n)?this:[...this,n]},REMOVE(n){let e=this.indexOf(n);if(e===-1)return this;let t=this.slice();return t.splice(e,1),t}}));function ga(n,e){let t=RS.get(e),r=I.useId(),s=d1(t);if(Xt(()=>{if(n)return t.dispatch("ADD",r),()=>t.dispatch("REMOVE",r)},[t,n]),!n)return!1;let a=s.indexOf(r),u=s.length;return a===-1&&(a=u,u+=1),a===u-1}let Cp=new Map,Al=new Map;function X0(n){var e;let t=(e=Al.get(n))!=null?e:0;return Al.set(n,t+1),t!==0?()=>J0(n):(Cp.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0,()=>J0(n))}function J0(n){var e;let t=(e=Al.get(n))!=null?e:1;if(t===1?Al.delete(n):Al.set(n,t-1),t!==1)return;let r=Cp.get(n);r&&(r["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",r["aria-hidden"]),n.inert=r.inert,Cp.delete(n))}function PS(n,{allowed:e,disallowed:t}={}){let r=ga(n,"inert-others");Xt(()=>{var s,a;if(!r)return;let u=Yi();for(let f of(s=t==null?void 0:t())!=null?s:[])f&&u.add(X0(f));let h=(a=e==null?void 0:e())!=null?a:[];for(let f of h){if(!f)continue;let m=Md(f);if(!m)continue;let v=f.parentElement;for(;v&&v!==m.body;){for(let E of v.children)h.some(x=>E.contains(x))||u.add(X0(E));v=v.parentElement}}return u.dispose},[r,e,t])}function AS(n,e,t){let r=Gs(s=>{let a=s.getBoundingClientRect();a.x===0&&a.y===0&&a.width===0&&a.height===0&&t()});I.useEffect(()=>{if(!n)return;let s=e===null?null:e instanceof HTMLElement?e:e.current;if(!s)return;let a=Yi();if(typeof ResizeObserver<"u"){let u=new ResizeObserver(()=>r.current(s));u.observe(s),a.add(()=>u.disconnect())}if(typeof IntersectionObserver<"u"){let u=new IntersectionObserver(()=>r.current(s));u.observe(s),a.add(()=>u.disconnect())}return()=>a.dispose()},[e,r,n])}let od=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(","),NS=["[data-autofocus]"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var $r=(n=>(n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n[n.AutoFocus=64]="AutoFocus",n))($r||{}),kp=(n=>(n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow",n))(kp||{}),DS=(n=>(n[n.Previous=-1]="Previous",n[n.Next=1]="Next",n))(DS||{});function OS(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(od)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function LS(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(NS)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var h1=(n=>(n[n.Strict=0]="Strict",n[n.Loose=1]="Loose",n))(h1||{});function jS(n,e=0){var t;return n===((t=Md(n))==null?void 0:t.body)?!1:zi(e,{0(){return n.matches(od)},1(){let r=n;for(;r!==null;){if(r.matches(od))return!0;r=r.parentElement}return!1}})}var MS=(n=>(n[n.Keyboard=0]="Keyboard",n[n.Mouse=1]="Mouse",n))(MS||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{n.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:n.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function qr(n){n==null||n.focus({preventScroll:!0})}let VS=["textarea","input"].join(",");function FS(n){var e,t;return(t=(e=n==null?void 0:n.matches)==null?void 0:e.call(n,VS))!=null?t:!1}function US(n,e=t=>t){return n.slice().sort((t,r)=>{let s=e(t),a=e(r);if(s===null||a===null)return 0;let u=s.compareDocumentPosition(a);return u&Node.DOCUMENT_POSITION_FOLLOWING?-1:u&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Nl(n,e,{sorted:t=!0,relativeTo:r=null,skipElements:s=[]}={}){let a=Array.isArray(n)?n.length>0?n[0].ownerDocument:document:n.ownerDocument,u=Array.isArray(n)?t?US(n):n:e&64?LS(n):OS(n);s.length>0&&u.length>1&&(u=u.filter(k=>!s.some(R=>R!=null&&"current"in R?(R==null?void 0:R.current)===k:R===k))),r=r??a.activeElement;let h=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,u.indexOf(r))-1;if(e&4)return Math.max(0,u.indexOf(r))+1;if(e&8)return u.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=e&32?{preventScroll:!0}:{},v=0,E=u.length,x;do{if(v>=E||v+E<=0)return 0;let k=f+v;if(e&16)k=(k+E)%E;else{if(k<0)return 3;if(k>=E)return 1}x=u[k],x==null||x.focus(m),v+=h}while(x!==a.activeElement);return e&6&&FS(x)&&x.select(),2}function f1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function $S(){return/Android/gi.test(window.navigator.userAgent)}function zS(){return f1()||$S()}function Tl(n,e,t,r){let s=Gs(t);I.useEffect(()=>{if(!n)return;function a(u){s.current(u)}return document.addEventListener(e,a,r),()=>document.removeEventListener(e,a,r)},[n,e,r])}function p1(n,e,t,r){let s=Gs(t);I.useEffect(()=>{if(!n)return;function a(u){s.current(u)}return window.addEventListener(e,a,r),()=>window.removeEventListener(e,a,r)},[n,e,r])}const Z0=30;function BS(n,e,t){let r=ga(n,"outside-click"),s=Gs(t),a=I.useCallback(function(f,m){if(f.defaultPrevented)return;let v=m(f);if(v===null||!v.getRootNode().contains(v)||!v.isConnected)return;let E=function x(k){return typeof k=="function"?x(k()):Array.isArray(k)||k instanceof Set?k:[k]}(e);for(let x of E)if(x!==null&&(x.contains(v)||f.composed&&f.composedPath().includes(x)))return;return!jS(v,h1.Loose)&&v.tabIndex!==-1&&f.preventDefault(),s.current(f,v)},[s,e]),u=I.useRef(null);Tl(r,"pointerdown",f=>{var m,v;u.current=((v=(m=f.composedPath)==null?void 0:m.call(f))==null?void 0:v[0])||f.target},!0),Tl(r,"mousedown",f=>{var m,v;u.current=((v=(m=f.composedPath)==null?void 0:m.call(f))==null?void 0:v[0])||f.target},!0),Tl(r,"click",f=>{zS()||u.current&&(a(f,()=>u.current),u.current=null)},!0);let h=I.useRef({x:0,y:0});Tl(r,"touchstart",f=>{h.current.x=f.touches[0].clientX,h.current.y=f.touches[0].clientY},!0),Tl(r,"touchend",f=>{let m={x:f.changedTouches[0].clientX,y:f.changedTouches[0].clientY};if(!(Math.abs(m.x-h.current.x)>=Z0||Math.abs(m.y-h.current.y)>=Z0))return a(f,()=>f.target instanceof HTMLElement?f.target:null)},!0),p1(r,"blur",f=>a(f,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function eu(...n){return I.useMemo(()=>Md(...n),[...n])}function m1(n,e,t,r){let s=Gs(t);I.useEffect(()=>{n=n??window;function a(u){s.current(u)}return n.addEventListener(e,a,r),()=>n.removeEventListener(e,a,r)},[n,e,r])}function HS(){let n;return{before({doc:e}){var t;let r=e.documentElement,s=(t=e.defaultView)!=null?t:window;n=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:e,d:t}){let r=e.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),a=Math.max(0,n-s);t.style(r,"paddingRight",`${a}px`)}}}function WS(){return f1()?{before({doc:n,d:e,meta:t}){function r(s){return t.containers.flatMap(a=>a()).some(a=>a.contains(s))}e.microTask(()=>{var s;if(window.getComputedStyle(n.documentElement).scrollBehavior!=="auto"){let h=Yi();h.style(n.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>h.dispose()))}let a=(s=window.scrollY)!=null?s:window.pageYOffset,u=null;e.addEventListener(n,"click",h=>{if(h.target instanceof HTMLElement)try{let f=h.target.closest("a");if(!f)return;let{hash:m}=new URL(f.href),v=n.querySelector(m);v&&!r(v)&&(u=v)}catch{}},!0),e.addEventListener(n,"touchstart",h=>{if(h.target instanceof HTMLElement)if(r(h.target)){let f=h.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;e.style(f,"overscrollBehavior","contain")}else e.style(h.target,"touchAction","none")}),e.addEventListener(n,"touchmove",h=>{if(h.target instanceof HTMLElement){if(h.target.tagName==="INPUT")return;if(r(h.target)){let f=h.target;for(;f.parentElement&&f.dataset.headlessuiPortal!==""&&!(f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth);)f=f.parentElement;f.dataset.headlessuiPortal===""&&h.preventDefault()}else h.preventDefault()}},{passive:!1}),e.add(()=>{var h;let f=(h=window.scrollY)!=null?h:window.pageYOffset;a!==f&&window.scrollTo(0,a),u&&u.isConnected&&(u.scrollIntoView({block:"nearest"}),u=null)})})}}:{}}function qS(){return{before({doc:n,d:e}){e.style(n.documentElement,"overflow","hidden")}}}function KS(n){let e={};for(let t of n)Object.assign(e,t(e));return e}let Os=c1(()=>new Map,{PUSH(n,e){var t;let r=(t=this.get(n))!=null?t:{doc:n,count:0,d:Yi(),meta:new Set};return r.count++,r.meta.add(e),this.set(n,r),this},POP(n,e){let t=this.get(n);return t&&(t.count--,t.meta.delete(e)),this},SCROLL_PREVENT({doc:n,d:e,meta:t}){let r={doc:n,d:e,meta:KS(t)},s=[WS(),HS(),qS()];s.forEach(({before:a})=>a==null?void 0:a(r)),s.forEach(({after:a})=>a==null?void 0:a(r))},SCROLL_ALLOW({d:n}){n.dispose()},TEARDOWN({doc:n}){this.delete(n)}});Os.subscribe(()=>{let n=Os.getSnapshot(),e=new Map;for(let[t]of n)e.set(t,t.documentElement.style.overflow);for(let t of n.values()){let r=e.get(t.doc)==="hidden",s=t.count!==0;(s&&!r||!s&&r)&&Os.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&Os.dispatch("TEARDOWN",t)}});function GS(n,e,t=()=>({containers:[]})){let r=d1(Os),s=e?r.get(e):void 0,a=s?s.count>0:!1;return Xt(()=>{if(!(!e||!n))return Os.dispatch("PUSH",e,t),()=>Os.dispatch("POP",e,t)},[n,e]),a}function QS(n,e,t=()=>[document.body]){let r=ga(n,"scroll-lock");GS(r,e,s=>{var a;return{containers:[...(a=s.containers)!=null?a:[],t]}})}function YS(n=0){let[e,t]=I.useState(n),r=I.useCallback(f=>t(f),[e]),s=I.useCallback(f=>t(m=>m|f),[e]),a=I.useCallback(f=>(e&f)===f,[e]),u=I.useCallback(f=>t(m=>m&~f),[t]),h=I.useCallback(f=>t(m=>m^f),[t]);return{flags:e,setFlag:r,addFlag:s,hasFlag:a,removeFlag:u,toggleFlag:h}}var XS={},ev,tv;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((ev=process==null?void 0:XS)==null?void 0:ev.NODE_ENV)==="test"&&typeof((tv=Element==null?void 0:Element.prototype)==null?void 0:tv.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var JS=(n=>(n[n.None=0]="None",n[n.Closed=1]="Closed",n[n.Enter=2]="Enter",n[n.Leave=4]="Leave",n))(JS||{});function ZS(n){let e={};for(let t in n)n[t]===!0&&(e[`data-${t}`]="");return e}function eC(n,e,t,r){let[s,a]=I.useState(t),{hasFlag:u,addFlag:h,removeFlag:f}=YS(n&&s?3:0),m=I.useRef(!1),v=I.useRef(!1),E=Em();return Xt(()=>{var x;if(n){if(t&&a(!0),!e){t&&h(3);return}return(x=r==null?void 0:r.start)==null||x.call(r,t),tC(e,{inFlight:m,prepare(){v.current?v.current=!1:v.current=m.current,m.current=!0,!v.current&&(t?(h(3),f(4)):(h(4),f(2)))},run(){v.current?t?(f(3),h(4)):(f(4),h(3)):t?f(1):h(1)},done(){var k;v.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(m.current=!1,f(7),t||a(!1),(k=r==null?void 0:r.end)==null||k.call(r,t))}})}},[n,t,e,E]),n?[s,{closed:u(1),enter:u(2),leave:u(4),transition:u(2)||u(4)}]:[t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function tC(n,{prepare:e,run:t,done:r,inFlight:s}){let a=Yi();return rC(n,{prepare:e,inFlight:s}),a.nextFrame(()=>{t(),a.requestAnimationFrame(()=>{a.add(nC(n,r))})}),a.dispose}function nC(n,e){var t,r;let s=Yi();if(!n)return s.dispose;let a=!1;s.add(()=>{a=!0});let u=(r=(t=n.getAnimations)==null?void 0:t.call(n).filter(h=>h instanceof CSSTransition))!=null?r:[];return u.length===0?(e(),s.dispose):(Promise.allSettled(u.map(h=>h.finished)).then(()=>{a||e()}),s.dispose)}function rC(n,{inFlight:e,prepare:t}){if(e!=null&&e.current){t();return}let r=n.style.transition;n.style.transition="none",t(),n.offsetHeight,n.style.transition=r}function xm(n,e){let t=I.useRef([]),r=st(n);I.useEffect(()=>{let s=[...t.current];for(let[a,u]of e.entries())if(t.current[a]!==u){let h=r(e,s);return t.current=e,h}},[r,...e])}let Fd=I.createContext(null);Fd.displayName="OpenClosedContext";var Qn=(n=>(n[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n))(Qn||{});function Ud(){return I.useContext(Fd)}function iC({value:n,children:e}){return le.createElement(Fd.Provider,{value:n},e)}function sC({children:n}){return le.createElement(Fd.Provider,{value:null},n)}function oC(n){function e(){document.readyState!=="loading"&&(n(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ri=[];oC(()=>{function n(e){if(!(e.target instanceof HTMLElement)||e.target===document.body||Ri[0]===e.target)return;let t=e.target;t=t.closest(od),Ri.unshift(t??e.target),Ri=Ri.filter(r=>r!=null&&r.isConnected),Ri.splice(10)}window.addEventListener("click",n,{capture:!0}),window.addEventListener("mousedown",n,{capture:!0}),window.addEventListener("focus",n,{capture:!0}),document.body.addEventListener("click",n,{capture:!0}),document.body.addEventListener("mousedown",n,{capture:!0}),document.body.addEventListener("focus",n,{capture:!0})});function g1(n){let e=st(n),t=I.useRef(!1);I.useEffect(()=>(t.current=!1,()=>{t.current=!0,Vd(()=>{t.current&&e()})}),[e])}function aC(){let n=typeof document>"u";return"useSyncExternalStore"in F0?(e=>e.useSyncExternalStore)(F0)(()=>()=>{},()=>!1,()=>!n):!1}function tu(){let n=aC(),[e,t]=I.useState(js.isHandoffComplete);return e&&js.isHandoffComplete===!1&&t(!1),I.useEffect(()=>{e!==!0&&t(!0)},[e]),I.useEffect(()=>js.handoff(),[]),n?!1:e}let y1=I.createContext(!1);function lC(){return I.useContext(y1)}function nv(n){return le.createElement(y1.Provider,{value:n.force},n.children)}function uC(n){let e=lC(),t=I.useContext(_1),r=eu(n),[s,a]=I.useState(()=>{var u;if(!e&&t!==null)return(u=t.current)!=null?u:null;if(js.isServer)return null;let h=r==null?void 0:r.getElementById("headlessui-portal-root");if(h)return h;if(r===null)return null;let f=r.createElement("div");return f.setAttribute("id","headlessui-portal-root"),r.body.appendChild(f)});return I.useEffect(()=>{s!==null&&(r!=null&&r.body.contains(s)||r==null||r.body.appendChild(s))},[s,r]),I.useEffect(()=>{e||t!==null&&a(t.current)},[t,a,e]),s}let v1=I.Fragment,cC=cn(function(n,e){let t=n,r=I.useRef(null),s=Tr(wS(E=>{r.current=E}),e),a=eu(r),u=uC(r),[h]=I.useState(()=>{var E;return js.isServer?null:(E=a==null?void 0:a.createElement("div"))!=null?E:null}),f=I.useContext(bp),m=tu();Xt(()=>{!u||!h||u.contains(h)||(h.setAttribute("data-headlessui-portal",""),u.appendChild(h))},[u,h]),Xt(()=>{if(h&&f)return f.register(h)},[f,h]),g1(()=>{var E;!u||!h||(h instanceof Node&&u.contains(h)&&u.removeChild(h),u.childNodes.length<=0&&((E=u.parentElement)==null||E.removeChild(u)))});let v=Nn();return m?!u||!h?null:lS.createPortal(v({ourProps:{ref:s},theirProps:t,slot:{},defaultTag:v1,name:"Portal"}),h):null});function dC(n,e){let t=Tr(e),{enabled:r=!0,...s}=n,a=Nn();return r?le.createElement(cC,{...s,ref:t}):a({ourProps:{ref:t},theirProps:s,slot:{},defaultTag:v1,name:"Portal"})}let hC=I.Fragment,_1=I.createContext(null);function fC(n,e){let{target:t,...r}=n,s={ref:Tr(e)},a=Nn();return le.createElement(_1.Provider,{value:t},a({ourProps:s,theirProps:r,defaultTag:hC,name:"Popover.Group"}))}let bp=I.createContext(null);function pC(){let n=I.useContext(bp),e=I.useRef([]),t=st(a=>(e.current.push(a),n&&n.register(a),()=>r(a))),r=st(a=>{let u=e.current.indexOf(a);u!==-1&&e.current.splice(u,1),n&&n.unregister(a)}),s=I.useMemo(()=>({register:t,unregister:r,portals:e}),[t,r,e]);return[e,I.useMemo(()=>function({children:a}){return le.createElement(bp.Provider,{value:s},a)},[s])]}let mC=cn(dC),w1=cn(fC),gC=Object.assign(mC,{Group:w1});function yC(n,e=typeof document<"u"?document.defaultView:null,t){let r=ga(n,"escape");m1(e,"keydown",s=>{r&&(s.defaultPrevented||s.key===u1.Escape&&t(s))})}function vC(){var n;let[e]=I.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[t,r]=I.useState((n=e==null?void 0:e.matches)!=null?n:!1);return Xt(()=>{if(!e)return;function s(a){r(a.matches)}return e.addEventListener("change",s),()=>e.removeEventListener("change",s)},[e]),t}function _C({defaultContainers:n=[],portals:e,mainTreeNode:t}={}){let r=eu(t),s=st(()=>{var a,u;let h=[];for(let f of n)f!==null&&(f instanceof HTMLElement?h.push(f):"current"in f&&f.current instanceof HTMLElement&&h.push(f.current));if(e!=null&&e.current)for(let f of e.current)h.push(f);for(let f of(a=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?a:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(t&&(f.contains(t)||f.contains((u=t==null?void 0:t.getRootNode())==null?void 0:u.host))||h.some(m=>f.contains(m))||h.push(f));return h});return{resolveContainers:s,contains:st(a=>s().some(u=>u.contains(a)))}}let E1=I.createContext(null);function rv({children:n,node:e}){let[t,r]=I.useState(null),s=T1(e??t);return le.createElement(E1.Provider,{value:s},n,s===null&&le.createElement(Sp,{features:sd.Hidden,ref:a=>{var u,h;if(a){for(let f of(h=(u=Md(a))==null?void 0:u.querySelectorAll("html > *, body > *"))!=null?h:[])if(f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f!=null&&f.contains(a)){r(f);break}}}}))}function T1(n=null){var e;return(e=I.useContext(E1))!=null?e:n}function Im(){let n=I.useRef(!1);return Xt(()=>(n.current=!0,()=>{n.current=!1}),[]),n}var xl=(n=>(n[n.Forwards=0]="Forwards",n[n.Backwards=1]="Backwards",n))(xl||{});function wC(){let n=I.useRef(0);return p1(!0,"keydown",e=>{e.key==="Tab"&&(n.current=e.shiftKey?1:0)},!0),n}function x1(n){if(!n)return new Set;if(typeof n=="function")return new Set(n());let e=new Set;for(let t of n.current)t.current instanceof HTMLElement&&e.add(t.current);return e}let EC="div";var Ds=(n=>(n[n.None=0]="None",n[n.InitialFocus=1]="InitialFocus",n[n.TabLock=2]="TabLock",n[n.FocusLock=4]="FocusLock",n[n.RestoreFocus=8]="RestoreFocus",n[n.AutoFocus=16]="AutoFocus",n))(Ds||{});function TC(n,e){let t=I.useRef(null),r=Tr(t,e),{initialFocus:s,initialFocusFallback:a,containers:u,features:h=15,...f}=n;tu()||(h=0);let m=eu(t);CC(h,{ownerDocument:m});let v=kC(h,{ownerDocument:m,container:t,initialFocus:s,initialFocusFallback:a});bC(h,{ownerDocument:m,container:t,containers:u,previousActiveElement:v});let E=wC(),x=st(F=>{let O=t.current;O&&(H=>H())(()=>{zi(E.current,{[xl.Forwards]:()=>{Nl(O,$r.First,{skipElements:[F.relatedTarget,a]})},[xl.Backwards]:()=>{Nl(O,$r.Last,{skipElements:[F.relatedTarget,a]})}})})}),k=ga(!!(h&2),"focus-trap#tab-lock"),R=Em(),M=I.useRef(!1),A={ref:r,onKeyDown(F){F.key=="Tab"&&(M.current=!0,R.requestAnimationFrame(()=>{M.current=!1}))},onBlur(F){if(!(h&4))return;let O=x1(u);t.current instanceof HTMLElement&&O.add(t.current);let H=F.relatedTarget;H instanceof HTMLElement&&H.dataset.headlessuiFocusGuard!=="true"&&(I1(O,H)||(M.current?Nl(t.current,zi(E.current,{[xl.Forwards]:()=>$r.Next,[xl.Backwards]:()=>$r.Previous})|$r.WrapAround,{relativeTo:F.target}):F.target instanceof HTMLElement&&qr(F.target)))}},$=Nn();return le.createElement(le.Fragment,null,k&&le.createElement(Sp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:x,features:sd.Focusable}),$({ourProps:A,theirProps:f,defaultTag:EC,name:"FocusTrap"}),k&&le.createElement(Sp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:x,features:sd.Focusable}))}let xC=cn(TC),IC=Object.assign(xC,{features:Ds});function SC(n=!0){let e=I.useRef(Ri.slice());return xm(([t],[r])=>{r===!0&&t===!1&&Vd(()=>{e.current.splice(0)}),r===!1&&t===!0&&(e.current=Ri.slice())},[n,Ri,e]),st(()=>{var t;return(t=e.current.find(r=>r!=null&&r.isConnected))!=null?t:null})}function CC(n,{ownerDocument:e}){let t=!!(n&8),r=SC(t);xm(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&qr(r())},[t]),g1(()=>{t&&qr(r())})}function kC(n,{ownerDocument:e,container:t,initialFocus:r,initialFocusFallback:s}){let a=I.useRef(null),u=ga(!!(n&1),"focus-trap#initial-focus"),h=Im();return xm(()=>{if(n===0)return;if(!u){s!=null&&s.current&&qr(s.current);return}let f=t.current;f&&Vd(()=>{if(!h.current)return;let m=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===m){a.current=m;return}}else if(f.contains(m)){a.current=m;return}if(r!=null&&r.current)qr(r.current);else{if(n&16){if(Nl(f,$r.First|$r.AutoFocus)!==kp.Error)return}else if(Nl(f,$r.First)!==kp.Error)return;if(s!=null&&s.current&&(qr(s.current),(e==null?void 0:e.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}a.current=e==null?void 0:e.activeElement})},[s,u,n]),a}function bC(n,{ownerDocument:e,container:t,containers:r,previousActiveElement:s}){let a=Im(),u=!!(n&4);m1(e==null?void 0:e.defaultView,"focus",h=>{if(!u||!a.current)return;let f=x1(r);t.current instanceof HTMLElement&&f.add(t.current);let m=s.current;if(!m)return;let v=h.target;v&&v instanceof HTMLElement?I1(f,v)?(s.current=v,qr(v)):(h.preventDefault(),h.stopPropagation(),qr(m)):qr(s.current)},!0)}function I1(n,e){for(let t of n)if(t.contains(e))return!0;return!1}function S1(n){var e;return!!(n.enter||n.enterFrom||n.enterTo||n.leave||n.leaveFrom||n.leaveTo)||((e=n.as)!=null?e:k1)!==I.Fragment||le.Children.count(n.children)===1}let $d=I.createContext(null);$d.displayName="TransitionContext";var RC=(n=>(n.Visible="visible",n.Hidden="hidden",n))(RC||{});function PC(){let n=I.useContext($d);if(n===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}function AC(){let n=I.useContext(zd);if(n===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}let zd=I.createContext(null);zd.displayName="NestingContext";function Bd(n){return"children"in n?Bd(n.children):n.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function C1(n,e){let t=Gs(n),r=I.useRef([]),s=Im(),a=Em(),u=st((k,R=Oi.Hidden)=>{let M=r.current.findIndex(({el:A})=>A===k);M!==-1&&(zi(R,{[Oi.Unmount](){r.current.splice(M,1)},[Oi.Hidden](){r.current[M].state="hidden"}}),a.microTask(()=>{var A;!Bd(r)&&s.current&&((A=t.current)==null||A.call(t))}))}),h=st(k=>{let R=r.current.find(({el:M})=>M===k);return R?R.state!=="visible"&&(R.state="visible"):r.current.push({el:k,state:"visible"}),()=>u(k,Oi.Unmount)}),f=I.useRef([]),m=I.useRef(Promise.resolve()),v=I.useRef({enter:[],leave:[]}),E=st((k,R,M)=>{f.current.splice(0),e&&(e.chains.current[R]=e.chains.current[R].filter(([A])=>A!==k)),e==null||e.chains.current[R].push([k,new Promise(A=>{f.current.push(A)})]),e==null||e.chains.current[R].push([k,new Promise(A=>{Promise.all(v.current[R].map(([$,F])=>F)).then(()=>A())})]),R==="enter"?m.current=m.current.then(()=>e==null?void 0:e.wait.current).then(()=>M(R)):M(R)}),x=st((k,R,M)=>{Promise.all(v.current[R].splice(0).map(([A,$])=>$)).then(()=>{var A;(A=f.current.shift())==null||A()}).then(()=>M(R))});return I.useMemo(()=>({children:r,register:h,unregister:u,onStart:E,onStop:x,wait:m,chains:v}),[h,u,r,E,x,v,m])}let k1=I.Fragment,b1=id.RenderStrategy;function NC(n,e){var t,r;let{transition:s=!0,beforeEnter:a,afterEnter:u,beforeLeave:h,afterLeave:f,enter:m,enterFrom:v,enterTo:E,entered:x,leave:k,leaveFrom:R,leaveTo:M,...A}=n,[$,F]=I.useState(null),O=I.useRef(null),H=S1(n),X=Tr(...H?[O,e,F]:e===null?[]:[e]),ne=(t=A.unmount)==null||t?Oi.Unmount:Oi.Hidden,{show:b,appear:C,initial:P}=PC(),[L,j]=I.useState(b?"visible":"hidden"),U=AC(),{register:N,unregister:de}=U;Xt(()=>N(O),[N,O]),Xt(()=>{if(ne===Oi.Hidden&&O.current){if(b&&L!=="visible"){j("visible");return}return zi(L,{hidden:()=>de(O),visible:()=>N(O)})}},[L,O,N,de,b,ne]);let De=tu();Xt(()=>{if(H&&De&&L==="visible"&&O.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[O,L,De,H]);let Re=P&&!C,ke=C&&b&&P,re=I.useRef(!1),ce=C1(()=>{re.current||(j("hidden"),de(O))},U),oe=st(Ne=>{re.current=!0;let je=Ne?"enter":"leave";ce.onStart(O,je,He=>{He==="enter"?a==null||a():He==="leave"&&(h==null||h())})}),z=st(Ne=>{let je=Ne?"enter":"leave";re.current=!1,ce.onStop(O,je,He=>{He==="enter"?u==null||u():He==="leave"&&(f==null||f())}),je==="leave"&&!Bd(ce)&&(j("hidden"),de(O))});I.useEffect(()=>{H&&s||(oe(b),z(b))},[b,H,s]);let Y=!(!s||!H||!De||Re),[,ue]=eC(Y,$,b,{start:oe,end:z}),Pe=Ps({ref:X,className:((r=Ip(A.className,ke&&m,ke&&v,ue.enter&&m,ue.enter&&ue.closed&&v,ue.enter&&!ue.closed&&E,ue.leave&&k,ue.leave&&!ue.closed&&R,ue.leave&&ue.closed&&M,!ue.transition&&b&&x))==null?void 0:r.trim())||void 0,...ZS(ue)}),xe=0;L==="visible"&&(xe|=Qn.Open),L==="hidden"&&(xe|=Qn.Closed),ue.enter&&(xe|=Qn.Opening),ue.leave&&(xe|=Qn.Closing);let Oe=Nn();return le.createElement(zd.Provider,{value:ce},le.createElement(iC,{value:xe},Oe({ourProps:Pe,theirProps:A,defaultTag:k1,features:b1,visible:L==="visible",name:"Transition.Child"})))}function DC(n,e){let{show:t,appear:r=!1,unmount:s=!0,...a}=n,u=I.useRef(null),h=S1(n),f=Tr(...h?[u,e]:e===null?[]:[e]);tu();let m=Ud();if(t===void 0&&m!==null&&(t=(m&Qn.Open)===Qn.Open),t===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[v,E]=I.useState(t?"visible":"hidden"),x=C1(()=>{t||E("hidden")}),[k,R]=I.useState(!0),M=I.useRef([t]);Xt(()=>{k!==!1&&M.current[M.current.length-1]!==t&&(M.current.push(t),R(!1))},[M,t]);let A=I.useMemo(()=>({show:t,appear:r,initial:k}),[t,r,k]);Xt(()=>{t?E("visible"):!Bd(x)&&u.current!==null&&E("hidden")},[t,x]);let $={unmount:s},F=st(()=>{var X;k&&R(!1),(X=n.beforeEnter)==null||X.call(n)}),O=st(()=>{var X;k&&R(!1),(X=n.beforeLeave)==null||X.call(n)}),H=Nn();return le.createElement(zd.Provider,{value:x},le.createElement($d.Provider,{value:A},H({ourProps:{...$,as:I.Fragment,children:le.createElement(R1,{ref:f,...$,...a,beforeEnter:F,beforeLeave:O})},theirProps:{},defaultTag:I.Fragment,features:b1,visible:v==="visible",name:"Transition"})))}function OC(n,e){let t=I.useContext($d)!==null,r=Ud()!==null;return le.createElement(le.Fragment,null,!t&&r?le.createElement(Rp,{ref:e,...n}):le.createElement(R1,{ref:e,...n}))}let Rp=cn(DC),R1=cn(NC),Sm=cn(OC),Ms=Object.assign(Rp,{Child:Sm,Root:Rp});var LC=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(LC||{}),jC=(n=>(n[n.SetTitleId=0]="SetTitleId",n))(jC||{});let MC={0(n,e){return n.titleId===e.id?n:{...n,titleId:e.id}}},Cm=I.createContext(null);Cm.displayName="DialogContext";function Hd(n){let e=I.useContext(Cm);if(e===null){let t=new Error(`<${n} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Hd),t}return e}function VC(n,e){return zi(e.type,MC,n,e)}let iv=cn(function(n,e){let t=I.useId(),{id:r=`headlessui-dialog-${t}`,open:s,onClose:a,initialFocus:u,role:h="dialog",autoFocus:f=!0,__demoMode:m=!1,unmount:v=!1,...E}=n,x=I.useRef(!1);h=function(){return h==="dialog"||h==="alertdialog"?h:(x.current||(x.current=!0,console.warn(`Invalid role [${h}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let k=Ud();s===void 0&&k!==null&&(s=(k&Qn.Open)===Qn.Open);let R=I.useRef(null),M=Tr(R,e),A=eu(R),$=s?0:1,[F,O]=I.useReducer(VC,{titleId:null,descriptionId:null,panelRef:I.createRef()}),H=st(()=>a(!1)),X=st(z=>O({type:0,id:z})),ne=tu()?$===0:!1,[b,C]=pC(),P={get current(){var z;return(z=F.panelRef.current)!=null?z:R.current}},L=T1(),{resolveContainers:j}=_C({mainTreeNode:L,portals:b,defaultContainers:[P]}),U=k!==null?(k&Qn.Closing)===Qn.Closing:!1;PS(m||U?!1:ne,{allowed:st(()=>{var z,Y;return[(Y=(z=R.current)==null?void 0:z.closest("[data-headlessui-portal]"))!=null?Y:null]}),disallowed:st(()=>{var z;return[(z=L==null?void 0:L.closest("body > *:not(#headlessui-portal-root)"))!=null?z:null]})}),BS(ne,j,z=>{z.preventDefault(),H()}),yC(ne,A==null?void 0:A.defaultView,z=>{z.preventDefault(),z.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),H()}),QS(m||U?!1:ne,A,j),AS(ne,R,H);let[N,de]=ES(),De=I.useMemo(()=>[{dialogState:$,close:H,setTitleId:X,unmount:v},F],[$,F,H,X,v]),Re=I.useMemo(()=>({open:$===0}),[$]),ke={ref:M,id:r,role:h,tabIndex:-1,"aria-modal":m?void 0:$===0?!0:void 0,"aria-labelledby":F.titleId,"aria-describedby":N,unmount:v},re=!vC(),ce=Ds.None;ne&&!m&&(ce|=Ds.RestoreFocus,ce|=Ds.TabLock,f&&(ce|=Ds.AutoFocus),re&&(ce|=Ds.InitialFocus));let oe=Nn();return le.createElement(sC,null,le.createElement(nv,{force:!0},le.createElement(gC,null,le.createElement(Cm.Provider,{value:De},le.createElement(w1,{target:R},le.createElement(nv,{force:!1},le.createElement(de,{slot:Re},le.createElement(C,null,le.createElement(IC,{initialFocus:u,initialFocusFallback:R,containers:j,features:ce},le.createElement(kS,{value:H},oe({ourProps:ke,theirProps:E,slot:Re,defaultTag:FC,features:UC,visible:$===0,name:"Dialog"})))))))))))}),FC="div",UC=id.RenderStrategy|id.Static;function $C(n,e){let{transition:t=!1,open:r,...s}=n,a=Ud(),u=n.hasOwnProperty("open")||a!==null,h=n.hasOwnProperty("onClose");if(!u&&!h)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!u)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!h)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!a&&typeof n.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${n.open}`);if(typeof n.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${n.onClose}`);return(r!==void 0||t)&&!s.static?le.createElement(rv,null,le.createElement(Ms,{show:r,transition:t,unmount:s.unmount},le.createElement(iv,{ref:e,...s}))):le.createElement(rv,null,le.createElement(iv,{ref:e,open:r,...s}))}let zC="div";function BC(n,e){let t=I.useId(),{id:r=`headlessui-dialog-panel-${t}`,transition:s=!1,...a}=n,[{dialogState:u,unmount:h},f]=Hd("Dialog.Panel"),m=Tr(e,f.panelRef),v=I.useMemo(()=>({open:u===0}),[u]),E=st(A=>{A.stopPropagation()}),x={ref:m,id:r,onClick:E},k=s?Sm:I.Fragment,R=s?{unmount:h}:{},M=Nn();return le.createElement(k,{...R},M({ourProps:x,theirProps:a,slot:v,defaultTag:zC,name:"Dialog.Panel"}))}let HC="div";function WC(n,e){let{transition:t=!1,...r}=n,[{dialogState:s,unmount:a}]=Hd("Dialog.Backdrop"),u=I.useMemo(()=>({open:s===0}),[s]),h={ref:e,"aria-hidden":!0},f=t?Sm:I.Fragment,m=t?{unmount:a}:{},v=Nn();return le.createElement(f,{...m},v({ourProps:h,theirProps:r,slot:u,defaultTag:HC,name:"Dialog.Backdrop"}))}let qC="h2";function KC(n,e){let t=I.useId(),{id:r=`headlessui-dialog-title-${t}`,...s}=n,[{dialogState:a,setTitleId:u}]=Hd("Dialog.Title"),h=Tr(e);I.useEffect(()=>(u(r),()=>u(null)),[r,u]);let f=I.useMemo(()=>({open:a===0}),[a]),m={ref:h,id:r};return Nn()({ourProps:m,theirProps:s,slot:f,defaultTag:qC,name:"Dialog.Title"})}let GC=cn($C),QC=cn(BC);cn(WC);let YC=cn(KC),ad=Object.assign(GC,{Panel:QC,Title:YC,Description:SS});var P1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},sv=le.createContext&&le.createContext(P1),XC=["attr","size","title"];function JC(n,e){if(n==null)return{};var t=ZC(n,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function ZC(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ld(){return ld=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ld.apply(this,arguments)}function ov(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function ud(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ov(Object(t),!0).forEach(function(r){e2(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ov(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function e2(n,e,t){return e=t2(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function t2(n){var e=n2(n,"string");return typeof e=="symbol"?e:e+""}function n2(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function A1(n){return n&&n.map((e,t)=>le.createElement(e.tag,ud({key:t},e.attr),A1(e.child)))}function Xi(n){return e=>le.createElement(r2,ld({attr:ud({},n.attr)},e),A1(n.child))}function r2(n){var e=t=>{var{attr:r,size:s,title:a}=n,u=JC(n,XC),h=s||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),le.createElement("svg",ld({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:ud(ud({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&le.createElement("title",null,a),n.children)};return sv!==void 0?le.createElement(sv.Consumer,null,t=>e(t)):e(P1)}function i2(n){return Xi({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.473 11a4.5 4.5 0 0 0-8.72-.99A3 3 0 0 0 3 16h8.5a2.5 2.5 0 0 0 0-5z"},child:[]},{tag:"path",attr:{d:"M10.5 1.5a.5.5 0 0 0-1 0v1a.5.5 0 0 0 1 0zm3.743 1.964a.5.5 0 1 0-.707-.707l-.708.707a.5.5 0 0 0 .708.708zm-7.779-.707a.5.5 0 0 0-.707.707l.707.708a.5.5 0 1 0 .708-.708zm1.734 3.374a2 2 0 1 1 3.296 2.198q.3.423.516.898a3 3 0 1 0-4.84-3.225q.529.017 1.028.129m4.484 4.074c.6.215 1.125.59 1.522 1.072a.5.5 0 0 0 .039-.742l-.707-.707a.5.5 0 0 0-.854.377M14.5 6.5a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z"},child:[]}]})(n)}function s2(n){return Xi({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(n)}function o2(n){return Xi({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"},child:[]}]})(n)}const Mt=I.createContext();var Zf={exports:{}},ep={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function a2(){if(av)return ep;av=1;var n=Od();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,s=n.useRef,a=n.useEffect,u=n.useMemo,h=n.useDebugValue;return ep.useSyncExternalStoreWithSelector=function(f,m,v,E,x){var k=s(null);if(k.current===null){var R={hasValue:!1,value:null};k.current=R}else R=k.current;k=u(function(){function A(X){if(!$){if($=!0,F=X,X=E(X),x!==void 0&&R.hasValue){var ne=R.value;if(x(ne,X))return O=ne}return O=X}if(ne=O,t(F,X))return ne;var b=E(X);return x!==void 0&&x(ne,b)?(F=X,ne):(F=X,O=b)}var $=!1,F,O,H=v===void 0?null:v;return[function(){return A(m())},H===null?void 0:function(){return A(H())}]},[m,v,E,x]);var M=r(f,k[0],k[1]);return a(function(){R.hasValue=!0,R.value=M},[M]),h(M),M},ep}var lv;function l2(){return lv||(lv=1,Zf.exports=a2()),Zf.exports}var u2=l2();function c2(n){n()}function d2(){let n=null,e=null;return{clear(){n=null,e=null},notify(){c2(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const s=e={callback:t,next:null,prev:e};return s.prev?s.prev.next=s:n=s,function(){!r||n===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:n=s.next)}}}}var uv={notify(){},get:()=>[]};function h2(n,e){let t,r=uv,s=0,a=!1;function u(M){v();const A=r.subscribe(M);let $=!1;return()=>{$||($=!0,A(),E())}}function h(){r.notify()}function f(){R.onStateChange&&R.onStateChange()}function m(){return a}function v(){s++,t||(t=n.subscribe(f),r=d2())}function E(){s--,t&&s===0&&(t(),t=void 0,r.clear(),r=uv)}function x(){a||(a=!0,v())}function k(){a&&(a=!1,E())}const R={addNestedSub:u,notifyNestedSubs:h,handleChangeWrapper:f,isSubscribed:m,trySubscribe:x,tryUnsubscribe:k,getListeners:()=>r};return R}var f2=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p2=f2(),m2=()=>typeof navigator<"u"&&navigator.product==="ReactNative",g2=m2(),y2=()=>p2||g2?I.useLayoutEffect:I.useEffect,v2=y2(),tp=Symbol.for("react-redux-context"),np=typeof globalThis<"u"?globalThis:{};function _2(){if(!I.createContext)return{};const n=np[tp]??(np[tp]=new Map);let e=n.get(I.createContext);return e||(e=I.createContext(null),n.set(I.createContext,e)),e}var Bi=_2();function w2(n){const{children:e,context:t,serverState:r,store:s}=n,a=I.useMemo(()=>{const f=h2(s);return{store:s,subscription:f,getServerState:r?()=>r:void 0}},[s,r]),u=I.useMemo(()=>s.getState(),[s]);v2(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),u!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,u]);const h=t||Bi;return I.createElement(h.Provider,{value:a},e)}var E2=w2;function km(n=Bi){return function(){return I.useContext(n)}}var N1=km();function D1(n=Bi){const e=n===Bi?N1:km(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var T2=D1();function x2(n=Bi){const e=n===Bi?T2:D1(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var nu=x2(),I2=(n,e)=>n===e;function S2(n=Bi){const e=n===Bi?N1:km(n),t=(r,s={})=>{const{equalityFn:a=I2}=typeof s=="function"?{equalityFn:s}:s,u=e(),{store:h,subscription:f,getServerState:m}=u;I.useRef(!0);const v=I.useCallback({[r.name](x){return r(x)}}[r.name],[r]),E=u2.useSyncExternalStoreWithSelector(f.addNestedSub,h.getState,m||h.getState,v,a);return I.useDebugValue(E),E};return Object.assign(t,{withTypes:()=>t}),t}var ya=S2();function C2(){const[n,e]=I.useState(!1),t=I.useContext(Mt),{toggleMode:r,mode:s}=t;I.useEffect(()=>{s==="dark"?document.body.classList.add("dark"):document.body.classList.remove("dark")},[s]);const a=JSON.parse(localStorage.getItem("user")),u=()=>{localStorage.removeItem("user"),window.location.href="/login"},h=ya(f=>f.cart);return _.jsxs("div",{className:"bg-white sticky top-0 z-50",children:[_.jsx(Ms.Root,{show:n,as:I.Fragment,children:_.jsxs(ad,{as:"div",className:"relative z-40 lg:hidden",onClose:e,children:[_.jsx(Ms.Child,{as:I.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),_.jsx("div",{className:"fixed inset-0 z-40 flex",children:_.jsx(Ms.Child,{as:I.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:_.jsxs(ad.Panel,{className:`relative flex w-full max-w-xs flex-col overflow-y-auto pb-12 shadow-xl ${s==="dark"?"bg-gray-800 text-white":"bg-white text-black"}`,children:[_.jsxs("div",{className:"flex items-center justify-between px-4 pt-6",children:[_.jsx("h2",{className:"text-xl font-bold",children:"Menu"}),_.jsx("button",{type:"button",className:"rounded-md p-2 text-gray-400 hover:text-gray-600",onClick:()=>e(!1),children:_.jsx(o2,{size:24})})]}),_.jsxs("div",{className:"flex flex-col px-4 py-14 space-y-4",children:[_.jsx(bt,{to:"/allproducts",className:"text-lg hover:underline",onClick:()=>e(!1),children:"All Products"}),a?_.jsx(bt,{to:"/order",className:"text-lg hover:underline",onClick:()=>e(!1),children:"Order"}):"",(a==null?void 0:a.email)==="santoshpatelvns5@gmail.com"&&_.jsx(bt,{to:"/Dashboard",className:"text-lg hover:underline",children:"Admin"}),a?_.jsx("button",{onClick:()=>{u(),e(!1)},className:"text-lg hover:underline self-start",children:"Logout"}):null,_.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[_.jsx("img",{src:"https://ecommerce-sk.vercel.app/img/indiaflag.png",alt:"India Flag",className:"w-6 h-auto"}),_.jsx("span",{className:"text-lg",children:"INDIA"})]})]})]})})})]})}),_.jsx("header",{className:"relative bg-white",children:_.jsx("nav",{className:`px-4 sm:px-6 lg:px-8 shadow-xl ${s==="dark"?"bg-gray-800 text-white":"bg-gray-100 text-black"}`,children:_.jsxs("div",{className:"flex h-16 items-center",children:[_.jsx("button",{type:"button",className:"lg:hidden p-2 rounded-md hover:bg-gray-200",onClick:()=>e(!0),children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),_.jsx("div",{className:"ml-4 flex",children:_.jsx(bt,{to:"/",className:"text-2xl font-bold",children:"BharatCart"})}),_.jsxs("div",{className:"ml-auto flex items-center",children:[_.jsxs("div",{className:"hidden lg:flex lg:items-center lg:space-x-6",children:[_.jsx(bt,{to:"/allproducts",className:"text-sm font-medium hover:underline",children:"All Products"}),a?_.jsx(bt,{to:"/Order",className:"text-sm font-medium hover:underline",children:"Order"}):"",(a==null?void 0:a.email)==="santoshpatelvns5@gmail.com"&&_.jsx(bt,{to:"/dashboard",className:"text-sm font-medium hover:underline",children:"Admin"}),a&&_.jsx("button",{onClick:u,className:"text-sm font-medium hover:underline",children:"Logout"})]}),_.jsxs("div",{className:"hidden lg:flex items-center gap-2 ml-6",children:[_.jsx("img",{src:"https://ecommerce-sk.vercel.app/img/indiaflag.png",alt:"India Flag",className:"w-6 h-auto"}),_.jsx("span",{children:"INDIA"})]}),_.jsx("div",{className:"ml-6 flex items-center",children:_.jsx("button",{onClick:r,children:s==="light"?_.jsx(s2,{size:30,className:"text-yellow-500"}):_.jsx(i2,{size:30,className:"text-blue-500"})})}),_.jsx("div",{className:"ml-4 flow-root lg:ml-6",children:_.jsxs(bt,{to:"/cart",className:"group -m-2 flex items-center p-2",style:{color:s==="dark"?"white":""},children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})}),_.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700 group-",style:{color:s==="dark"?"white":""},children:h.length}),_.jsx("span",{className:"sr-only",children:"items in cart, view bag"})]})})]})]})})})]})}function k2(){const n=I.useContext(Mt),{toggleMode:e,mode:t}=n;return _.jsxs("footer",{className:"text-gray-600 body-font bg-gray-300",style:{backgroundColor:t==="dark"?"rgb(46 49 55)":"",color:t==="dark"?"white":""},children:[_.jsx("div",{className:"container px-5 py-24 mx-auto",children:_.jsxs("div",{className:"flex flex-wrap md:text-left text-center order-first",children:[_.jsxs("div",{className:"lg:w-1/4 md:w-1/2 w-full px-4",children:[_.jsx("h2",{className:"title-font font-medium text-gray-900 tracking-widest text-sm mb-3",style:{color:t==="dark"?"white":""},children:"CATEGORIES"}),_.jsxs("nav",{className:"list-none mb-10",children:[_.jsx("li",{children:_.jsx("a",{className:"text-gray-600 hover:text-gray-800",style:{color:t==="dark"?"white":""},children:"Home"})}),_.jsx("li",{children:_.jsx("a",{className:"text-gray-600 hover:text-gray-800",style:{color:t==="dark"?"white":""},children:"Order"})}),_.jsx("li",{children:_.jsx("a",{className:"text-gray-600 hover:text-gray-800",style:{color:t==="dark"?"white":""},children:"Local For Vocal"})}),_.jsx("li",{children:_.jsx("a",{className:"text-gray-600 hover:text-gray-800",style:{color:t==="dark"?"white":""},children:"Cart"})})]})]}),_.jsxs("div",{className:"lg:w-1/4 md:w-1/2 w-full px-4",children:[_.jsx("h2",{className:"title-font font-medium text-gray-900 tracking-widest text-sm mb-3 uppercase",style:{color:t==="dark"?"white":""},children:"Customer Service"}),_.jsxs("nav",{className:"list-none mb-10",children:[_.jsx("li",{children:_.jsx(bt,{to:"/returnpolicy",className:"text-gray-600 hover:text-gray-800",style:{color:t==="dark"?"white":""},children:"Return Policy"})}),_.jsx("li",{children:_.jsx(bt,{to:"/about",className:"text-gray-600 hover:text-gray-800",style:{color:t==="dark"?"white":""},children:"About"})}),_.jsx("li",{children:_.jsx(bt,{to:"/contact",className:"text-gray-600 hover:text-gray-800",style:{color:t==="dark"?"white":""},children:"Contact Us"})})]})]}),_.jsxs("div",{className:"lg:w-1/4 md:w-1/2 w-full px-4",children:[_.jsx("h2",{className:"title-font font-medium text-gray-900 tracking-widest text-sm mb-3",style:{color:t==="dark"?"white":""},children:"Services"}),_.jsx("nav",{className:"list-none mb-10",children:_.jsx("li",{children:_.jsx(bt,{to:"/privacypolicy",className:"text-gray-600 hover:text-gray-800",style:{color:t==="dark"?"white":""},children:"Privacy"})})})]}),_.jsx("div",{className:"lg:w-1/4 md:w-1/2 w-full px-4",children:_.jsx("img",{src:"https://ecommerce-sk.vercel.app/pay.png",alt:""})})]})}),_.jsx("div",{className:"bg-gray-200",style:{backgroundColor:t==="dark"?"rgb(55 57 61)":"",color:t==="dark"?"white":""},children:_.jsxs("div",{className:"container px-5 py-3 mx-auto flex items-center sm:flex-row flex-col",children:[_.jsx(bt,{to:"/",className:"flex",children:_.jsx("div",{className:"flex ",children:_.jsx("h1",{className:" text-2xl font-bold text-black  px-2 py-1 rounded",style:{color:t==="dark"?"white":""},children:"E-Bharat"})})}),_.jsxs("p",{className:"text-sm text-gray-500 sm:ml-6 sm:mt-0 mt-4",style:{color:t==="dark"?"white":""},children:["© 2023 E-bharat —",_.jsx("a",{href:"https://twitter.com/knyttneve",rel:"noopener noreferrer",className:"text-gray-600 ml-1",target:"_blank",style:{color:t==="dark"?"white":""},children:"www.ebharat.com"})]}),_.jsxs("span",{className:"inline-flex sm:ml-auto sm:mt-0 mt-4 justify-center sm:justify-start",children:[_.jsx("a",{className:"text-gray-500",children:_.jsx("svg",{fill:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"w-5 h-5",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"})})}),_.jsx("a",{className:"ml-3 text-gray-500",children:_.jsx("svg",{fill:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"w-5 h-5",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"})})}),_.jsx("a",{className:"ml-3 text-gray-500",children:_.jsxs("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"w-5 h-5",viewBox:"0 0 24 24",children:[_.jsx("rect",{width:20,height:20,x:2,y:2,rx:5,ry:5}),_.jsx("path",{d:"M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37zm1.5-4.87h.01"})]})}),_.jsx("a",{className:"ml-3 text-gray-500",children:_.jsxs("svg",{fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:0,className:"w-5 h-5",viewBox:"0 0 24 24",children:[_.jsx("path",{stroke:"none",d:"M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2z"}),_.jsx("circle",{cx:4,cy:4,r:2,stroke:"none"})]})})]})]})})]})}const Fs=({children:n})=>_.jsxs(_.Fragment,{children:[_.jsx(C2,{}),_.jsx("div",{className:"content",children:n}),_.jsx(k2,{})]});function b2(){const n=["https://images.pexels.com/photos/5632402/pexels-photo-5632402.jpeg?auto=compress&cs=tinysrgb&w=600","https://images.pexels.com/photos/3944405/pexels-photo-3944405.jpeg?auto=compress&cs=tinysrgb&w=600","https://images-eu.ssl-images-amazon.com/images/G/31/img23/GW/P42/Boult_3000x1200-PC._CB543542644_.jpg","https://images-eu.ssl-images-amazon.com/images/G/31/img21/MA2024/GW/Unrec/Xmas/1-1._CB537928780_.jpg","https://files.oaiusercontent.com/file-AUQePowEiYeGdKoHRmhN6z?se=2024-12-28T06%3A08%3A34Z&sp=r&sv=2024-08-04&sr=b&rscc=max-age%3D604800%2C%20immutable%2C%20private&rscd=attachment%3B%20filename%3D647dbd19-6b61-442a-9cae-373985967e44.webp&sig=fhpzVcxJTOxjHvaYKmjHrJoUvMw4h3AYz1gel7uXHu8%3D","https://files.oaiusercontent.com/file-R92phc5qYT9qXVNSG4rpW6?se=2024-12-28T06%3A09%3A57Z&sp=r&sv=2024-08-04&sr=b&rscc=max-age%3D604800%2C%20immutable%2C%20private&rscd=attachment%3B%20filename%3Df60eb63d-c346-400f-9192-a8d98ea8aacf.webp&sig=ZxrJavxNpqekzu9rv79WbDuqkNWgyoNI1dC/VR4%2BJYs%3D"],[e,t]=I.useState(0);I.useEffect(()=>{const a=setInterval(()=>{t(u=>(u+1)%n.length)},2400);return()=>clearInterval(a)},[]);const r=()=>{t(a=>(a-1+n.length)%n.length)},s=()=>{t(a=>(a+1)%n.length)};return _.jsxs("div",{className:"relative w-full max-w-screen-xl mx-auto overflow-hidden",children:[_.jsx("div",{className:"flex justify-center items-center",children:_.jsx("img",{src:n[e],alt:`Slide ${e+1}`,className:"w-full h-[400px] object-cover"})}),_.jsx("button",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white px-4 py-2 text-lg",onClick:r,children:"❮"}),_.jsx("button",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white px-4 py-2 text-lg",onClick:s,children:"❯"})]})}function O1(){const n=I.useContext(Mt),{mode:e,searchkey:t,filterType:r,filterPrice:s,setSearchkey:a,setFilterType:u,setFilterPrice:h,product:f}=n;return _.jsx("div",{children:_.jsx("div",{className:" container mx-auto px-4 mt-5 ",children:_.jsxs("div",{className:"p-5 rounded-lg bg-gray-100 drop-shadow-xl border border-gray-200",style:{backgroundColor:e==="dark"?"#282c34":"",color:e==="dark"?"white":""},children:[_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute flex items-center ml-2 h-full",children:_.jsx("svg",{className:"w-4 h-4 fill-current text-primary-gray-dark",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_.jsx("path",{d:"M15.8898 15.0493L11.8588 11.0182C11.7869 10.9463 11.6932 10.9088 11.5932 10.9088H11.2713C12.3431 9.74952 12.9994 8.20272 12.9994 6.49968C12.9994 2.90923 10.0901 0 6.49968 0C2.90923 0 0 2.90923 0 6.49968C0 10.0901 2.90923 12.9994 6.49968 12.9994C8.20272 12.9994 9.74952 12.3431 10.9088 11.2744V11.5932C10.9088 11.6932 10.9495 11.7869 11.0182 11.8588L15.0493 15.8898C15.1961 16.0367 15.4336 16.0367 15.5805 15.8898L15.8898 15.5805C16.0367 15.4336 16.0367 15.1961 15.8898 15.0493ZM6.49968 11.9994C3.45921 11.9994 0.999951 9.54016 0.999951 6.49968C0.999951 3.45921 3.45921 0.999951 6.49968 0.999951C9.54016 0.999951 11.9994 3.45921 11.9994 6.49968C11.9994 9.54016 9.54016 11.9994 6.49968 11.9994Z"})})}),_.jsx("input",{value:t,onChange:m=>a(m.target.value),type:"text",name:"searchkey",id:"searchkey",placeholder:"Search here",className:"px-8 py-3 w-full rounded-md bg-violet-0 border-transparent outline-0 text-sm",style:{backgroundColor:e==="dark"?"rgb(64 66 70)":"",color:e==="dark"?"white":""}})]}),_.jsxs("div",{className:"flex items-center justify-between mt-4",children:[_.jsx("p",{className:"font-medium",children:"Filters"}),_.jsx("button",{className:"px-4 py-2 bg-gray-50hover:bg-gray-200 text-gray-800 text-sm font-medium rounded-md",style:{color:e==="dark"?"white":""},children:"Reset Filter"})]}),_.jsx("div",{children:_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4 mt-4",children:[_.jsxs("select",{value:r,onChange:m=>u(m.target.value),className:"px-4 py-3 w-full rounded-md bg-gray-50 border-transparent outline-0 focus:border-gray-500 focus:bg-white focus:ring-0 text-sm",style:{backgroundColor:e==="dark"?"rgb(64 66 70)":"",color:e==="dark"?"white":""},children:[_.jsx("option",{value:"jacket",children:"Jacket"}),f.map((m,v)=>_.jsx("option",{value:v.category,children:v.category}))]}),_.jsxs("select",{value:s,onChange:m=>h(m.target.value),children:[_.jsx("option",{value:"",children:"All Prices"}),_.jsx("option",{value:"low",children:"Under ₹500"}),_.jsx("option",{value:"medium",children:"₹500 - ₹1000"}),_.jsx("option",{value:"high",children:"Above ₹1000"})]})]})})]})})})}function R2(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}R2(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ru=n=>typeof n=="number"&&!isNaN(n),Us=n=>typeof n=="string",Qr=n=>typeof n=="function",P2=n=>Us(n)||ru(n),Pp=n=>Us(n)||Qr(n)?n:null,A2=(n,e)=>n===!1||ru(n)&&n>0?n:e,Ap=n=>I.isValidElement(n)||Us(n)||Qr(n)||ru(n);function N2(n,e,t=300){let{scrollHeight:r,style:s}=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${t}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,t)})})}function D2({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:a,position:u,preventExitTransition:h,done:f,nodeRef:m,isIn:v,playToast:E}){let x=t?`${n}--${u}`:n,k=t?`${e}--${u}`:e,R=I.useRef(0);return I.useLayoutEffect(()=>{let M=m.current,A=x.split(" "),$=F=>{F.target===m.current&&(E(),M.removeEventListener("animationend",$),M.removeEventListener("animationcancel",$),R.current===0&&F.type!=="animationcancel"&&M.classList.remove(...A))};M.classList.add(...A),M.addEventListener("animationend",$),M.addEventListener("animationcancel",$)},[]),I.useEffect(()=>{let M=m.current,A=()=>{M.removeEventListener("animationend",A),r?N2(M,f,s):f()};v||(h?A():(R.current=1,M.className+=` ${k}`,M.addEventListener("animationend",A)))},[v]),le.createElement(le.Fragment,null,a)}}function cv(n,e){return{content:L1(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function L1(n,e,t=!1){return I.isValidElement(n)&&!Us(n.type)?I.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Qr(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function O2({closeToast:n,theme:e,ariaLabel:t="close"}){return le.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},le.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},le.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function L2({delay:n,isRunning:e,closeToast:t,type:r="default",hide:s,className:a,controlledProgress:u,progress:h,rtl:f,isIn:m,theme:v}){let E=s||u&&h===0,x={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(x.transform=`scaleX(${h})`);let k=Xn("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),R=Qr(a)?a({rtl:f,type:r,defaultClassName:k}):Xn(k,a),M={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{m&&t()}};return le.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},le.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${r}`}),le.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:R,style:x,...M}))}var j2=1,j1=()=>`${j2++}`;function M2(n,e,t){let r=1,s=0,a=[],u=[],h=e,f=new Map,m=new Set,v=F=>(m.add(F),()=>m.delete(F)),E=()=>{u=Array.from(f.values()),m.forEach(F=>F())},x=({containerId:F,toastId:O,updateId:H})=>{let X=F?F!==n:n!==1,ne=f.has(O)&&H==null;return X||ne},k=(F,O)=>{f.forEach(H=>{var X;(O==null||O===H.props.toastId)&&((X=H.toggle)==null||X.call(H,F))})},R=F=>{var O,H;(H=(O=F.props)==null?void 0:O.onClose)==null||H.call(O,F.removalReason),F.isActive=!1},M=F=>{if(F==null)f.forEach(R);else{let O=f.get(F);O&&R(O)}E()},A=()=>{s-=a.length,a=[]},$=F=>{var O,H;let{toastId:X,updateId:ne}=F.props,b=ne==null;F.staleId&&f.delete(F.staleId),F.isActive=!0,f.set(X,F),E(),t(cv(F,b?"added":"updated")),b&&((H=(O=F.props).onOpen)==null||H.call(O))};return{id:n,props:h,observe:v,toggle:k,removeToast:M,toasts:f,clearQueue:A,buildToast:(F,O)=>{if(x(O))return;let{toastId:H,updateId:X,data:ne,staleId:b,delay:C}=O,P=X==null;P&&s++;let L={...h,style:h.toastStyle,key:r++,...Object.fromEntries(Object.entries(O).filter(([U,N])=>N!=null)),toastId:H,updateId:X,data:ne,isIn:!1,className:Pp(O.className||h.toastClassName),progressClassName:Pp(O.progressClassName||h.progressClassName),autoClose:O.isLoading?!1:A2(O.autoClose,h.autoClose),closeToast(U){f.get(H).removalReason=U,M(H)},deleteToast(){let U=f.get(H);if(U!=null){if(t(cv(U,"removed")),f.delete(H),s--,s<0&&(s=0),a.length>0){$(a.shift());return}E()}}};L.closeButton=h.closeButton,O.closeButton===!1||Ap(O.closeButton)?L.closeButton=O.closeButton:O.closeButton===!0&&(L.closeButton=Ap(h.closeButton)?h.closeButton:!0);let j={content:F,props:L,staleId:b};h.limit&&h.limit>0&&s>h.limit&&P?a.push(j):ru(C)?setTimeout(()=>{$(j)},C):$(j)},setProps(F){h=F},setToggle:(F,O)=>{let H=f.get(F);H&&(H.toggle=O)},isToastActive:F=>{var O;return(O=f.get(F))==null?void 0:O.isActive},getSnapshot:()=>u}}var Yt=new Map,Fl=[],Np=new Set,V2=n=>Np.forEach(e=>e(n)),M1=()=>Yt.size>0;function F2(){Fl.forEach(n=>F1(n.content,n.options)),Fl=[]}var U2=(n,{containerId:e})=>{var t;return(t=Yt.get(e||1))==null?void 0:t.toasts.get(n)};function V1(n,e){var t;if(e)return!!((t=Yt.get(e))!=null&&t.isToastActive(n));let r=!1;return Yt.forEach(s=>{s.isToastActive(n)&&(r=!0)}),r}function $2(n){if(!M1()){Fl=Fl.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||P2(n))Yt.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Yt.get(n.containerId);e?e.removeToast(n.id):Yt.forEach(t=>{t.removeToast(n.id)})}}var z2=(n={})=>{Yt.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function F1(n,e){Ap(n)&&(M1()||Fl.push({content:n,options:e}),Yt.forEach(t=>{t.buildToast(n,e)}))}function B2(n){var e;(e=Yt.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function U1(n,e){Yt.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function H2(n){let e=n.containerId||1;return{subscribe(t){let r=M2(e,n,V2);Yt.set(e,r);let s=r.observe(t);return F2(),()=>{s(),Yt.delete(e)}},setProps(t){var r;(r=Yt.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=Yt.get(e))==null?void 0:t.getSnapshot()}}}function W2(n){return Np.add(n),()=>{Np.delete(n)}}function q2(n){return n&&(Us(n.toastId)||ru(n.toastId))?n.toastId:j1()}function iu(n,e){return F1(n,e),e.toastId}function Wd(n,e){return{...e,type:e&&e.type||n,toastId:q2(e)}}function qd(n){return(e,t)=>iu(e,Wd(n,t))}function Se(n,e){return iu(n,Wd("default",e))}Se.loading=(n,e)=>iu(n,Wd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function K2(n,{pending:e,error:t,success:r},s){let a;e&&(a=Us(e)?Se.loading(e,s):Se.loading(e.render,{...s,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(m,v,E)=>{if(v==null){Se.dismiss(a);return}let x={type:m,...u,...s,data:E},k=Us(v)?{render:v}:v;return a?Se.update(a,{...x,...k}):Se(k.render,{...x,...k}),E},f=Qr(n)?n():n;return f.then(m=>h("success",r,m)).catch(m=>h("error",t,m)),f}Se.promise=K2;Se.success=qd("success");Se.info=qd("info");Se.error=qd("error");Se.warning=qd("warning");Se.warn=Se.warning;Se.dark=(n,e)=>iu(n,Wd("default",{theme:"dark",...e}));function G2(n){$2(n)}Se.dismiss=G2;Se.clearWaitingQueue=z2;Se.isActive=V1;Se.update=(n,e={})=>{let t=U2(n,e);if(t){let{props:r,content:s}=t,a={delay:100,...r,...e,toastId:e.toastId||n,updateId:j1()};a.toastId!==n&&(a.staleId=n);let u=a.render||s;delete a.render,iu(u,a)}};Se.done=n=>{Se.update(n,{progress:1})};Se.onChange=W2;Se.play=n=>U1(!0,n);Se.pause=n=>U1(!1,n);function Q2(n){var e;let{subscribe:t,getSnapshot:r,setProps:s}=I.useRef(H2(n)).current;s(n);let a=(e=I.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function u(h){if(!a)return[];let f=new Map;return n.newestOnTop&&a.reverse(),a.forEach(m=>{let{position:v}=m.props;f.has(v)||f.set(v,[]),f.get(v).push(m)}),Array.from(f,m=>h(m[0],m[1]))}return{getToastToRender:u,isToastActive:V1,count:a==null?void 0:a.length}}function Y2(n){let[e,t]=I.useState(!1),[r,s]=I.useState(!1),a=I.useRef(null),u=I.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:m,onClick:v,closeOnClick:E}=n;B2({id:n.toastId,containerId:n.containerId,fn:t}),I.useEffect(()=>{if(n.pauseOnFocusLoss)return x(),()=>{k()}},[n.pauseOnFocusLoss]);function x(){document.hasFocus()||$(),window.addEventListener("focus",A),window.addEventListener("blur",$)}function k(){window.removeEventListener("focus",A),window.removeEventListener("blur",$)}function R(b){if(n.draggable===!0||n.draggable===b.pointerType){F();let C=a.current;u.canCloseOnClick=!0,u.canDrag=!0,C.style.transition="none",n.draggableDirection==="x"?(u.start=b.clientX,u.removalDistance=C.offsetWidth*(n.draggablePercent/100)):(u.start=b.clientY,u.removalDistance=C.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function M(b){let{top:C,bottom:P,left:L,right:j}=a.current.getBoundingClientRect();b.nativeEvent.type!=="touchend"&&n.pauseOnHover&&b.clientX>=L&&b.clientX<=j&&b.clientY>=C&&b.clientY<=P?$():A()}function A(){t(!0)}function $(){t(!1)}function F(){u.didMove=!1,document.addEventListener("pointermove",H),document.addEventListener("pointerup",X)}function O(){document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",X)}function H(b){let C=a.current;if(u.canDrag&&C){u.didMove=!0,e&&$(),n.draggableDirection==="x"?u.delta=b.clientX-u.start:u.delta=b.clientY-u.start,u.start!==b.clientX&&(u.canCloseOnClick=!1);let P=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;C.style.transform=`translate3d(${P},0)`,C.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function X(){O();let b=a.current;if(u.canDrag&&u.didMove&&b){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){s(!0),n.closeToast(!0),n.collapseAll();return}b.style.transition="transform 0.2s, opacity 0.2s",b.style.removeProperty("transform"),b.style.removeProperty("opacity")}}let ne={onPointerDown:R,onPointerUp:M};return h&&f&&(ne.onMouseEnter=$,n.stacked||(ne.onMouseLeave=A)),E&&(ne.onClick=b=>{v&&v(b),u.canCloseOnClick&&m(!0)}),{playToast:A,pauseToast:$,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:ne}}var X2=typeof window<"u"?I.useLayoutEffect:I.useEffect,Kd=({theme:n,type:e,isLoading:t,...r})=>le.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function J2(n){return le.createElement(Kd,{...n},le.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Z2(n){return le.createElement(Kd,{...n},le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function ek(n){return le.createElement(Kd,{...n},le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function tk(n){return le.createElement(Kd,{...n},le.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function nk(){return le.createElement("div",{className:"Toastify__spinner"})}var Dp={info:Z2,warning:J2,success:ek,error:tk,spinner:nk},rk=n=>n in Dp;function ik({theme:n,type:e,isLoading:t,icon:r}){let s=null,a={theme:n,type:e};return r===!1||(Qr(r)?s=r({...a,isLoading:t}):I.isValidElement(r)?s=I.cloneElement(r,a):t?s=Dp.spinner():rk(e)&&(s=Dp[e](a))),s}var sk=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:s,playToast:a}=Y2(n),{closeButton:u,children:h,autoClose:f,onClick:m,type:v,hideProgressBar:E,closeToast:x,transition:k,position:R,className:M,style:A,progressClassName:$,updateId:F,role:O,progress:H,rtl:X,toastId:ne,deleteToast:b,isIn:C,isLoading:P,closeOnClick:L,theme:j,ariaLabel:U}=n,N=Xn("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":X},{"Toastify__toast--close-on-click":L}),de=Qr(M)?M({rtl:X,position:R,type:v,defaultClassName:N}):Xn(N,M),De=ik(n),Re=!!H||!f,ke={closeToast:x,type:v,theme:j},re=null;return u===!1||(Qr(u)?re=u(ke):I.isValidElement(u)?re=I.cloneElement(u,ke):re=O2(ke)),le.createElement(k,{isIn:C,done:b,position:R,preventExitTransition:t,nodeRef:r,playToast:a},le.createElement("div",{id:ne,tabIndex:0,onClick:m,"data-in":C,className:de,...s,style:A,ref:r,...C&&{role:O,"aria-label":U}},De!=null&&le.createElement("div",{className:Xn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},De),L1(h,n,!e),re,!n.customProgressBar&&le.createElement(L2,{...F&&!Re?{key:`p-${F}`}:{},rtl:X,theme:j,delay:f,isRunning:e,isIn:C,closeToast:x,hide:E,type:v,className:$,controlledProgress:Re,progress:H||0})))},ok=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),ak=D2(ok("bounce",!0)),lk={position:"top-right",transition:ak,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function uk(n){let e={...lk,...n},t=n.stacked,[r,s]=I.useState(!0),a=I.useRef(null),{getToastToRender:u,isToastActive:h,count:f}=Q2(e),{className:m,style:v,rtl:E,containerId:x,hotKeys:k}=e;function R(A){let $=Xn("Toastify__toast-container",`Toastify__toast-container--${A}`,{"Toastify__toast-container--rtl":E});return Qr(m)?m({position:A,rtl:E,defaultClassName:$}):Xn($,Pp(m))}function M(){t&&(s(!0),Se.play())}return X2(()=>{var A;if(t){let $=a.current.querySelectorAll('[data-in="true"]'),F=12,O=(A=e.position)==null?void 0:A.includes("top"),H=0,X=0;Array.from($).reverse().forEach((ne,b)=>{let C=ne;C.classList.add("Toastify__toast--stacked"),b>0&&(C.dataset.collapsed=`${r}`),C.dataset.pos||(C.dataset.pos=O?"top":"bot");let P=H*(r?.2:1)+(r?0:F*b);C.style.setProperty("--y",`${O?P:P*-1}px`),C.style.setProperty("--g",`${F}`),C.style.setProperty("--s",`${1-(r?X:0)}`),H+=C.offsetHeight,X+=.025})}},[r,f,t]),I.useEffect(()=>{function A($){var F;let O=a.current;k($)&&((F=O.querySelector('[tabIndex="0"]'))==null||F.focus(),s(!1),Se.pause()),$.key==="Escape"&&(document.activeElement===O||O!=null&&O.contains(document.activeElement))&&(s(!0),Se.play())}return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[k]),le.createElement("section",{ref:a,className:"Toastify",id:x,onMouseEnter:()=>{t&&(s(!1),Se.pause())},onMouseLeave:M,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((A,$)=>{let F=$.length?{...v}:{...v,pointerEvents:"none"};return le.createElement("div",{tabIndex:-1,className:R(A),"data-stacked":t,style:F,key:`c-${A}`},$.map(({content:O,props:H})=>le.createElement(sk,{...H,stacked:t,collapseAll:M,isIn:h(H.toastId,H.containerId),key:`t-${H.key}`},O)))}))}function Dt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var ck=typeof Symbol=="function"&&Symbol.observable||"@@observable",dv=ck,rp=()=>Math.random().toString(36).substring(7).split("").join("."),dk={INIT:`@@redux/INIT${rp()}`,REPLACE:`@@redux/REPLACE${rp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rp()}`},cd=dk;function bm(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function $1(n,e,t){if(typeof n!="function")throw new Error(Dt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Dt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Dt(1));return t($1)(n,e)}let r=n,s=e,a=new Map,u=a,h=0,f=!1;function m(){u===a&&(u=new Map,a.forEach((A,$)=>{u.set($,A)}))}function v(){if(f)throw new Error(Dt(3));return s}function E(A){if(typeof A!="function")throw new Error(Dt(4));if(f)throw new Error(Dt(5));let $=!0;m();const F=h++;return u.set(F,A),function(){if($){if(f)throw new Error(Dt(6));$=!1,m(),u.delete(F),a=null}}}function x(A){if(!bm(A))throw new Error(Dt(7));if(typeof A.type>"u")throw new Error(Dt(8));if(typeof A.type!="string")throw new Error(Dt(17));if(f)throw new Error(Dt(9));try{f=!0,s=r(s,A)}finally{f=!1}return(a=u).forEach(F=>{F()}),A}function k(A){if(typeof A!="function")throw new Error(Dt(10));r=A,x({type:cd.REPLACE})}function R(){const A=E;return{subscribe($){if(typeof $!="object"||$===null)throw new Error(Dt(11));function F(){const H=$;H.next&&H.next(v())}return F(),{unsubscribe:A(F)}},[dv](){return this}}}return x({type:cd.INIT}),{dispatch:x,subscribe:E,getState:v,replaceReducer:k,[dv]:R}}function hk(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:cd.INIT})>"u")throw new Error(Dt(12));if(typeof t(void 0,{type:cd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dt(13))})}function fk(n){const e=Object.keys(n),t={};for(let a=0;a<e.length;a++){const u=e[a];typeof n[u]=="function"&&(t[u]=n[u])}const r=Object.keys(t);let s;try{hk(t)}catch(a){s=a}return function(u={},h){if(s)throw s;let f=!1;const m={};for(let v=0;v<r.length;v++){const E=r[v],x=t[E],k=u[E],R=x(k,h);if(typeof R>"u")throw h&&h.type,new Error(Dt(14));m[E]=R,f=f||R!==k}return f=f||r.length!==Object.keys(u).length,f?m:u}}function dd(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function pk(...n){return e=>(t,r)=>{const s=e(t,r);let a=()=>{throw new Error(Dt(15))};const u={getState:s.getState,dispatch:(f,...m)=>a(f,...m)},h=n.map(f=>f(u));return a=dd(...h)(s.dispatch),{...s,dispatch:a}}}function mk(n){return bm(n)&&"type"in n&&typeof n.type=="string"}var z1=Symbol.for("immer-nothing"),hv=Symbol.for("immer-draftable"),vn=Symbol.for("immer-state");function Gn(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ia=Object.getPrototypeOf;function $s(n){return!!n&&!!n[vn]}function Yr(n){var e;return n?B1(n)||Array.isArray(n)||!!n[hv]||!!((e=n.constructor)!=null&&e[hv])||Qd(n)||Yd(n):!1}var gk=Object.prototype.constructor.toString();function B1(n){if(!n||typeof n!="object")return!1;const e=ia(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===gk}function hd(n,e){Gd(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function Gd(n){const e=n[vn];return e?e.type_:Array.isArray(n)?1:Qd(n)?2:Yd(n)?3:0}function Op(n,e){return Gd(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function H1(n,e,t){const r=Gd(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function yk(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Qd(n){return n instanceof Map}function Yd(n){return n instanceof Set}function As(n){return n.copy_||n.base_}function Lp(n,e){if(Qd(n))return new Map(n);if(Yd(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=B1(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[vn];let s=Reflect.ownKeys(r);for(let a=0;a<s.length;a++){const u=s[a],h=r[u];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(r[u]={configurable:!0,writable:!0,enumerable:h.enumerable,value:n[u]})}return Object.create(ia(n),r)}else{const r=ia(n);if(r!==null&&t)return{...n};const s=Object.create(r);return Object.assign(s,n)}}function Rm(n,e=!1){return Xd(n)||$s(n)||!Yr(n)||(Gd(n)>1&&(n.set=n.add=n.clear=n.delete=vk),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>Rm(r,!0))),n}function vk(){Gn(2)}function Xd(n){return Object.isFrozen(n)}var _k={};function zs(n){const e=_k[n];return e||Gn(0,n),e}var Ul;function W1(){return Ul}function wk(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fv(n,e){e&&(zs("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function jp(n){Mp(n),n.drafts_.forEach(Ek),n.drafts_=null}function Mp(n){n===Ul&&(Ul=n.parent_)}function pv(n){return Ul=wk(Ul,n)}function Ek(n){const e=n[vn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function mv(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[vn].modified_&&(jp(e),Gn(4)),Yr(n)&&(n=fd(e,n),e.parent_||pd(e,n)),e.patches_&&zs("Patches").generateReplacementPatches_(t[vn].base_,n,e.patches_,e.inversePatches_)):n=fd(e,t,[]),jp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==z1?n:void 0}function fd(n,e,t){if(Xd(e))return e;const r=e[vn];if(!r)return hd(e,(s,a)=>gv(n,r,e,s,a,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return pd(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let a=s,u=!1;r.type_===3&&(a=new Set(s),s.clear(),u=!0),hd(a,(h,f)=>gv(n,r,s,h,f,t,u)),pd(n,s,!1),t&&n.patches_&&zs("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function gv(n,e,t,r,s,a,u){if($s(s)){const h=a&&e&&e.type_!==3&&!Op(e.assigned_,r)?a.concat(r):void 0,f=fd(n,s,h);if(H1(t,r,f),$s(f))n.canAutoFreeze_=!1;else return}else u&&t.add(s);if(Yr(s)&&!Xd(s)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;fd(n,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&pd(n,s)}}function pd(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Rm(e,t)}function Tk(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:W1(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,a=Pm;t&&(s=[r],a=$l);const{revoke:u,proxy:h}=Proxy.revocable(s,a);return r.draft_=h,r.revoke_=u,h}var Pm={get(n,e){if(e===vn)return n;const t=As(n);if(!Op(t,e))return xk(n,t,e);const r=t[e];return n.finalized_||!Yr(r)?r:r===ip(n.base_,e)?(sp(n),n.copy_[e]=Fp(r,n)):r},has(n,e){return e in As(n)},ownKeys(n){return Reflect.ownKeys(As(n))},set(n,e,t){const r=q1(As(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const s=ip(As(n),e),a=s==null?void 0:s[vn];if(a&&a.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(yk(t,s)&&(t!==void 0||Op(n.base_,e)))return!0;sp(n),Vp(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return ip(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,sp(n),Vp(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=As(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){Gn(11)},getPrototypeOf(n){return ia(n.base_)},setPrototypeOf(){Gn(12)}},$l={};hd(Pm,(n,e)=>{$l[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});$l.deleteProperty=function(n,e){return $l.set.call(this,n,e,void 0)};$l.set=function(n,e,t){return Pm.set.call(this,n[0],e,t,n[0])};function ip(n,e){const t=n[vn];return(t?As(t):n)[e]}function xk(n,e,t){var s;const r=q1(e,t);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(n.draft_):void 0}function q1(n,e){if(!(e in n))return;let t=ia(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=ia(t)}}function Vp(n){n.modified_||(n.modified_=!0,n.parent_&&Vp(n.parent_))}function sp(n){n.copy_||(n.copy_=Lp(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var Ik=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const a=t;t=e;const u=this;return function(f=a,...m){return u.produce(f,v=>t.call(this,v,...m))}}typeof t!="function"&&Gn(6),r!==void 0&&typeof r!="function"&&Gn(7);let s;if(Yr(e)){const a=pv(this),u=Fp(e,void 0);let h=!0;try{s=t(u),h=!1}finally{h?jp(a):Mp(a)}return fv(a,r),mv(s,a)}else if(!e||typeof e!="object"){if(s=t(e),s===void 0&&(s=e),s===z1&&(s=void 0),this.autoFreeze_&&Rm(s,!0),r){const a=[],u=[];zs("Patches").generateReplacementPatches_(e,s,a,u),r(a,u)}return s}else Gn(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(u,...h)=>this.produceWithPatches(u,f=>e(f,...h));let r,s;return[this.produce(e,t,(u,h)=>{r=u,s=h}),r,s]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Yr(n)||Gn(8),$s(n)&&(n=Sk(n));const e=pv(this),t=Fp(n,void 0);return t[vn].isManual_=!0,Mp(e),t}finishDraft(n,e){const t=n&&n[vn];(!t||!t.isManual_)&&Gn(9);const{scope_:r}=t;return fv(r,e),mv(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const s=e[t];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}t>-1&&(e=e.slice(t+1));const r=zs("Patches").applyPatches_;return $s(n)?r(n,e):this.produce(n,s=>r(s,e))}};function Fp(n,e){const t=Qd(n)?zs("MapSet").proxyMap_(n,e):Yd(n)?zs("MapSet").proxySet_(n,e):Tk(n,e);return(e?e.scope_:W1()).drafts_.push(t),t}function Sk(n){return $s(n)||Gn(10,n),K1(n)}function K1(n){if(!Yr(n)||Xd(n))return n;const e=n[vn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Lp(n,e.scope_.immer_.useStrictShallowCopy_)}else t=Lp(n,!0);return hd(t,(r,s)=>{H1(t,r,K1(s))}),e&&(e.finalized_=!1),t}var _n=new Ik,G1=_n.produce;_n.produceWithPatches.bind(_n);_n.setAutoFreeze.bind(_n);_n.setUseStrictShallowCopy.bind(_n);_n.applyPatches.bind(_n);_n.createDraft.bind(_n);_n.finishDraft.bind(_n);function Q1(n){return({dispatch:t,getState:r})=>s=>a=>typeof a=="function"?a(t,r,n):s(a)}var Ck=Q1(),kk=Q1,bk=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dd:dd.apply(null,arguments)};function yv(n,e){function t(...r){if(e){let s=e(...r);if(!s)throw new Error(Kr(0));return{type:n,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>mk(r)&&r.type===n,t}var Y1=class Il extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Il.prototype)}static get[Symbol.species](){return Il}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Il(...e[0].concat(this)):new Il(...e.concat(this))}};function vv(n){return Yr(n)?G1(n,()=>{}):n}function _v(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function Rk(n){return typeof n=="boolean"}var Pk=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:a=!0}=e??{};let u=new Y1;return t&&(Rk(t)?u.push(Ck):u.push(kk(t.extraArgument))),u},Ak="RTK_autoBatch",wv=n=>e=>{setTimeout(e,n)},Nk=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let s=!0,a=!1,u=!1;const h=new Set,f=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:wv(10):n.type==="callback"?n.queueNotification:wv(n.timeout),m=()=>{u=!1,a&&(a=!1,h.forEach(v=>v()))};return Object.assign({},r,{subscribe(v){const E=()=>s&&v(),x=r.subscribe(E);return h.add(v),()=>{x(),h.delete(v)}},dispatch(v){var E;try{return s=!((E=v==null?void 0:v.meta)!=null&&E[Ak]),a=!s,a&&(u||(u=!0,f(m))),r.dispatch(v)}finally{s=!0}}})},Dk=n=>function(t){const{autoBatch:r=!0}=t??{};let s=new Y1(n);return r&&s.push(Nk(typeof r=="object"?r:void 0)),s};function Ok(n){const e=Pk(),{reducer:t=void 0,middleware:r,devTools:s=!0,preloadedState:a=void 0,enhancers:u=void 0}=n;let h;if(typeof t=="function")h=t;else if(bm(t))h=fk(t);else throw new Error(Kr(1));let f;typeof r=="function"?f=r(e):f=e();let m=dd;s&&(m=bk({trace:!1,...typeof s=="object"&&s}));const v=pk(...f),E=Dk(v);let x=typeof u=="function"?u(E):E();const k=m(...x);return $1(h,a,k)}function X1(n){const e={},t=[];let r;const s={addCase(a,u){const h=typeof a=="string"?a:a.type;if(!h)throw new Error(Kr(28));if(h in e)throw new Error(Kr(29));return e[h]=u,s},addMatcher(a,u){return t.push({matcher:a,reducer:u}),s},addDefaultCase(a){return r=a,s}};return n(s),[e,t,r]}function Lk(n){return typeof n=="function"}function jk(n,e){let[t,r,s]=X1(e),a;if(Lk(n))a=()=>vv(n());else{const h=vv(n);a=()=>h}function u(h=a(),f){let m=[t[f.type],...r.filter(({matcher:v})=>v(f)).map(({reducer:v})=>v)];return m.filter(v=>!!v).length===0&&(m=[s]),m.reduce((v,E)=>{if(E)if($s(v)){const k=E(v,f);return k===void 0?v:k}else{if(Yr(v))return G1(v,x=>E(x,f));{const x=E(v,f);if(x===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return v},h)}return u.getInitialState=a,u}var Mk=Symbol.for("rtk-slice-createasyncthunk");function Vk(n,e){return`${n}/${e}`}function Fk({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[Mk];return function(s){const{name:a,reducerPath:u=a}=s;if(!a)throw new Error(Kr(11));const h=(typeof s.reducers=="function"?s.reducers(zk()):s.reducers)||{},f=Object.keys(h),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},v={addCase(O,H){const X=typeof O=="string"?O:O.type;if(!X)throw new Error(Kr(12));if(X in m.sliceCaseReducersByType)throw new Error(Kr(13));return m.sliceCaseReducersByType[X]=H,v},addMatcher(O,H){return m.sliceMatchers.push({matcher:O,reducer:H}),v},exposeAction(O,H){return m.actionCreators[O]=H,v},exposeCaseReducer(O,H){return m.sliceCaseReducersByName[O]=H,v}};f.forEach(O=>{const H=h[O],X={reducerName:O,type:Vk(a,O),createNotation:typeof s.reducers=="function"};Hk(H)?qk(X,H,v,e):Bk(X,H,v)});function E(){const[O={},H=[],X=void 0]=typeof s.extraReducers=="function"?X1(s.extraReducers):[s.extraReducers],ne={...O,...m.sliceCaseReducersByType};return jk(s.initialState,b=>{for(let C in ne)b.addCase(C,ne[C]);for(let C of m.sliceMatchers)b.addMatcher(C.matcher,C.reducer);for(let C of H)b.addMatcher(C.matcher,C.reducer);X&&b.addDefaultCase(X)})}const x=O=>O,k=new Map;let R;function M(O,H){return R||(R=E()),R(O,H)}function A(){return R||(R=E()),R.getInitialState()}function $(O,H=!1){function X(b){let C=b[O];return typeof C>"u"&&H&&(C=A()),C}function ne(b=x){const C=_v(k,H,()=>new WeakMap);return _v(C,b,()=>{const P={};for(const[L,j]of Object.entries(s.selectors??{}))P[L]=Uk(j,b,A,H);return P})}return{reducerPath:O,getSelectors:ne,get selectors(){return ne(X)},selectSlice:X}}const F={name:a,reducer:M,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:A,...$(u),injectInto(O,{reducerPath:H,...X}={}){const ne=H??u;return O.inject({reducerPath:ne,reducer:M},X),{...F,...$(ne,!0)}}};return F}}function Uk(n,e,t,r){function s(a,...u){let h=e(a);return typeof h>"u"&&r&&(h=t()),n(h,...u)}return s.unwrapped=n,s}var $k=Fk();function zk(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function Bk({type:n,reducerName:e,createNotation:t},r,s){let a,u;if("reducer"in r){if(t&&!Wk(r))throw new Error(Kr(17));a=r.reducer,u=r.prepare}else a=r;s.addCase(n,a).exposeCaseReducer(e,a).exposeAction(e,u?yv(n,u):yv(n))}function Hk(n){return n._reducerDefinitionType==="asyncThunk"}function Wk(n){return n._reducerDefinitionType==="reducerWithPrepare"}function qk({type:n,reducerName:e},t,r,s){if(!s)throw new Error(Kr(18));const{payloadCreator:a,fulfilled:u,pending:h,rejected:f,settled:m,options:v}=t,E=s(n,a,v);r.exposeAction(e,E),u&&r.addCase(E.fulfilled,u),h&&r.addCase(E.pending,h),f&&r.addCase(E.rejected,f),m&&r.addMatcher(E.settled,m),r.exposeCaseReducer(e,{fulfilled:u||Oc,pending:h||Oc,rejected:f||Oc,settled:m||Oc})}function Oc(){}function Kr(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const Kk=JSON.parse(localStorage.getItem("cart"))??[],J1=$k({name:"cart",initialState:Kk,reducers:{addToCart(n,e){n.push(e.payload)},deleteFromCart(n,e){return n.filter(t=>t.id!==e.payload)}}}),{addToCart:Am,deleteFromCart:Gk}=J1.actions,Qk=J1.reducer;function Yk(){const n=I.useContext(Mt),{mode:e,product:t,searchkey:r="",filterType:s="",filterPrice:a=""}=n,u=nu();ya(m=>m.cart);const h=m=>{u(Am(m)),Se.success("Added to cart")},f=t.filter(m=>{const v=m.title.toLowerCase().includes(r.toLowerCase()),E=!s||m.category.toLowerCase()===s.toLowerCase(),x=!a||a==="low"&&parseFloat(m.price)<500||a==="medium"&&parseFloat(m.price)>=500&&parseFloat(m.price)<1e3||a==="high"&&parseFloat(m.price)>=1e3;return v&&E&&x});return _.jsx("div",{children:_.jsx("div",{className:"flex justify-center",style:{backgroundColor:e==="dark"?"#282c34":""},children:_.jsxs("div",{className:"w-full max-w-7xl px-4 md:px-5 lg-6 mx-auto",children:[_.jsx("div",{className:"main-heading mb-8",children:_.jsx("h2",{className:"text-3xl lg:text-4xl font-bold leading-10 text-black text-center",style:{color:e==="dark"?"white":""},children:"Our Latest Collection"})}),_.jsx("div",{className:"flex flex-wrap -m-4",children:f.length===0?_.jsx("div",{className:"w-full text-center py-10",style:{color:e==="dark"?"white":"black"},children:"No products found matching your filters."}):f.map((m,v)=>{const{title:E,price:x,description:k,imageUrl:R,id:M}=m;return _.jsx("div",{className:"p-4 md:w-1/4 drop-shadow-lg",onClick:()=>window.location.href=`/productinfo/${M}`,children:_.jsxs("div",{className:"h-full border-2 hover:shadow-gray-100 hover:shadow-2xl transition-shadow duration-300 ease-in-out border-gray-200 border-opacity-60 rounded-2xl overflow-hidden",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[_.jsx("div",{className:"flex justify-center cursor-pointer",children:_.jsx("img",{className:"rounded-2xl w-full h-80 p-2 hover:scale-110 transition-scale-110 duration-300 ease-in-out",src:R,alt:E})}),_.jsxs("div",{className:"p-5 border-t-2",children:[_.jsx("h2",{className:"tracking-widest text-xs title-font font-medium text-gray-400 mb-1",style:{color:e==="dark"?"white":""},children:"E-Bharat"}),_.jsx("h1",{className:"title-font text-lg font-medium text-gray-900 mb-3",style:{color:e==="dark"?"white":""},children:E}),_.jsxs("p",{className:"leading-relaxed mb-3",style:{color:e==="dark"?"white":""},children:["₹",x]}),_.jsx("div",{className:"flex justify-center",children:_.jsx("button",{type:"button",onClick:A=>{A.stopPropagation(),h(m)},className:"focus:outline-none text-white bg-pink-600 hover:bg-pink-700 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm w-full py-2",children:"Add To Cart"})})]})]})},M||v)})})]})})})}function Xk(){const n=I.useContext(Mt),{toggleMode:e,mode:t}=n;return _.jsx("div",{children:_.jsx("section",{className:"text-gray-600 body-font",children:_.jsx("div",{className:"container px-5 md:py-5  mx-auto",children:_.jsxs("div",{className:"flex flex-wrap -m-4 text-center",children:[_.jsx("div",{className:"p-4 md:w-1/3 sm:w-1/2 w-full",children:_.jsxs("div",{className:"border-2 hover:shadow-xl hover:shadow-gray-200 border-gray-200 bg-gray-100 shadow-[inset_0_0_2px_rgba(0,0,0,0.6)] px-4 py-6 rounded-lg",style:{backgroundColor:t==="dark"?"rgb(46 49 55)":"",color:t==="dark"?"white":""},children:[_.jsx("svg",{className:"text-pink-600 w-12 h-12 mb-3 inline-block",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),_.jsx("h2",{className:"title-font font-medium text-lg text-gray-900",style:{color:t==="dark"?"white":""},children:"Premium Tshirts"}),_.jsx("p",{className:"leading-relaxed",children:"Our T-Shirts are 100% made of cotton."})]})}),_.jsx("div",{className:"p-4 md:w-1/3 sm:w-1/2 w-full",children:_.jsxs("div",{className:"border-2 hover:shadow-xl hover:shadow-gray-200 border-gray-200 bg-gray-100  px-4 py-6 rounded-lg",style:{backgroundColor:t==="dark"?"rgb(46 49 55)":"",color:t==="dark"?"white":""},children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"text-pink-600 w-12 h-12 mb-3 inline-block",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})}),_.jsx("h2",{className:"title-font font-medium text-lg text-gray-900",style:{color:t==="dark"?"white":""},children:"Free Shipping"}),_.jsx("p",{className:"leading-relaxed",children:"We ship all over India for FREE."})]})}),_.jsx("div",{className:"p-4 md:w-1/3 sm:w-1/2 w-full",children:_.jsxs("div",{className:"border-2 hover:shadow-xl hover:shadow-gray-200 border-gray-200 bg-gray-100 shadow-[inset_0_0_2px_rgba(0,0,0,0.6)] px-4 py-6 rounded-lg",style:{backgroundColor:t==="dark"?"rgb(46 49 55)":"",color:t==="dark"?"white":""},children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"text-pink-600 w-12 h-12 mb-3 inline-block",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 8.25H9m6 3H9m3 6l-3-3h1.5a3 3 0 100-6M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),_.jsx("h2",{className:"title-font font-medium text-lg text-gray-900",style:{color:t==="dark"?"white":""},children:"Exciting Offers"}),_.jsx("p",{className:"leading-relaxed",children:"We provide amazing offers & discounts"})]})})]})})})})}function Jk(){const n=I.useContext(Mt),{mode:e}=n;return _.jsx("div",{style:{backgroundColor:e==="dark"?"#282c34":"white"},children:_.jsx("section",{className:`text-gray-600 body-font mb-10 ${e==="dark"?"bg-gray-900":""}`,children:_.jsxs("div",{className:"container px-5 py-10 mx-auto",children:[_.jsx("h1",{className:"text-center text-3xl font-bold",style:{color:e==="dark"?"white":"black"},children:"Testimonial"}),_.jsxs("h2",{className:"text-center text-2xl font-semibold mb-10",style:{color:e==="dark"?"white":"black"},children:["What our ",_.jsx("span",{className:"text-pink-500",children:"customers"})," are saying"]}),_.jsx("div",{className:"flex flex-wrap -m-4",children:[{img:"https://cdn-icons-png.flaticon.com/128/17863/17863140.png",name:"Santosh Patel",role:"Frontend Developer"},{img:"https://cdn-icons-png.flaticon.com/128/2763/2763444.png",name:"React Js",role:"UI Developer"},{img:"https://webknudocs.vercel.app/logo/react.png",name:"React Js",role:"CTO"}].map((t,r)=>_.jsx("div",{className:"lg:w-1/3 lg:mb-0 mb-6 p-4",children:_.jsxs("div",{className:"h-full text-center p-4 rounded-lg",style:{backgroundColor:e==="dark"?"#3a3f48":"white",color:e==="dark"?"white":"black",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[_.jsx("img",{alt:"testimonial",className:"w-20 h-20 mb-8 object-cover object-center rounded-full inline-block border-2 border-gray-200",src:t.img,style:{borderColor:e==="dark"?"#4a4f58":"gray-200",backgroundColor:e==="dark"?"#4a4f58":"white"}}),_.jsx("p",{className:"leading-relaxed mb-4",children:"Edison bulb retro cloud bread echo park, helvetica stumptown taiyaki taxidermy 90's cronut +1 kinfolk. Single-origin coffee ennui shaman taiyaki vape DIY tote bag drinking vinegar cronut adaptogen squid fanny pack vaporware."}),_.jsx("span",{className:"inline-block h-1 w-10 rounded bg-pink-500 mt-6 mb-4"}),_.jsx("h2",{className:"font-medium title-font tracking-wider text-sm uppercase",style:{color:e==="dark"?"#ff4162":"black"},children:t.name}),_.jsx("p",{className:"text-sm",style:{color:e==="dark"?"lightgray":"gray"},children:t.role})]})},r))})]})})})}const Zk=()=>{nu();const n=ya(e=>e.cart);return console.log(n),_.jsxs(Fs,{children:[_.jsx(b2,{}),_.jsx(O1,{}),_.jsx(Yk,{}),_.jsx(Xk,{}),_.jsx(Jk,{})]})};function Nm(){return _.jsx("div",{children:_.jsxs("div",{role:"status",className:"absolute top-0 right-0 bottom-0 left-0 m-auto w-[3em] h-10 md:h-32 z-50",children:[_.jsxs("svg",{"aria-hidden":"true",className:"w-10 h-10 text-gray-300 animate-spin fill-violet-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),_.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),_.jsx("span",{className:"sr-only",children:"Loading..."})]})})}function eb(){var f;const n=localStorage.getItem("user"),e=n?JSON.parse(n):null,t=(e==null?void 0:e.uid)||((f=e==null?void 0:e.user)==null?void 0:f.uid),r=I.useContext(Mt),{mode:s,loading:a,order:u=[]}=r;I.useEffect(()=>{console.log("User ID:",t),console.log("Total Orders:",u.length),console.log("User Orders:",u.filter(m=>m.userid===t))},[t,u]);const h=u.filter(m=>m.userid===t);return _.jsx(Fs,{children:a?_.jsx(Nm,{}):h.length>0?_.jsx("div",{className:"h-full pt-10",children:h.map((m,v)=>{var E;return _.jsx("div",{className:"mx-auto max-w-5xl justify-center px-6 md:flex md:space-x-6 xl:px-0 mb-6",children:(E=m.cartitem)==null?void 0:E.map((x,k)=>_.jsx("div",{className:"rounded-lg md:w-2/3 mb-4",children:_.jsxs("div",{className:"justify-between rounded-lg bg-white p-6 shadow-md sm:flex sm:justify-start",style:{backgroundColor:s==="dark"?"#282c34":"",color:s==="dark"?"white":""},children:[_.jsx("img",{src:x.imageUrl,alt:"product-image",className:"w-full rounded-lg sm:w-40"}),_.jsx("div",{className:"sm:ml-4 sm:flex sm:w-full sm:justify-between",children:_.jsxs("div",{className:"mt-5 sm:mt-0",children:[_.jsx("h2",{className:"text-lg font-bold text-gray-900",style:{color:s==="dark"?"white":""},children:x.title}),_.jsx("p",{className:"mt-1 text-xs text-gray-700",style:{color:s==="dark"?"white":""},children:x.description}),_.jsx("p",{className:"mt-1 text-xs text-gray-700",style:{color:s==="dark"?"white":""},children:x.price})]})})]})},k))},v)})}):_.jsx("div",{className:"flex items-center justify-center h-screen",children:_.jsx("h2",{className:"text-center text-2xl text-gray-600",children:"You have no orders yet. Start shopping!"})})})}function tb({name:n,address:e,pincode:t,phonenumber:r,setname:s,setaddress:a,setpincode:u,setphonenumber:h,buyNow:f}){let[m,v]=I.useState(!1);function E(){v(!1)}function x(){v(!0)}return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"  text-center rounded-lg text-white font-bold ",children:_.jsx("button",{type:"button",onClick:x,className:"w-full  bg-violet-600 py-2 text-center rounded-lg text-white font-bold",children:"Buy Now"})}),_.jsx(Ms,{appear:!0,show:m,as:I.Fragment,children:_.jsxs(ad,{as:"div",className:"relative z-10",onClose:E,children:[_.jsx(Ms.Child,{as:I.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),_.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:_.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:_.jsx(Ms.Child,{as:I.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:_.jsx(ad.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl p-2  text-left align-middle shadow-xl transition-all bg-gray-50",children:_.jsx("section",{className:"",children:_.jsx("div",{className:"flex flex-col items-center justify-center py-8 mx-auto  lg:py-0",children:_.jsx("div",{className:"w-full  rounded-lg md:mt-0 sm:max-w-md xl:p-0 ",children:_.jsxs("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[_.jsxs("form",{className:"space-y-4 md:space-y-6",action:"#",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-gray-900",children:"Enter Full Name"}),_.jsx("input",{value:n,onChange:k=>s(k.target.value),type:"name",name:"name",id:"name",className:" border outline-0 border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 bg-gray-100",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900",children:"Enter Full Address"}),_.jsx("input",{value:e,onChange:k=>a(k.target.value),type:"text",name:"address",id:"address",className:" border outline-0 border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 bg-gray-100",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"pincode",className:"block mb-2 text-sm font-medium text-gray-900",children:"Enter Pincode"}),_.jsx("input",{value:t,onChange:k=>u(k.target.value),type:"text",name:"pincode",id:"pincode",className:" border outline-0 border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 bg-gray-100",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"mobileNumber",className:"block mb-2 text-sm font-medium text-gray-900",children:"Enter Mobile Number"}),_.jsx("input",{value:r,onChange:k=>h(k.target.value),type:"text",name:"mobileNumber",id:"mobileNumber",className:" border outline-0 border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 bg-gray-100",required:!0})]})]}),_.jsx("button",{onClick:()=>{f(),E()},type:"button",className:"focus:outline-none w-full text-white bg-violet-600 bg-green-600 hover:bg-violet-800  outline-0 font-medium rounded-lg text-sm px-5 py-2.5 ",children:"Order Now"})]})})})})})})})})]})})]})}var Ev={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},nb=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},ew={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,m=f?n[s+2]:0,v=a>>2,E=(a&3)<<4|h>>4;let x=(h&15)<<2|m>>6,k=m&63;f||(k=64,u||(x=64)),r.push(t[v],t[E],t[x],t[k])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Z1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):nb(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const E=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||m==null||E==null)throw new rb;const x=a<<2|h>>4;if(r.push(x),m!==64){const k=h<<4&240|m>>2;if(r.push(k),E!==64){const R=m<<6&192|E;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class rb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ib=function(n){const e=Z1(n);return ew.encodeByteArray(e,!0)},md=function(n){return ib(n).replace(/\./g,"")},tw=function(n){try{return ew.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=()=>sb().__FIREBASE_DEFAULTS__,ab=()=>{if(typeof process>"u"||typeof Ev>"u")return;const n=Ev.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lb=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&tw(n[1]);return e&&JSON.parse(e)},Jd=()=>{try{return ob()||ab()||lb()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},nw=n=>{var e,t;return(t=(e=Jd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ub=n=>{const e=nw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},rw=()=>{var n;return(n=Jd())===null||n===void 0?void 0:n.config},iw=n=>{var e;return(e=Jd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[md(JSON.stringify(t)),md(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function fb(){var n;const e=(n=Jd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mb(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function gb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yb(){const n=Wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vb(){return!fb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _b(){try{return typeof indexedDB=="object"}catch{return!1}}function wb(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="FirebaseError";class ti extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Eb,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?Tb(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new ti(s,h,r)}}function Tb(n,e){return n.replace(xb,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const xb=/\{\$([^}]+)}/g;function Ib(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function gd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(Tv(a)&&Tv(u)){if(!gd(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Tv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Cl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Sb(n,e){const t=new Cb(n,e);return t.subscribe.bind(t)}class Cb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");kb(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=op),s.error===void 0&&(s.error=op),s.complete===void 0&&(s.complete=op);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kb(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function op(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(n){return n&&n._delegate?n._delegate:n}class Bs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new cb;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Pb(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Rb(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Rb(n){return n===Ns?void 0:n}function Pb(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const Nb={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Db=Me.INFO,Ob={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Lb=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Ob[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=Db,this._logHandler=Lb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Nb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const jb=(n,e)=>e.some(t=>n instanceof t);let xv,Iv;function Mb(){return xv||(xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vb(){return Iv||(Iv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sw=new WeakMap,Up=new WeakMap,ow=new WeakMap,ap=new WeakMap,Om=new WeakMap;function Fb(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(ji(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&sw.set(t,n)}).catch(()=>{}),Om.set(e,n),e}function Ub(n){if(Up.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Up.set(n,e)}let $p={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Up.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ow.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ji(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $b(n){$p=n($p)}function zb(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(lp(this),e,...t);return ow.set(r,e.sort?e.sort():[e]),ji(r)}:Vb().includes(n)?function(...e){return n.apply(lp(this),e),ji(sw.get(this))}:function(...e){return ji(n.apply(lp(this),e))}}function Bb(n){return typeof n=="function"?zb(n):(n instanceof IDBTransaction&&Ub(n),jb(n,Mb())?new Proxy(n,$p):n)}function ji(n){if(n instanceof IDBRequest)return Fb(n);if(ap.has(n))return ap.get(n);const e=Bb(n);return e!==n&&(ap.set(n,e),Om.set(e,n)),e}const lp=n=>Om.get(n);function Hb(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),h=ji(u);return r&&u.addEventListener("upgradeneeded",f=>{r(ji(u.result),f.oldVersion,f.newVersion,ji(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const Wb=["get","getKey","getAll","getAllKeys","count"],qb=["put","add","delete","clear"],up=new Map;function Sv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(up.get(e))return up.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=qb.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Wb.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),s&&f.done]))[0]};return up.set(e,a),a}$b(n=>({...n,get:(e,t,r)=>Sv(e,t)||n.get(e,t,r),has:(e,t)=>!!Sv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Gb(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Gb(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zp="@firebase/app",Cv="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new Dm("@firebase/app"),Qb="@firebase/app-compat",Yb="@firebase/analytics-compat",Xb="@firebase/analytics",Jb="@firebase/app-check-compat",Zb="@firebase/app-check",eR="@firebase/auth",tR="@firebase/auth-compat",nR="@firebase/database",rR="@firebase/data-connect",iR="@firebase/database-compat",sR="@firebase/functions",oR="@firebase/functions-compat",aR="@firebase/installations",lR="@firebase/installations-compat",uR="@firebase/messaging",cR="@firebase/messaging-compat",dR="@firebase/performance",hR="@firebase/performance-compat",fR="@firebase/remote-config",pR="@firebase/remote-config-compat",mR="@firebase/storage",gR="@firebase/storage-compat",yR="@firebase/firestore",vR="@firebase/vertexai",_R="@firebase/firestore-compat",wR="firebase",ER="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="[DEFAULT]",TR={[zp]:"fire-core",[Qb]:"fire-core-compat",[Xb]:"fire-analytics",[Yb]:"fire-analytics-compat",[Zb]:"fire-app-check",[Jb]:"fire-app-check-compat",[eR]:"fire-auth",[tR]:"fire-auth-compat",[nR]:"fire-rtdb",[rR]:"fire-data-connect",[iR]:"fire-rtdb-compat",[sR]:"fire-fn",[oR]:"fire-fn-compat",[aR]:"fire-iid",[lR]:"fire-iid-compat",[uR]:"fire-fcm",[cR]:"fire-fcm-compat",[dR]:"fire-perf",[hR]:"fire-perf-compat",[fR]:"fire-rc",[pR]:"fire-rc-compat",[mR]:"fire-gcs",[gR]:"fire-gcs-compat",[yR]:"fire-fst",[_R]:"fire-fst-compat",[vR]:"fire-vertex","fire-js":"fire-js",[wR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new Map,xR=new Map,Hp=new Map;function kv(n,e){try{n.container.addComponent(e)}catch(t){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function sa(n){const e=n.name;if(Hp.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;Hp.set(e,n);for(const t of yd.values())kv(t,n);for(const t of xR.values())kv(t,n);return!0}function Lm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function mr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new su("app","Firebase",IR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=ER;function aw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Mi.create("bad-app-name",{appName:String(s)});if(t||(t=rw()),!t)throw Mi.create("no-options");const a=yd.get(s);if(a){if(gd(t,a.options)&&gd(r,a.config))return a;throw Mi.create("duplicate-app",{appName:s})}const u=new Ab(s);for(const f of Hp.values())u.addComponent(f);const h=new SR(t,r,u);return yd.set(s,h),h}function lw(n=Bp){const e=yd.get(n);if(!e&&n===Bp&&rw())return aw();if(!e)throw Mi.create("no-app",{appName:n});return e}function Vi(n,e,t){var r;let s=(r=TR[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(h.join(" "));return}sa(new Bs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="firebase-heartbeat-database",kR=1,zl="firebase-heartbeat-store";let cp=null;function uw(){return cp||(cp=Hb(CR,kR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Mi.create("idb-open",{originalErrorMessage:n.message})})),cp}async function bR(n){try{const t=(await uw()).transaction(zl),r=await t.objectStore(zl).get(cw(n));return await t.done,r}catch(e){if(e instanceof ti)Xr.warn(e.message);else{const t=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(t.message)}}}async function bv(n,e){try{const r=(await uw()).transaction(zl,"readwrite");await r.objectStore(zl).put(e,cw(n)),await r.done}catch(t){if(t instanceof ti)Xr.warn(t.message);else{const r=Mi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Xr.warn(r.message)}}}function cw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=1024,PR=30*24*60*60*1e3;class AR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new DR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Rv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=PR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Rv(),{heartbeatsToSend:r,unsentEntries:s}=NR(this._heartbeatsCache.heartbeats),a=md(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Xr.warn(t),""}}}function Rv(){return new Date().toISOString().substring(0,10)}function NR(n,e=RR){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),Pv(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Pv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class DR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _b()?wb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return bv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return bv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Pv(n){return md(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(n){sa(new Bs("platform-logger",e=>new Kb(e),"PRIVATE")),sa(new Bs("heartbeat",e=>new AR(e),"PRIVATE")),Vi(zp,Cv,n),Vi(zp,Cv,"esm2017"),Vi("fire-js","")}OR("");var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vs,dw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,C){function P(){}P.prototype=C.prototype,b.D=C.prototype,b.prototype=new P,b.prototype.constructor=b,b.C=function(L,j,U){for(var N=Array(arguments.length-2),de=2;de<arguments.length;de++)N[de-2]=arguments[de];return C.prototype[j].apply(L,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,C,P){P||(P=0);var L=Array(16);if(typeof C=="string")for(var j=0;16>j;++j)L[j]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(j=0;16>j;++j)L[j]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=b.g[0],P=b.g[1],j=b.g[2];var U=b.g[3],N=C+(U^P&(j^U))+L[0]+3614090360&4294967295;C=P+(N<<7&4294967295|N>>>25),N=U+(j^C&(P^j))+L[1]+3905402710&4294967295,U=C+(N<<12&4294967295|N>>>20),N=j+(P^U&(C^P))+L[2]+606105819&4294967295,j=U+(N<<17&4294967295|N>>>15),N=P+(C^j&(U^C))+L[3]+3250441966&4294967295,P=j+(N<<22&4294967295|N>>>10),N=C+(U^P&(j^U))+L[4]+4118548399&4294967295,C=P+(N<<7&4294967295|N>>>25),N=U+(j^C&(P^j))+L[5]+1200080426&4294967295,U=C+(N<<12&4294967295|N>>>20),N=j+(P^U&(C^P))+L[6]+2821735955&4294967295,j=U+(N<<17&4294967295|N>>>15),N=P+(C^j&(U^C))+L[7]+4249261313&4294967295,P=j+(N<<22&4294967295|N>>>10),N=C+(U^P&(j^U))+L[8]+1770035416&4294967295,C=P+(N<<7&4294967295|N>>>25),N=U+(j^C&(P^j))+L[9]+2336552879&4294967295,U=C+(N<<12&4294967295|N>>>20),N=j+(P^U&(C^P))+L[10]+4294925233&4294967295,j=U+(N<<17&4294967295|N>>>15),N=P+(C^j&(U^C))+L[11]+2304563134&4294967295,P=j+(N<<22&4294967295|N>>>10),N=C+(U^P&(j^U))+L[12]+1804603682&4294967295,C=P+(N<<7&4294967295|N>>>25),N=U+(j^C&(P^j))+L[13]+4254626195&4294967295,U=C+(N<<12&4294967295|N>>>20),N=j+(P^U&(C^P))+L[14]+2792965006&4294967295,j=U+(N<<17&4294967295|N>>>15),N=P+(C^j&(U^C))+L[15]+1236535329&4294967295,P=j+(N<<22&4294967295|N>>>10),N=C+(j^U&(P^j))+L[1]+4129170786&4294967295,C=P+(N<<5&4294967295|N>>>27),N=U+(P^j&(C^P))+L[6]+3225465664&4294967295,U=C+(N<<9&4294967295|N>>>23),N=j+(C^P&(U^C))+L[11]+643717713&4294967295,j=U+(N<<14&4294967295|N>>>18),N=P+(U^C&(j^U))+L[0]+3921069994&4294967295,P=j+(N<<20&4294967295|N>>>12),N=C+(j^U&(P^j))+L[5]+3593408605&4294967295,C=P+(N<<5&4294967295|N>>>27),N=U+(P^j&(C^P))+L[10]+38016083&4294967295,U=C+(N<<9&4294967295|N>>>23),N=j+(C^P&(U^C))+L[15]+3634488961&4294967295,j=U+(N<<14&4294967295|N>>>18),N=P+(U^C&(j^U))+L[4]+3889429448&4294967295,P=j+(N<<20&4294967295|N>>>12),N=C+(j^U&(P^j))+L[9]+568446438&4294967295,C=P+(N<<5&4294967295|N>>>27),N=U+(P^j&(C^P))+L[14]+3275163606&4294967295,U=C+(N<<9&4294967295|N>>>23),N=j+(C^P&(U^C))+L[3]+4107603335&4294967295,j=U+(N<<14&4294967295|N>>>18),N=P+(U^C&(j^U))+L[8]+1163531501&4294967295,P=j+(N<<20&4294967295|N>>>12),N=C+(j^U&(P^j))+L[13]+2850285829&4294967295,C=P+(N<<5&4294967295|N>>>27),N=U+(P^j&(C^P))+L[2]+4243563512&4294967295,U=C+(N<<9&4294967295|N>>>23),N=j+(C^P&(U^C))+L[7]+1735328473&4294967295,j=U+(N<<14&4294967295|N>>>18),N=P+(U^C&(j^U))+L[12]+2368359562&4294967295,P=j+(N<<20&4294967295|N>>>12),N=C+(P^j^U)+L[5]+4294588738&4294967295,C=P+(N<<4&4294967295|N>>>28),N=U+(C^P^j)+L[8]+2272392833&4294967295,U=C+(N<<11&4294967295|N>>>21),N=j+(U^C^P)+L[11]+1839030562&4294967295,j=U+(N<<16&4294967295|N>>>16),N=P+(j^U^C)+L[14]+4259657740&4294967295,P=j+(N<<23&4294967295|N>>>9),N=C+(P^j^U)+L[1]+2763975236&4294967295,C=P+(N<<4&4294967295|N>>>28),N=U+(C^P^j)+L[4]+1272893353&4294967295,U=C+(N<<11&4294967295|N>>>21),N=j+(U^C^P)+L[7]+4139469664&4294967295,j=U+(N<<16&4294967295|N>>>16),N=P+(j^U^C)+L[10]+3200236656&4294967295,P=j+(N<<23&4294967295|N>>>9),N=C+(P^j^U)+L[13]+681279174&4294967295,C=P+(N<<4&4294967295|N>>>28),N=U+(C^P^j)+L[0]+3936430074&4294967295,U=C+(N<<11&4294967295|N>>>21),N=j+(U^C^P)+L[3]+3572445317&4294967295,j=U+(N<<16&4294967295|N>>>16),N=P+(j^U^C)+L[6]+76029189&4294967295,P=j+(N<<23&4294967295|N>>>9),N=C+(P^j^U)+L[9]+3654602809&4294967295,C=P+(N<<4&4294967295|N>>>28),N=U+(C^P^j)+L[12]+3873151461&4294967295,U=C+(N<<11&4294967295|N>>>21),N=j+(U^C^P)+L[15]+530742520&4294967295,j=U+(N<<16&4294967295|N>>>16),N=P+(j^U^C)+L[2]+3299628645&4294967295,P=j+(N<<23&4294967295|N>>>9),N=C+(j^(P|~U))+L[0]+4096336452&4294967295,C=P+(N<<6&4294967295|N>>>26),N=U+(P^(C|~j))+L[7]+1126891415&4294967295,U=C+(N<<10&4294967295|N>>>22),N=j+(C^(U|~P))+L[14]+2878612391&4294967295,j=U+(N<<15&4294967295|N>>>17),N=P+(U^(j|~C))+L[5]+4237533241&4294967295,P=j+(N<<21&4294967295|N>>>11),N=C+(j^(P|~U))+L[12]+1700485571&4294967295,C=P+(N<<6&4294967295|N>>>26),N=U+(P^(C|~j))+L[3]+2399980690&4294967295,U=C+(N<<10&4294967295|N>>>22),N=j+(C^(U|~P))+L[10]+4293915773&4294967295,j=U+(N<<15&4294967295|N>>>17),N=P+(U^(j|~C))+L[1]+2240044497&4294967295,P=j+(N<<21&4294967295|N>>>11),N=C+(j^(P|~U))+L[8]+1873313359&4294967295,C=P+(N<<6&4294967295|N>>>26),N=U+(P^(C|~j))+L[15]+4264355552&4294967295,U=C+(N<<10&4294967295|N>>>22),N=j+(C^(U|~P))+L[6]+2734768916&4294967295,j=U+(N<<15&4294967295|N>>>17),N=P+(U^(j|~C))+L[13]+1309151649&4294967295,P=j+(N<<21&4294967295|N>>>11),N=C+(j^(P|~U))+L[4]+4149444226&4294967295,C=P+(N<<6&4294967295|N>>>26),N=U+(P^(C|~j))+L[11]+3174756917&4294967295,U=C+(N<<10&4294967295|N>>>22),N=j+(C^(U|~P))+L[2]+718787259&4294967295,j=U+(N<<15&4294967295|N>>>17),N=P+(U^(j|~C))+L[9]+3951481745&4294967295,b.g[0]=b.g[0]+C&4294967295,b.g[1]=b.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+j&4294967295,b.g[3]=b.g[3]+U&4294967295}r.prototype.u=function(b,C){C===void 0&&(C=b.length);for(var P=C-this.blockSize,L=this.B,j=this.h,U=0;U<C;){if(j==0)for(;U<=P;)s(this,b,U),U+=this.blockSize;if(typeof b=="string"){for(;U<C;)if(L[j++]=b.charCodeAt(U++),j==this.blockSize){s(this,L),j=0;break}}else for(;U<C;)if(L[j++]=b[U++],j==this.blockSize){s(this,L),j=0;break}}this.h=j,this.o+=C},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var C=1;C<b.length-8;++C)b[C]=0;var P=8*this.o;for(C=b.length-8;C<b.length;++C)b[C]=P&255,P/=256;for(this.u(b),b=Array(16),C=P=0;4>C;++C)for(var L=0;32>L;L+=8)b[P++]=this.g[C]>>>L&255;return b};function a(b,C){var P=h;return Object.prototype.hasOwnProperty.call(P,b)?P[b]:P[b]=C(b)}function u(b,C){this.h=C;for(var P=[],L=!0,j=b.length-1;0<=j;j--){var U=b[j]|0;L&&U==C||(P[j]=U,L=!1)}this.g=P}var h={};function f(b){return-128<=b&&128>b?a(b,function(C){return new u([C|0],0>C?-1:0)}):new u([b|0],0>b?-1:0)}function m(b){if(isNaN(b)||!isFinite(b))return E;if(0>b)return A(m(-b));for(var C=[],P=1,L=0;b>=P;L++)C[L]=b/P|0,P*=4294967296;return new u(C,0)}function v(b,C){if(b.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(b.charAt(0)=="-")return A(v(b.substring(1),C));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(C,8)),L=E,j=0;j<b.length;j+=8){var U=Math.min(8,b.length-j),N=parseInt(b.substring(j,j+U),C);8>U?(U=m(Math.pow(C,U)),L=L.j(U).add(m(N))):(L=L.j(P),L=L.add(m(N)))}return L}var E=f(0),x=f(1),k=f(16777216);n=u.prototype,n.m=function(){if(M(this))return-A(this).m();for(var b=0,C=1,P=0;P<this.g.length;P++){var L=this.i(P);b+=(0<=L?L:4294967296+L)*C,C*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(R(this))return"0";if(M(this))return"-"+A(this).toString(b);for(var C=m(Math.pow(b,6)),P=this,L="";;){var j=H(P,C).g;P=$(P,j.j(C));var U=((0<P.g.length?P.g[0]:P.h)>>>0).toString(b);if(P=j,R(P))return U+L;for(;6>U.length;)U="0"+U;L=U+L}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function R(b){if(b.h!=0)return!1;for(var C=0;C<b.g.length;C++)if(b.g[C]!=0)return!1;return!0}function M(b){return b.h==-1}n.l=function(b){return b=$(this,b),M(b)?-1:R(b)?0:1};function A(b){for(var C=b.g.length,P=[],L=0;L<C;L++)P[L]=~b.g[L];return new u(P,~b.h).add(x)}n.abs=function(){return M(this)?A(this):this},n.add=function(b){for(var C=Math.max(this.g.length,b.g.length),P=[],L=0,j=0;j<=C;j++){var U=L+(this.i(j)&65535)+(b.i(j)&65535),N=(U>>>16)+(this.i(j)>>>16)+(b.i(j)>>>16);L=N>>>16,U&=65535,N&=65535,P[j]=N<<16|U}return new u(P,P[P.length-1]&-2147483648?-1:0)};function $(b,C){return b.add(A(C))}n.j=function(b){if(R(this)||R(b))return E;if(M(this))return M(b)?A(this).j(A(b)):A(A(this).j(b));if(M(b))return A(this.j(A(b)));if(0>this.l(k)&&0>b.l(k))return m(this.m()*b.m());for(var C=this.g.length+b.g.length,P=[],L=0;L<2*C;L++)P[L]=0;for(L=0;L<this.g.length;L++)for(var j=0;j<b.g.length;j++){var U=this.i(L)>>>16,N=this.i(L)&65535,de=b.i(j)>>>16,De=b.i(j)&65535;P[2*L+2*j]+=N*De,F(P,2*L+2*j),P[2*L+2*j+1]+=U*De,F(P,2*L+2*j+1),P[2*L+2*j+1]+=N*de,F(P,2*L+2*j+1),P[2*L+2*j+2]+=U*de,F(P,2*L+2*j+2)}for(L=0;L<C;L++)P[L]=P[2*L+1]<<16|P[2*L];for(L=C;L<2*C;L++)P[L]=0;return new u(P,0)};function F(b,C){for(;(b[C]&65535)!=b[C];)b[C+1]+=b[C]>>>16,b[C]&=65535,C++}function O(b,C){this.g=b,this.h=C}function H(b,C){if(R(C))throw Error("division by zero");if(R(b))return new O(E,E);if(M(b))return C=H(A(b),C),new O(A(C.g),A(C.h));if(M(C))return C=H(b,A(C)),new O(A(C.g),C.h);if(30<b.g.length){if(M(b)||M(C))throw Error("slowDivide_ only works with positive integers.");for(var P=x,L=C;0>=L.l(b);)P=X(P),L=X(L);var j=ne(P,1),U=ne(L,1);for(L=ne(L,2),P=ne(P,2);!R(L);){var N=U.add(L);0>=N.l(b)&&(j=j.add(P),U=N),L=ne(L,1),P=ne(P,1)}return C=$(b,j.j(C)),new O(j,C)}for(j=E;0<=b.l(C);){for(P=Math.max(1,Math.floor(b.m()/C.m())),L=Math.ceil(Math.log(P)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),U=m(P),N=U.j(C);M(N)||0<N.l(b);)P-=L,U=m(P),N=U.j(C);R(U)&&(U=x),j=j.add(U),b=$(b,N)}return new O(j,b)}n.A=function(b){return H(this,b).h},n.and=function(b){for(var C=Math.max(this.g.length,b.g.length),P=[],L=0;L<C;L++)P[L]=this.i(L)&b.i(L);return new u(P,this.h&b.h)},n.or=function(b){for(var C=Math.max(this.g.length,b.g.length),P=[],L=0;L<C;L++)P[L]=this.i(L)|b.i(L);return new u(P,this.h|b.h)},n.xor=function(b){for(var C=Math.max(this.g.length,b.g.length),P=[],L=0;L<C;L++)P[L]=this.i(L)^b.i(L);return new u(P,this.h^b.h)};function X(b){for(var C=b.g.length+1,P=[],L=0;L<C;L++)P[L]=b.i(L)<<1|b.i(L-1)>>>31;return new u(P,b.h)}function ne(b,C){var P=C>>5;C%=32;for(var L=b.g.length-P,j=[],U=0;U<L;U++)j[U]=0<C?b.i(U+P)>>>C|b.i(U+P+1)<<32-C:b.i(U+P);return new u(j,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Vs=u}).apply(typeof Av<"u"?Av:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hw,kl,fw,Hc,Wp,pw,mw,gw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,w){return c==Array.prototype||c==Object.prototype||(c[g]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var g=0;g<c.length;++g){var w=c[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var w=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var W=c[S];if(!(W in w))break e;w=w[W]}c=c[c.length-1],S=w[c],g=g(S),g!=S&&g!=null&&e(w,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var w=0,S=!1,W={next:function(){if(!S&&w<c.length){var Q=w++;return{value:g(Q,c[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,w){return c.call.apply(c.bind,arguments)}function E(c,g,w){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,S),c.apply(g,W)}}return function(){return c.apply(g,arguments)}}function x(c,g,w){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,x.apply(null,arguments)}function k(c,g){var w=Array.prototype.slice.call(arguments,1);return function(){var S=w.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function R(c,g){function w(){}w.prototype=g.prototype,c.aa=g.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(S,W,Q){for(var ae=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ae[Ke-2]=arguments[Ke];return g.prototype[W].apply(S,ae)}}function M(c){const g=c.length;if(0<g){const w=Array(g);for(let S=0;S<g;S++)w[S]=c[S];return w}return[]}function A(c,g){for(let w=1;w<arguments.length;w++){const S=arguments[w];if(f(S)){const W=c.length||0,Q=S.length||0;c.length=W+Q;for(let ae=0;ae<Q;ae++)c[W+ae]=S[ae]}else c.push(S)}}class ${constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function F(c){return/^[\s\xa0]*$/.test(c)}function O(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function H(c){return H[" "](c),c}H[" "]=function(){};var X=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function ne(c,g,w){for(const S in c)g.call(w,c[S],S,c)}function b(c,g){for(const w in c)g.call(void 0,c[w],w,c)}function C(c){const g={};for(const w in c)g[w]=c[w];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(c,g){let w,S;for(let W=1;W<arguments.length;W++){S=arguments[W];for(w in S)c[w]=S[w];for(let Q=0;Q<P.length;Q++)w=P[Q],Object.prototype.hasOwnProperty.call(S,w)&&(c[w]=S[w])}}function j(c){var g=1;c=c.split(":");const w=[];for(;0<g&&c.length;)w.push(c.shift()),g--;return c.length&&w.push(c.join(":")),w}function U(c){h.setTimeout(()=>{throw c},0)}function N(){var c=ce;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class de{constructor(){this.h=this.g=null}add(g,w){const S=De.get();S.set(g,w),this.h?this.h.next=S:this.g=S,this.h=S}}var De=new $(()=>new Re,c=>c.reset());class Re{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,re=!1,ce=new de,oe=()=>{const c=h.Promise.resolve(void 0);ke=()=>{c.then(z)}};var z=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(w){U(w)}var g=De;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}re=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};h.addEventListener("test",w,g),h.removeEventListener("test",w,g)}catch{}return c}();function xe(c,g){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(X){e:{try{H(g.nodeName);var W=!0;break e}catch{}W=!1}W||(g=null)}}else w=="mouseover"?g=c.fromElement:w=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}R(xe,ue);var Oe={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),je=0;function He(c,g,w,S,W){this.listener=c,this.proxy=null,this.src=g,this.type=w,this.capture=!!S,this.ha=W,this.key=++je,this.da=this.fa=!1}function Tt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function xr(c){this.src=c,this.g={},this.h=0}xr.prototype.add=function(c,g,w,S,W){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ae=ni(c,g,S,W);return-1<ae?(g=c[ae],w||(g.fa=!1)):(g=new He(g,this.src,Q,!!S,W),g.fa=w,c.push(g)),g};function eo(c,g){var w=g.type;if(w in c.g){var S=c.g[w],W=Array.prototype.indexOf.call(S,g,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(S,W,1),Q&&(Tt(g),c.g[w].length==0&&(delete c.g[w],c.h--))}}function ni(c,g,w,S){for(var W=0;W<c.length;++W){var Q=c[W];if(!Q.da&&Q.listener==g&&Q.capture==!!w&&Q.ha==S)return W}return-1}var ts="closure_lm_"+(1e6*Math.random()|0),to={};function Sa(c,g,w,S,W){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)Sa(c,g[Q],w,S,W);return null}return w=ba(w),c&&c[Ne]?c.K(g,w,m(S)?!!S.capture:!!S,W):Ca(c,g,w,!1,S,W)}function Ca(c,g,w,S,W,Q){if(!g)throw Error("Invalid event type");var ae=m(W)?!!W.capture:!!W,Ke=ro(c);if(Ke||(c[ts]=Ke=new xr(c)),w=Ke.add(g,w,S,ae,Q),w.proxy)return w;if(S=gu(),w.proxy=S,S.src=c,S.listener=w,c.addEventListener)Pe||(W=ae),W===void 0&&(W=!1),c.addEventListener(g.toString(),S,W);else if(c.attachEvent)c.attachEvent(Sr(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return w}function gu(){function c(w){return g.call(c.src,c.listener,w)}const g=ka;return c}function no(c,g,w,S,W){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)no(c,g[Q],w,S,W);else S=m(S)?!!S.capture:!!S,w=ba(w),c&&c[Ne]?(c=c.i,g=String(g).toString(),g in c.g&&(Q=c.g[g],w=ni(Q,w,S,W),-1<w&&(Tt(Q[w]),Array.prototype.splice.call(Q,w,1),Q.length==0&&(delete c.g[g],c.h--)))):c&&(c=ro(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ni(g,w,S,W)),(w=-1<c?g[c]:null)&&Ir(w))}function Ir(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ne])eo(g.i,c);else{var w=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(w,S,c.capture):g.detachEvent?g.detachEvent(Sr(w),S):g.addListener&&g.removeListener&&g.removeListener(S),(w=ro(g))?(eo(w,c),w.h==0&&(w.src=null,g[ts]=null)):Tt(c)}}}function Sr(c){return c in to?to[c]:to[c]="on"+c}function ka(c,g){if(c.da)c=!0;else{g=new xe(g,this);var w=c.listener,S=c.ha||c.src;c.fa&&Ir(c),c=w.call(S,g)}return c}function ro(c){return c=c[ts],c instanceof xr?c:null}var io="__closure_events_fn_"+(1e9*Math.random()>>>0);function ba(c){return typeof c=="function"?c:(c[io]||(c[io]=function(g){return c.handleEvent(g)}),c[io])}function gt(){Y.call(this),this.i=new xr(this),this.M=this,this.F=null}R(gt,Y),gt.prototype[Ne]=!0,gt.prototype.removeEventListener=function(c,g,w,S){no(this,c,g,w,S)};function yt(c,g){var w,S=c.F;if(S)for(w=[];S;S=S.F)w.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new ue(g,c);else if(g instanceof ue)g.target=g.target||c;else{var W=g;g=new ue(S,c),L(g,W)}if(W=!0,w)for(var Q=w.length-1;0<=Q;Q--){var ae=g.g=w[Q];W=Cr(ae,S,!0,g)&&W}if(ae=g.g=c,W=Cr(ae,S,!0,g)&&W,W=Cr(ae,S,!1,g)&&W,w)for(Q=0;Q<w.length;Q++)ae=g.g=w[Q],W=Cr(ae,S,!1,g)&&W}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var w=c.g[g],S=0;S<w.length;S++)Tt(w[S]);delete c.g[g],c.h--}}this.F=null},gt.prototype.K=function(c,g,w,S){return this.i.add(String(c),g,!1,w,S)},gt.prototype.L=function(c,g,w,S){return this.i.add(String(c),g,!0,w,S)};function Cr(c,g,w,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var W=!0,Q=0;Q<g.length;++Q){var ae=g[Q];if(ae&&!ae.da&&ae.capture==w){var Ke=ae.listener,vt=ae.ha||ae.src;ae.fa&&eo(c.i,ae),W=Ke.call(vt,S)!==!1&&W}}return W&&!S.defaultPrevented}function Ra(c,g,w){if(typeof c=="function")w&&(c=x(c,w));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function ri(c){c.g=Ra(()=>{c.g=null,c.i&&(c.i=!1,ri(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ns extends Y{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ri(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(c){Y.call(this),this.h=c,this.g={}}R(rs,Y);var Pa=[];function Aa(c){ne(c.g,function(g,w){this.g.hasOwnProperty(w)&&Ir(g)},c),c.g={}}rs.prototype.N=function(){rs.aa.N.call(this),Aa(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Na=h.JSON.stringify,Da=h.JSON.parse,Oa=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function is(){}is.prototype.h=null;function so(c){return c.h||(c.h=c.i())}function oo(){}var wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){ue.call(this,"d")}R(ir,ue);function ao(){ue.call(this,"c")}R(ao,ue);var sr={},La=null;function ss(){return La=La||new gt}sr.La="serverreachability";function ja(c){ue.call(this,sr.La,c)}R(ja,ue);function kr(c){const g=ss();yt(g,new ja(g))}sr.STAT_EVENT="statevent";function Ma(c,g){ue.call(this,sr.STAT_EVENT,c),this.stat=g}R(Ma,ue);function lt(c){const g=ss();yt(g,new Ma(g,c))}sr.Ma="timingevent";function lo(c,g){ue.call(this,sr.Ma,c),this.size=g}R(lo,ue);function Dn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function os(){this.g=!0}os.prototype.xa=function(){this.g=!1};function as(c,g,w,S,W,Q){c.info(function(){if(c.g)if(Q)for(var ae="",Ke=Q.split("&"),vt=0;vt<Ke.length;vt++){var $e=Ke[vt].split("=");if(1<$e.length){var xt=$e[0];$e=$e[1];var ht=xt.split("_");ae=2<=ht.length&&ht[1]=="type"?ae+(xt+"="+$e+"&"):ae+(xt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+S+") [attempt "+W+"]: "+g+`
`+w+`
`+ae})}function uo(c,g,w,S,W,Q,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+W+"]: "+g+`
`+w+`
`+Q+" "+ae})}function On(c,g,w,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+yh(c,w)+(S?" "+S:"")})}function Va(c,g){c.info(function(){return"TIMEOUT: "+g})}os.prototype.info=function(){};function yh(c,g){if(!c.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var S=w[c];if(!(2>S.length)){var W=S[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<W.length;ae++)W[ae]=""}}}}return Na(w)}catch{return g}}var co={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function ls(){}R(ls,is),ls.prototype.g=function(){return new XMLHttpRequest},ls.prototype.i=function(){return{}},Ln=new ls;function jn(c,g,w,S){this.j=c,this.i=g,this.l=w,this.R=S||1,this.U=new rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vu}function vu(){this.i=null,this.g="",this.h=!1}var Fa={},ho={};function fo(c,g,w){c.L=1,c.v=li(hn(g)),c.m=w,c.P=!0,Ua(c,null)}function Ua(c,g){c.F=Date.now(),Qe(c),c.A=hn(c.v);var w=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),ci(w.i,"t",S),c.C=0,w=c.j.J,c.h=new vu,c.g=ju(c.j,w?g:null,!c.m),0<c.O&&(c.M=new ns(x(c.Y,c,c.g),c.O)),g=c.U,w=c.g,S=c.ca;var W="readystatechange";Array.isArray(W)||(W&&(Pa[0]=W.toString()),W=Pa);for(var Q=0;Q<W.length;Q++){var ae=Sa(w,W[Q],S||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),kr(),as(c.i,c.u,c.A,c.l,c.R,c.m)}jn.prototype.ca=function(c){c=c.target;const g=this.M;g&&Zt(c)==3?g.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)e:{const ht=Zt(this.g);var g=this.g.Ba();const xn=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||qa(this.g)))){this.J||ht!=4||g==7||(g==8||0>=xn?kr(3):kr(2)),us(this);var w=this.g.Z();this.X=w;t:if(_u(this)){var S=qa(this.g);c="";var W=S.length,Q=Zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),ii(this);var ae="";break t}this.h.i=new h.TextDecoder}for(g=0;g<W;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(Q&&g==W-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=w==200,uo(this.i,this.u,this.A,this.l,this.R,ht,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,vt=this.g;if((Ke=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Ke)){var $e=Ke;break t}}$e=null}if(w=$e)On(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$a(this,w);else{this.o=!1,this.s=3,lt(12),En(this),ii(this);break e}}if(this.P){w=!0;let pn;for(;!this.J&&this.C<ae.length;)if(pn=vh(this,ae),pn==ho){ht==4&&(this.s=4,lt(14),w=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==Fa){this.s=4,lt(15),On(this.i,this.l,ae,"[Invalid Chunk]"),w=!1;break}else On(this.i,this.l,pn,null),$a(this,pn);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||ae.length!=0||this.h.h||(this.s=1,lt(16),w=!1),this.o=this.o&&w,!w)On(this.i,this.l,ae,"[Invalid Chunked Response]"),En(this),ii(this);else if(0<ae.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ga(xt),xt.M=!0,lt(11))}}else On(this.i,this.l,ae,null),$a(this,ae);ht==4&&En(this),this.o&&!this.J&&(ht==4?Io(this.j,this):(this.o=!1,Qe(this)))}else _o(this.g),w==400&&0<ae.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),En(this),ii(this)}}}catch{}finally{}};function _u(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vh(c,g){var w=c.C,S=g.indexOf(`
`,w);return S==-1?ho:(w=Number(g.substring(w,S)),isNaN(w)?Fa:(S+=1,S+w>g.length?ho:(g=g.slice(S,S+w),c.C=S+w,g)))}jn.prototype.cancel=function(){this.J=!0,En(this)};function Qe(c){c.S=Date.now()+c.I,wu(c,c.I)}function wu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Dn(x(c.ba,c),g)}function us(c){c.B&&(h.clearTimeout(c.B),c.B=null)}jn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Va(this.i,this.A),this.L!=2&&(kr(),lt(17)),En(this),this.s=2,ii(this)):wu(this,this.S-c)};function ii(c){c.j.G==0||c.J||Io(c.j,c)}function En(c){us(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Aa(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function $a(c,g){try{var w=c.j;if(w.G!=0&&(w.g==c||qt(w.h,c))){if(!c.K&&qt(w.h,c)&&w.G==3){try{var S=w.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var W=S;if(W[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)xo(w),$n(w);else break e;To(w),lt(18)}}else w.za=W[1],0<w.za-w.T&&37500>W[2]&&w.F&&w.v==0&&!w.C&&(w.C=Dn(x(w.Za,w),6e3));if(1>=Tu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Nr(w,11)}else if((c.K||w.g==c)&&xo(w),!F(g))for(W=w.Da.g.parse(g),g=0;g<W.length;g++){let $e=W[g];if(w.T=$e[0],$e=$e[1],w.G==2)if($e[0]=="c"){w.K=$e[1],w.ia=$e[2];const xt=$e[3];xt!=null&&(w.la=xt,w.j.info("VER="+w.la));const ht=$e[4];ht!=null&&(w.Aa=ht,w.j.info("SVER="+w.Aa));const xn=$e[5];xn!=null&&typeof xn=="number"&&0<xn&&(S=1.5*xn,w.L=S,w.j.info("backChannelRequestTimeoutMs_="+S)),S=w;const pn=c.g;if(pn){const gs=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gs){var Q=S.h;Q.g||gs.indexOf("spdy")==-1&&gs.indexOf("quic")==-1&&gs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(za(Q,Q.h),Q.h=null))}if(S.D){const Co=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(S.ya=Co,Ge(S.I,S.D,Co))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),S=w;var ae=c;if(S.qa=Lu(S,S.J?S.ia:null,S.W),ae.K){xu(S.h,ae);var Ke=ae,vt=S.L;vt&&(Ke.I=vt),Ke.B&&(us(Ke),Qe(Ke)),S.g=ae}else ms(S);0<w.i.length&&ur(w)}else $e[0]!="stop"&&$e[0]!="close"||Nr(w,7);else w.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Nr(w,7):Pt(w):$e[0]!="noop"&&w.l&&w.l.ta($e),w.v=0)}}kr(4)}catch{}}var Eu=class{constructor(c,g){this.g=c,this.map=g}};function cs(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tu(c){return c.h?1:c.g?c.g.size:0}function qt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function za(c,g){c.g?c.g.add(g):c.h=g}function xu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}cs.prototype.cancel=function(){if(this.i=Iu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Iu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const w of c.g.values())g=g.concat(w.D);return g}return M(c.i)}function po(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],w=c.length,S=0;S<w;S++)g.push(c[S]);return g}g=[],w=0;for(S in c)g[w++]=c[S];return g}function mo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var w=0;w<c;w++)g.push(w);return g}g=[],w=0;for(const S in c)g[w++]=S;return g}}}function si(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var w=mo(c),S=po(c),W=S.length,Q=0;Q<W;Q++)g.call(void 0,S[Q],w&&w[Q],c)}var ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _h(c,g){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var S=c[w].indexOf("="),W=null;if(0<=S){var Q=c[w].substring(0,S);W=c[w].substring(S+1)}else Q=c[w];g(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function br(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof br){this.h=c.h,hs(this,c.j),this.o=c.o,this.g=c.g,oi(this,c.s),this.l=c.l;var g=c.i,w=new or;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),ai(this,w),this.m=c.m}else c&&(g=String(c).match(ds))?(this.h=!1,hs(this,g[1]||"",!0),this.o=Fe(g[2]||""),this.g=Fe(g[3]||"",!0),oi(this,g[4]),this.l=Fe(g[5]||"",!0),ai(this,g[6]||"",!0),this.m=Fe(g[7]||"")):(this.h=!1,this.i=new or(null,this.h))}br.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ui(g,go,!0),":");var w=this.g;return(w||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ui(g,go,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(ui(w,w.charAt(0)=="/"?ku:Cu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",ui(w,Ba)),c.join("")};function hn(c){return new br(c)}function hs(c,g,w){c.j=w?Fe(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function oi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ai(c,g,w){g instanceof or?(c.i=g,ar(c.i,c.h)):(w||(g=ui(g,bu)),c.i=new or(g,c.h))}function Ge(c,g,w){c.i.set(g,w)}function li(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Fe(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ui(c,g,w){return typeof c=="string"?(c=encodeURI(c).replace(g,Su),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Su(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var go=/[#\/\?@]/g,Cu=/[#\?:]/g,ku=/[#\?]/g,bu=/[#\?@]/g,Ba=/#/g;function or(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Rt(c){c.g||(c.g=new Map,c.h=0,c.i&&_h(c.i,function(g,w){c.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}n=or.prototype,n.add=function(c,g){Rt(this),this.i=null,c=Tn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(g),this.h+=1,this};function Mn(c,g){Rt(c),g=Tn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Vn(c,g){return Rt(c),g=Tn(c,g),c.g.has(g)}n.forEach=function(c,g){Rt(this),this.g.forEach(function(w,S){w.forEach(function(W){c.call(g,W,S,this)},this)},this)},n.na=function(){Rt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let S=0;S<g.length;S++){const W=c[S];for(let Q=0;Q<W.length;Q++)w.push(g[S])}return w},n.V=function(c){Rt(this);let g=[];if(typeof c=="string")Vn(this,c)&&(g=g.concat(this.g.get(Tn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)g=g.concat(c[w])}return g},n.set=function(c,g){return Rt(this),this.i=null,c=Tn(this,c),Vn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ci(c,g,w){Mn(c,g),0<w.length&&(c.i=null,c.g.set(Tn(c,g),M(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var S=g[w];const Q=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var W=Q;ae[S]!==""&&(W+="="+encodeURIComponent(String(ae[S]))),c.push(W)}}return this.i=c.join("&")};function Tn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ar(c,g){g&&!c.j&&(Rt(c),c.i=null,c.g.forEach(function(w,S){var W=S.toLowerCase();S!=W&&(Mn(this,S),ci(this,W,w))},c)),c.j=g}function wh(c,g){const w=new os;if(h.Image){const S=new Image;S.onload=k(Jt,w,"TestLoadImage: loaded",!0,g,S),S.onerror=k(Jt,w,"TestLoadImage: error",!1,g,S),S.onabort=k(Jt,w,"TestLoadImage: abort",!1,g,S),S.ontimeout=k(Jt,w,"TestLoadImage: timeout",!1,g,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Ru(c,g){const w=new os,S=new AbortController,W=setTimeout(()=>{S.abort(),Jt(w,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(W),Q.ok?Jt(w,"TestPingServer: ok",!0,g):Jt(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(W),Jt(w,"TestPingServer: error",!1,g)})}function Jt(c,g,w,S,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),S(w)}catch{}}function Eh(){this.g=new Oa}function Pu(c,g,w){const S=w||"";try{si(c,function(W,Q){let ae=W;m(W)&&(ae=Na(W)),g.push(S+Q+"="+encodeURIComponent(ae))})}catch(W){throw g.push(S+"type="+encodeURIComponent("_badmap")),W}}function Rr(c){this.l=c.Ub||null,this.j=c.eb||!1}R(Rr,is),Rr.prototype.g=function(){return new fs(this.l,this.j)},Rr.prototype.i=function(c){return function(){return c}}({});function fs(c,g){gt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(fs,gt),n=fs.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Un(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Au(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Au(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Fn(this):Un(this),this.readyState==3&&Au(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Fn(this))},n.Qa=function(c){this.g&&(this.response=c,Fn(this))},n.ga=function(){this.g&&Fn(this)};function Fn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Un(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=g.next();return c.join(`\r
`)};function Un(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Pr(c){let g="";return ne(c,function(w,S){g+=S,g+=":",g+=w,g+=`\r
`}),g}function di(c,g,w){e:{for(S in w){var S=!1;break e}S=!0}S||(w=Pr(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):Ge(c,g,w))}function et(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(et,gt);var Th=/^https?$/i,Ha=["POST","PUT"];n=et.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,w,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?so(this.o):so(Ln),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){ps(this,Q);return}if(c=w||"",w=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var W in S)w.set(W,S[W]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())w.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(w.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ha,g,void 0))||S||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of w)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vo(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){ps(this,Q)}};function ps(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,yo(c),fn(c)}function yo(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yt(this,"complete"),yt(this,"abort"),fn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Wa(this):this.bb())},n.bb=function(){Wa(this)};function Wa(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Zt(c)!=4||c.Z()!=2)){if(c.u&&Zt(c)==4)Ra(c.Ea,0,c);else if(yt(c,"readystatechange"),Zt(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var S;if(S=ae===0){var W=String(c.D).match(ds)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),S=!Th.test(W?W.toLowerCase():"")}w=S}if(w)yt(c,"complete"),yt(c,"success");else{c.m=6;try{var Q=2<Zt(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",yo(c)}}finally{fn(c)}}}}function fn(c,g){if(c.g){vo(c);const w=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||yt(c,"ready");try{w.onreadystatechange=S}catch{}}}function vo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Zt(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Zt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Da(g)}};function qa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _o(c){const g={};c=(c.g&&2<=Zt(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(F(c[S]))continue;var w=j(c[S]);const W=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Q=g[W]||[];g[W]=Q,Q.push(w)}b(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(c,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||g}function Ka(c){this.Aa=0,this.i=[],this.j=new os,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lr("baseRetryDelayMs",5e3,c),this.cb=lr("retryDelaySeedMs",1e4,c),this.Wa=lr("forwardChannelMaxRetries",2,c),this.wa=lr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new cs(c&&c.concurrentRequestLimit),this.Da=new Eh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ka.prototype,n.la=8,n.G=1,n.connect=function(c,g,w,S){lt(0),this.W=c,this.H=g||{},w&&S!==void 0&&(this.H.OSID=w,this.H.OAID=S),this.F=this.X,this.I=Lu(this,null,this.W),ur(this)};function Pt(c){if(wo(c),c.G==3){var g=c.U++,w=hn(c.I);if(Ge(w,"SID",c.K),Ge(w,"RID",g),Ge(w,"TYPE","terminate"),Ar(c,w),g=new jn(c,c.j,g),g.L=2,g.v=li(hn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=g.v,w=!0),w||(g.g=ju(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Qe(g)}Ou(c)}function $n(c){c.g&&(Ga(c),c.g.cancel(),c.g=null)}function wo(c){$n(c),c.u&&(h.clearTimeout(c.u),c.u=null),xo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function ur(c){if(!dn(c.h)&&!c.s){c.s=!0;var g=c.Ga;ke||oe(),re||(ke(),re=!0),ce.add(g,c),c.B=0}}function xh(c,g){return Tu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Dn(x(c.Ga,c,g),Du(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const W=new jn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=C(Q),L(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var S=this.i[w];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=hi(this,W,g),w=hn(this.I),Ge(w,"RID",c),Ge(w,"CVER",22),this.D&&Ge(w,"X-HTTP-Session-Id",this.D),Ar(this,w),Q&&(this.O?g="headers="+encodeURIComponent(String(Pr(Q)))+"&"+g:this.m&&di(w,this.m,Q)),za(this.h,W),this.Ua&&Ge(w,"TYPE","init"),this.P?(Ge(w,"$req",g),Ge(w,"SID","null"),W.T=!0,fo(W,w,null)):fo(W,w,g),this.G=2}}else this.G==3&&(c?Eo(this,c):this.i.length==0||dn(this.h)||Eo(this))};function Eo(c,g){var w;g?w=g.l:w=c.U++;const S=hn(c.I);Ge(S,"SID",c.K),Ge(S,"RID",w),Ge(S,"AID",c.T),Ar(c,S),c.m&&c.o&&di(S,c.m,c.o),w=new jn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),g&&(c.i=g.D.concat(c.i)),g=hi(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),za(c.h,w),fo(w,S,g)}function Ar(c,g){c.H&&ne(c.H,function(w,S){Ge(g,S,w)}),c.l&&si({},function(w,S){Ge(g,S,w)})}function hi(c,g,w){w=Math.min(c.i.length,w);var S=c.l?x(c.l.Na,c.l,c):null;e:{var W=c.i;let Q=-1;for(;;){const ae=["count="+w];Q==-1?0<w?(Q=W[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Ke=!0;for(let vt=0;vt<w;vt++){let $e=W[vt].g;const xt=W[vt].map;if($e-=Q,0>$e)Q=Math.max(0,W[vt].g-100),Ke=!1;else try{Pu(xt,ae,"req"+$e+"_")}catch{S&&S(xt)}}if(Ke){S=ae.join("&");break e}}}return c=c.i.splice(0,w),g.D=c,S}function ms(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ke||oe(),re||(ke(),re=!0),ce.add(g,c),c.v=0}}function To(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Dn(x(c.Fa,c),Du(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Dn(x(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),$n(this),Nu(this))};function Ga(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Nu(c){c.g=new jn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=hn(c.qa);Ge(g,"RID","rpc"),Ge(g,"SID",c.K),Ge(g,"AID",c.T),Ge(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(g,"TO",c.ja),Ge(g,"TYPE","xmlhttp"),Ar(c,g),c.m&&c.o&&di(g,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=li(hn(g)),w.m=null,w.P=!0,Ua(w,c)}n.Za=function(){this.C!=null&&(this.C=null,$n(this),To(this),lt(19))};function xo(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Io(c,g){var w=null;if(c.g==g){xo(c),Ga(c),c.g=null;var S=2}else if(qt(c.h,g))w=g.D,xu(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var W=c.B;S=ss(),yt(S,new lo(S,w)),ur(c)}else ms(c);else if(W=g.s,W==3||W==0&&0<g.X||!(S==1&&xh(c,g)||S==2&&To(c)))switch(w&&0<w.length&&(g=c.h,g.i=g.i.concat(w)),W){case 1:Nr(c,5);break;case 4:Nr(c,10);break;case 3:Nr(c,6);break;default:Nr(c,2)}}}function Du(c,g){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*g}function Nr(c,g){if(c.j.info("Error code "+g),g==2){var w=x(c.fb,c),S=c.Xa;const W=!S;S=new br(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||hs(S,"https"),li(S),W?wh(S.toString(),w):Ru(S.toString(),w)}else lt(2);c.G=0,c.l&&c.l.sa(g),Ou(c),wo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Ou(c){if(c.G=0,c.ka=[],c.l){const g=Iu(c.h);(g.length!=0||c.i.length!=0)&&(A(c.ka,g),A(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Lu(c,g,w){var S=w instanceof br?hn(w):new br(w);if(S.g!="")g&&(S.g=g+"."+S.g),oi(S,S.s);else{var W=h.location;S=W.protocol,g=g?g+"."+W.hostname:W.hostname,W=+W.port;var Q=new br(null);S&&hs(Q,S),g&&(Q.g=g),W&&oi(Q,W),w&&(Q.l=w),S=Q}return w=c.D,g=c.ya,w&&g&&Ge(S,w,g),Ge(S,"VER",c.la),Ar(c,S),S}function ju(c,g,w){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new et(new Rr({eb:w})):new et(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qa(){}n=Qa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function So(){}So.prototype.g=function(c,g){return new Kt(c,g)};function Kt(c,g){gt.call(this),this.g=new Ka(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!F(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!F(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new cr(this)}R(Kt,gt),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){Pt(this.g)},Kt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Na(c),c=w);g.i.push(new Eu(g.Ya++,c)),g.G==3&&ur(g)},Kt.prototype.N=function(){this.g.l=null,delete this.j,Pt(this.g),delete this.g,Kt.aa.N.call(this)};function Mu(c){ir.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const w in g){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}R(Mu,ir);function Vu(){ao.call(this),this.status=1}R(Vu,ao);function cr(c){this.g=c}R(cr,Qa),cr.prototype.ua=function(){yt(this.g,"a")},cr.prototype.ta=function(c){yt(this.g,new Mu(c))},cr.prototype.sa=function(c){yt(this.g,new Vu)},cr.prototype.ra=function(){yt(this.g,"b")},So.prototype.createWebChannel=So.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,gw=function(){return new So},mw=function(){return ss()},pw=sr,Wp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},co.NO_ERROR=0,co.TIMEOUT=8,co.HTTP_ERROR=6,Hc=co,yu.COMPLETE="complete",fw=yu,oo.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",gt.prototype.listen=gt.prototype.K,kl=oo,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,hw=et}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const Nv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _a="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new Dm("@firebase/firestore");function Ko(){return Hs.logLevel}function fe(n,...e){if(Hs.logLevel<=Me.DEBUG){const t=e.map(jm);Hs.debug(`Firestore (${_a}): ${n}`,...t)}}function Jr(n,...e){if(Hs.logLevel<=Me.ERROR){const t=e.map(jm);Hs.error(`Firestore (${_a}): ${n}`,...t)}}function oa(n,...e){if(Hs.logLevel<=Me.WARN){const t=e.map(jm);Hs.warn(`Firestore (${_a}): ${n}`,...t)}}function jm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n="Unexpected state"){const e=`FIRESTORE (${_a}) INTERNAL ASSERTION FAILED: `+n;throw Jr(e),new Error(e)}function qe(n,e){n||Ce()}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bt.UNAUTHENTICATED))}shutdown(){}}class jR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class MR{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Fi,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Fi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new yw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Bt(e)}}class VR{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class FR{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new VR(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $R{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){qe(this.o===void 0);const r=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string"),this.R=t.token,new UR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=zR(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%e.length))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function aa(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new dt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new dt(0,0))}static max(){return new be(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ce(),r===void 0?r=e.length-t:r>e.length-t&&Ce(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Bl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=e.get(s),u=t.get(s);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ze extends Bl{construct(e,t,r){return new Ze(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Ze(t)}static emptyPath(){return new Ze([])}}const BR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends Bl{construct(e,t,r){return new Lt(e,t,r)}static isValidIdentifier(e){return BR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Lt(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new me(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new me(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new me(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(t)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Ze.fromString(e))}static fromName(e){return new _e(Ze.fromString(e).popFirst(5))}static empty(){return new _e(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Ze(e.slice()))}}function HR(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=be.fromTimestamp(r===1e9?new dt(t+1,0):new dt(t,r));return new Hi(s,_e.empty(),e)}function WR(n){return new Hi(n.readTime,n.key,-1)}class Hi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Hi(be.min(),_e.empty(),-1)}static max(){return new Hi(be.max(),_e.empty(),-1)}}function qR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==KR)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,r)=>{t(e)})}static reject(e){return new J((t,r)=>{r(e)})}static waitFor(e){return new J((t,r)=>{let s=0,a=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next(s=>s?J.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new J((r,s)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(v=>{u[m]=v,++h,h===a&&r(u)},v=>s(v))}})}static doWhile(e,t){return new J((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function QR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ea(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Zd.oe=-1;function eh(n){return n==null}function vd(n){return n===0&&1/n==-1/0}function YR(n){return typeof n=="number"&&Number.isInteger(n)&&!vd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Dv(e)),e=JR(n.get(t),e);return Dv(e)}function JR(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Dv(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _w(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Ot.RED,this.left=s??Ot.EMPTY,this.right=a??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Ot(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Ot.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,t,r,s,a){return this}insert(e,t,r){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lv(this.data.getIterator())}getIteratorFrom(e){return new Lv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class Lv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new Et(Lt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new ww("Invalid base64 string: "+a):a}}(e);return new jt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const ZR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(n){if(qe(!!n),typeof n=="string"){let e=0;const t=ZR.exec(n);if(qe(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qi(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function th(n){const e=n.mapValue.fields.__previous_value__;return Mm(e)?th(e):e}function Hl(n){const e=Wi(n.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,t,r,s,a,u,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}class Wl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ki(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mm(n)?4:nP(n)?9007199254740991:tP(n)?10:11:Ce()}function Er(n,e){if(n===e)return!0;const t=Ki(n);if(t!==Ki(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hl(n).isEqual(Hl(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Wi(s.timestampValue),h=Wi(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return qi(s.bytesValue).isEqual(qi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return ct(s.geoPointValue.latitude)===ct(a.geoPointValue.latitude)&&ct(s.geoPointValue.longitude)===ct(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ct(s.integerValue)===ct(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=ct(s.doubleValue),h=ct(a.doubleValue);return u===h?vd(u)===vd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return aa(n.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},h=a.mapValue.fields||{};if(Ov(u)!==Ov(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Er(u[f],h[f])))return!1;return!0}(n,e);default:return Ce()}}function ql(n,e){return(n.values||[]).find(t=>Er(t,e))!==void 0}function la(n,e){if(n===e)return 0;const t=Ki(n),r=Ki(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=ct(a.integerValue||a.doubleValue),f=ct(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return jv(n.timestampValue,e.timestampValue);case 4:return jv(Hl(n),Hl(e));case 5:return Ue(n.stringValue,e.stringValue);case 6:return function(a,u){const h=qi(a),f=qi(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const v=Ue(h[m],f[m]);if(v!==0)return v}return Ue(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=Ue(ct(a.latitude),ct(u.latitude));return h!==0?h:Ue(ct(a.longitude),ct(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Mv(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,m,v;const E=a.fields||{},x=u.fields||{},k=(h=E.value)===null||h===void 0?void 0:h.arrayValue,R=(f=x.value)===null||f===void 0?void 0:f.arrayValue,M=Ue(((m=k==null?void 0:k.values)===null||m===void 0?void 0:m.length)||0,((v=R==null?void 0:R.values)===null||v===void 0?void 0:v.length)||0);return M!==0?M:Mv(k,R)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Mc.mapValue&&u===Mc.mapValue)return 0;if(a===Mc.mapValue)return 1;if(u===Mc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let E=0;E<f.length&&E<v.length;++E){const x=Ue(f[E],v[E]);if(x!==0)return x;const k=la(h[f[E]],m[v[E]]);if(k!==0)return k}return Ue(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Ce()}}function jv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Wi(n),r=Wi(e),s=Ue(t.seconds,r.seconds);return s!==0?s:Ue(t.nanos,r.nanos)}function Mv(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=la(t[s],r[s]);if(a)return a}return Ue(t.length,r.length)}function ua(n){return qp(n)}function qp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Wi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return qi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=qp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${qp(t.fields[u])}`;return s+"}"}(n.mapValue):Ce()}function Wc(n){switch(Ki(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=th(n);return e?16+Wc(e):16;case 5:return 2*n.stringValue.length;case 6:return qi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Wc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Qs(r.fields,(a,u)=>{s+=a.length+Wc(u)}),s}(n.mapValue);default:throw Ce()}}function Vv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Kp(n){return!!n&&"integerValue"in n}function Vm(n){return!!n&&"arrayValue"in n}function Fv(n){return!!n&&"nullValue"in n}function Uv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qc(n){return!!n&&"mapValue"in n}function tP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Dl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Dl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function nP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dl(t)}setAll(e){let t=Lt.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=Dl(u):s.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());qc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];qc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Qs(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new An(Dl(this.value))}}function Ew(n){const e=[];return Qs(n.fields,(t,r)=>{const s=new Lt([t]);if(qc(r)){const a=Ew(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t,r,s,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Ht(e,0,be.min(),be.min(),be.min(),An.empty(),0)}static newFoundDocument(e,t,r,s){return new Ht(e,1,t,be.min(),r,s,0)}static newNoDocument(e,t){return new Ht(e,2,t,be.min(),be.min(),An.empty(),0)}static newUnknownDocument(e,t){return new Ht(e,3,t,be.min(),be.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t){this.position=e,this.inclusive=t}}function $v(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),t.key):r=la(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function zv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Er(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,t="asc"){this.field=e,this.dir=t}}function rP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{}class mt extends Tw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new sP(e,t,r):t==="array-contains"?new lP(e,r):t==="in"?new uP(e,r):t==="not-in"?new cP(e,r):t==="array-contains-any"?new dP(e,r):new mt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new oP(e,r):new aP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(la(t,this.value)):t!==null&&Ki(this.value)===Ki(t)&&this.matchesComparison(la(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends Tw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new er(e,t)}matches(e){return xw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xw(n){return n.op==="and"}function Iw(n){return iP(n)&&xw(n)}function iP(n){for(const e of n.filters)if(e instanceof er)return!1;return!0}function Gp(n){if(n instanceof mt)return n.field.canonicalString()+n.op.toString()+ua(n.value);if(Iw(n))return n.filters.map(e=>Gp(e)).join(",");{const e=n.filters.map(t=>Gp(t)).join(",");return`${n.op}(${e})`}}function Sw(n,e){return n instanceof mt?function(r,s){return s instanceof mt&&r.op===s.op&&r.field.isEqual(s.field)&&Er(r.value,s.value)}(n,e):n instanceof er?function(r,s){return s instanceof er&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,h)=>a&&Sw(u,s.filters[h]),!0):!1}(n,e):void Ce()}function Cw(n){return n instanceof mt?function(t){return`${t.field.canonicalString()} ${t.op} ${ua(t.value)}`}(n):n instanceof er?function(t){return t.op.toString()+" {"+t.getFilters().map(Cw).join(" ,")+"}"}(n):"Filter"}class sP extends mt{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class oP extends mt{constructor(e,t){super(e,"in",t),this.keys=kw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class aP extends mt{constructor(e,t){super(e,"not-in",t),this.keys=kw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class lP extends mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vm(t)&&ql(t.arrayValue,this.value)}}class uP extends mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ql(this.value.arrayValue,t)}}class cP extends mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ql(this.value.arrayValue,t)}}class dP extends mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ql(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t=null,r=[],s=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=h,this.ue=null}}function Bv(n,e=null,t=[],r=[],s=null,a=null,u=null){return new hP(n,e,t,r,s,a,u)}function Fm(n){const e=Ae(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Gp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),eh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ua(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ua(r)).join(",")),e.ue=t}return e.ue}function Um(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Sw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zv(n.startAt,e.startAt)&&zv(n.endAt,e.endAt)}function Qp(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,t=null,r=[],s=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function fP(n,e,t,r,s,a,u,h){return new Ta(n,e,t,r,s,a,u,h)}function $m(n){return new Ta(n)}function Hv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function bw(n){return n.collectionGroup!==null}function Ol(n){const e=Ae(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Et(Lt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Kl(a,r))}),t.has(Lt.keyField().canonicalString())||e.ce.push(new Kl(Lt.keyField(),r))}return e.ce}function gr(n){const e=Ae(n);return e.le||(e.le=pP(e,Ol(n))),e.le}function pP(n,e){if(n.limitType==="F")return Bv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Kl(s.field,a)});const t=n.endAt?new _d(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new _d(n.startAt.position,n.startAt.inclusive):null;return Bv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Yp(n,e){const t=n.filters.concat([e]);return new Ta(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Xp(n,e,t){return new Ta(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nh(n,e){return Um(gr(n),gr(e))&&n.limitType===e.limitType}function Rw(n){return`${Fm(gr(n))}|lt:${n.limitType}`}function Go(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>Cw(s)).join(", ")}]`),eh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>ua(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>ua(s)).join(",")),`Target(${r})`}(gr(n))}; limitType=${n.limitType})`}function rh(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):_e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Ol(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,f){const m=$v(u,h,f);return u.inclusive?m<=0:m<0}(r.startAt,Ol(r),s)||r.endAt&&!function(u,h,f){const m=$v(u,h,f);return u.inclusive?m>=0:m>0}(r.endAt,Ol(r),s))}(n,e)}function mP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Pw(n){return(e,t)=>{let r=!1;for(const s of Ol(n)){const a=gP(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function gP(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?la(f,m):Ce()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return _w(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new ot(_e.comparator);function Zr(){return yP}const Aw=new ot(_e.comparator);function bl(...n){let e=Aw;for(const t of n)e=e.insert(t.key,t);return e}function Nw(n){let e=Aw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ls(){return Ll()}function Dw(){return Ll()}function Ll(){return new Ys(n=>n.toString(),(n,e)=>n.isEqual(e))}const vP=new ot(_e.comparator),_P=new Et(_e.comparator);function Ve(...n){let e=_P;for(const t of n)e=e.add(t);return e}const wP=new Et(Ue);function EP(){return wP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function Ow(n){return{integerValue:""+n}}function TP(n,e){return YR(e)?Ow(e):zm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this._=void 0}}function xP(n,e,t){return n instanceof wd?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Mm(a)&&(a=th(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Gl?jw(n,e):n instanceof Ql?Mw(n,e):function(s,a){const u=Lw(s,a),h=Wv(u)+Wv(s.Pe);return Kp(u)&&Kp(s.Pe)?Ow(h):zm(s.serializer,h)}(n,e)}function IP(n,e,t){return n instanceof Gl?jw(n,e):n instanceof Ql?Mw(n,e):t}function Lw(n,e){return n instanceof Ed?function(r){return Kp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class wd extends ih{}class Gl extends ih{constructor(e){super(),this.elements=e}}function jw(n,e){const t=Vw(e);for(const r of n.elements)t.some(s=>Er(s,r))||t.push(r);return{arrayValue:{values:t}}}class Ql extends ih{constructor(e){super(),this.elements=e}}function Mw(n,e){let t=Vw(e);for(const r of n.elements)t=t.filter(s=>!Er(s,r));return{arrayValue:{values:t}}}class Ed extends ih{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Wv(n){return ct(n.integerValue||n.doubleValue)}function Vw(n){return Vm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function SP(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Gl&&s instanceof Gl||r instanceof Ql&&s instanceof Ql?aa(r.elements,s.elements,Er):r instanceof Ed&&s instanceof Ed?Er(r.Pe,s.Pe):r instanceof wd&&s instanceof wd}(n.transform,e.transform)}class CP{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sh{}function Fw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Bm(n.key,Jn.none()):new au(n.key,n.data,Jn.none());{const t=n.data,r=An.empty();let s=new Et(Lt.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new Xs(n.key,r,new Yn(s.toArray()),Jn.none())}}function kP(n,e,t){n instanceof au?function(s,a,u){const h=s.value.clone(),f=Kv(s.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Xs?function(s,a,u){if(!Kc(s.precondition,a))return void a.convertToUnknownDocument(u.version);const h=Kv(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(Uw(s)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function jl(n,e,t,r){return n instanceof au?function(a,u,h,f){if(!Kc(a.precondition,u))return h;const m=a.value.clone(),v=Gv(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Xs?function(a,u,h,f){if(!Kc(a.precondition,u))return h;const m=Gv(a.fieldTransforms,f,u),v=u.data;return v.setAll(Uw(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,r):function(a,u,h){return Kc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function bP(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=Lw(r.transform,s||null);a!=null&&(t===null&&(t=An.empty()),t.set(r.field,a))}return t||null}function qv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&aa(r,s,(a,u)=>SP(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class au extends sh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xs extends sh{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Uw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Kv(n,e,t){const r=new Map;qe(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,h=e.data.field(a.field);r.set(a.field,IP(u,h,t[s]))}return r}function Gv(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,xP(a,u,e))}return r}class Bm extends sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RP extends sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&kP(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=jl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=jl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Dw();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(s.key)?null:h;const f=Fw(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,(t,r)=>qv(t,r))&&aa(this.baseMutations,e.baseMutations,(t,r)=>qv(t,r))}}class Hm{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){qe(e.mutations.length===r.length);let s=function(){return vP}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Hm(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,ze;function DP(n){switch(n){default:return Ce();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function $w(n){if(n===void 0)return Jr("GRPC error has no .code"),Z.UNKNOWN;switch(n){case pt.OK:return Z.OK;case pt.CANCELLED:return Z.CANCELLED;case pt.UNKNOWN:return Z.UNKNOWN;case pt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case pt.INTERNAL:return Z.INTERNAL;case pt.UNAVAILABLE:return Z.UNAVAILABLE;case pt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case pt.NOT_FOUND:return Z.NOT_FOUND;case pt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case pt.ABORTED:return Z.ABORTED;case pt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case pt.DATA_LOSS:return Z.DATA_LOSS;default:return Ce()}}(ze=pt||(pt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new Vs([4294967295,4294967295],0);function Qv(n){const e=OP().encode(n),t=new dw;return t.update(e),new Uint8Array(t.digest())}function Yv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Vs([t,r],0),new Vs([s,a],0)]}class Wm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Rl(`Invalid padding: ${t}`);if(r<0)throw new Rl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Vs.fromNumber(this.Te)}Ee(e,t,r){let s=e.add(t.multiply(Vs.fromNumber(r)));return s.compare(LP)===1&&(s=new Vs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Qv(e),[r,s]=Yv(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,s,a);if(!this.de(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Wm(a,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Te===0)return;const t=Qv(e),[r,s]=Yv(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,s,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new oh(be.min(),s,new ot(Ue),Zr(),Ve())}}class lu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new lu(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class zw{constructor(e,t){this.targetId=e,this.me=t}}class Bw{constructor(e,t,r=jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Xv{constructor(){this.fe=0,this.ge=Jv(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),t=Ve(),r=Ve();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ce()}}),new lu(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Jv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class jP{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zr(),this.qe=Vc(),this.Qe=Vc(),this.Ke=new ot(Ue)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(Qp(a))if(r===0){const u=new _e(a.path);this.We(t,u,Ht.newNoDocument(u,be.min()))}else qe(r===1);else{const u=this.Ze(t);if(u!==r){const h=this.Xe(e),f=h?this.et(h,e,u):1;if(f!==0){this.He(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,h;try{u=qi(r).toUint8Array()}catch(f){if(f instanceof ww)return oa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Wm(u,s,a)}catch(f){return oa(f instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Te===0?null:h}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.Le.nt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Be.forEach((a,u)=>{const h=this.Ye(u);if(h){if(a.current&&Qp(h.target)){const f=new _e(h.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,Ht.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=Ve();this.Qe.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const m=this.Ye(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const s=new oh(e,t,this.Ke,this.ke,r);return this.ke=Zr(),this.qe=Vc(),this.Qe=Vc(),this.Ke=new ot(Ue),s}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Xv,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Et(Ue),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Et(Ue),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Xv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Vc(){return new ot(_e.comparator)}function Jv(){return new ot(_e.comparator)}const MP={asc:"ASCENDING",desc:"DESCENDING"},VP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FP={and:"AND",or:"OR"};class UP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Jp(n,e){return n.useProto3Json||eh(e)?e:{value:e}}function Td(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $P(n,e){return Td(n,e.toTimestamp())}function yr(n){return qe(!!n),be.fromTimestamp(function(t){const r=Wi(t);return new dt(r.seconds,r.nanos)}(n))}function qm(n,e){return Zp(n,e).canonicalString()}function Zp(n,e){const t=function(s){return new Ze(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Ww(n){const e=Ze.fromString(n);return qe(Yw(e)),e}function em(n,e){return qm(n.databaseId,e.path)}function dp(n,e){const t=Ww(e);if(t.get(1)!==n.databaseId.projectId)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(Kw(t))}function qw(n,e){return qm(n.databaseId,e)}function zP(n){const e=Ww(n);return e.length===4?Ze.emptyPath():Kw(e)}function tm(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Kw(n){return qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Zv(n,e,t){return{name:em(n,e),fields:t.value.mapValue.fields}}function BP(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(qe(v===void 0||typeof v=="string"),jt.fromBase64String(v||"")):(qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array),jt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const v=m.code===void 0?Z.UNKNOWN:$w(m.code);return new me(v,m.message||"")}(u);t=new Bw(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=dp(n,r.document.name),a=yr(r.document.updateTime),u=r.document.createTime?yr(r.document.createTime):be.min(),h=new An({mapValue:{fields:r.document.fields}}),f=Ht.newFoundDocument(s,a,u,h),m=r.targetIds||[],v=r.removedTargetIds||[];t=new Gc(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=dp(n,r.document),a=r.readTime?yr(r.readTime):be.min(),u=Ht.newNoDocument(s,a),h=r.removedTargetIds||[];t=new Gc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=dp(n,r.document),a=r.removedTargetIds||[];t=new Gc([],a,s,null)}else{if(!("filter"in e))return Ce();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new NP(s,a),h=r.targetId;t=new zw(h,u)}}return t}function HP(n,e){let t;if(e instanceof au)t={update:Zv(n,e.key,e.value)};else if(e instanceof Bm)t={delete:em(n,e.key)};else if(e instanceof Xs)t={update:Zv(n,e.key,e.data),updateMask:ZP(e.fieldMask)};else{if(!(e instanceof RP))return Ce();t={verify:em(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof wd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Gl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ql)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ed)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw Ce()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:$P(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce()}(n,e.precondition)),t}function WP(n,e){return n&&n.length>0?(qe(e!==void 0),n.map(t=>function(s,a){let u=s.updateTime?yr(s.updateTime):yr(a);return u.isEqual(be.min())&&(u=yr(a)),new CP(u,s.transformResults||[])}(t,e))):[]}function qP(n,e){return{documents:[qw(n,e.path)]}}function KP(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=qw(n,s);const a=function(m){if(m.length!==0)return Qw(er.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(x){return{field:Qo(x.field),direction:YP(x.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Jp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ct:t,parent:s}}function GP(n){let e=zP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){qe(r===1);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(E){const x=Gw(E);return x instanceof er&&Iw(x)?x.getFilters():[x]}(t.where));let u=[];t.orderBy&&(u=function(E){return E.map(x=>function(R){return new Kl(Yo(R.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(x))}(t.orderBy));let h=null;t.limit&&(h=function(E){let x;return x=typeof E=="object"?E.value:E,eh(x)?null:x}(t.limit));let f=null;t.startAt&&(f=function(E){const x=!!E.before,k=E.values||[];return new _d(k,x)}(t.startAt));let m=null;return t.endAt&&(m=function(E){const x=!E.before,k=E.values||[];return new _d(k,x)}(t.endAt)),fP(e,s,u,a,h,"F",f,m)}function QP(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Gw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Yo(t.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Yo(t.unaryFilter.field);return mt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Yo(t.unaryFilter.field);return mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Yo(t.unaryFilter.field);return mt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(n):n.fieldFilter!==void 0?function(t){return mt.create(Yo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return er.create(t.compositeFilter.filters.map(r=>Gw(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ce()}}(t.compositeFilter.op))}(n):Ce()}function YP(n){return MP[n]}function XP(n){return VP[n]}function JP(n){return FP[n]}function Qo(n){return{fieldPath:n.canonicalString()}}function Yo(n){return Lt.fromServerFormat(n.fieldPath)}function Qw(n){return n instanceof mt?function(t){if(t.op==="=="){if(Uv(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NAN"}};if(Fv(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Uv(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NAN"}};if(Fv(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(t.field),op:XP(t.op),value:t.value}}}(n):n instanceof er?function(t){const r=t.getFilters().map(s=>Qw(s));return r.length===1?r[0]:{compositeFilter:{op:JP(t.op),filters:r}}}(n):Ce()}function ZP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Yw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,t,r,s,a=be.min(),u=be.min(),h=jt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.ht=e}}function tA(n){const e=GP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(){this.ln=new rA}addToCollectionParentIndex(e,t){return this.ln.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Hi.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class rA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Et(Ze.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Et(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(41943040,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ca(0)}static Qn(){return new ca(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_([n,e],[t,r]){const s=Ue(n,t);return s===0?Ue(e,r):s}class iA{constructor(e){this.Gn=e,this.buffer=new Et(t_),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();t_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sA{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ea(t)?fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await wa(t)}await this.Yn(3e5)})}}class oA{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Zd.oe);const r=new iA(t);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(e_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e_):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,s,a,u,h,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,u=Date.now(),this.nthSequenceNumber(e,s))).next(E=>(r=E,h=Date.now(),this.removeTargets(e,r,t))).next(E=>(a=E,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(m=Date.now(),Ko()<=Me.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${E} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:E})))}}function aA(n,e){return new oA(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.changes=new Ys(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&jl(r.mutation,s,Yn.empty(),dt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const s=Ls();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=bl();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Ls();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let a=Zr();const u=Ll(),h=function(){return Ll()}();return t.forEach((f,m)=>{const v=r.get(m.key);s.has(m.key)&&(v===void 0||v.mutation instanceof Xs)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),jl(v.mutation,m,v.mutation.getFieldMask(),dt.now())):u.set(m.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var E;return h.set(m,new uA(v,(E=u.get(m))!==null&&E!==void 0?E:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Ll();let s=new ot((u,h)=>u-h),a=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let v=r.get(f)||Yn.empty();v=h.applyToLocalView(m,v),r.set(f,v);const E=(s.get(h.batchId)||Ve()).add(f);s=s.insert(h.batchId,E)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,v=f.value,E=Dw();v.forEach(x=>{if(!a.has(x)){const k=Fw(t.get(x),r.get(x));k!==null&&E.set(x,k),a=a.add(x)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,E))}return J.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):J.resolve(Ls());let h=-1,f=a;return u.next(m=>J.forEach(m,(v,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(v)?J.resolve():this.remoteDocumentCache.getEntry(e,v).next(x=>{f=f.insert(v,x)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,Ve())).next(v=>({batchId:h,changes:Nw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let s=bl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=bl();return this.indexManager.getCollectionParents(e,a).next(h=>J.forEach(h,f=>{const m=function(E,x){return new Ta(x,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next(v=>{v.forEach((E,x)=>{u=u.insert(E,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Ht.newInvalidDocument(v)))});let h=bl();return u.forEach((f,m)=>{const v=a.get(f);v!==void 0&&jl(v.mutation,m,Yn.empty(),dt.now()),rh(t,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return J.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:yr(s.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:tA(s.bundledQuery),readTime:yr(s.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.overlays=new ot(_e.comparator),this.Er=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ls();return J.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Tt(e,t,a)}),J.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Er.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const s=Ls(),a=t.length+1,u=new _e(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return J.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new ot((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=Ls(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=Ls(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>h.set(m,v)),!(h.size()>=s)););return J.resolve(h)}Tt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Er.get(s.largestBatchId).delete(r.key);this.Er.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new AP(t,r));let a=this.Er.get(t);a===void 0&&(a=Ve(),this.Er.set(t,a)),this.Er.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.dr=new Et(kt.Ar),this.Rr=new Et(kt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new kt(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new kt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new _e(new Ze([])),r=new kt(t,e),s=new kt(t,e+1),a=[];return this.Rr.forEachInRange([r,s],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new _e(new Ze([])),r=new kt(t,e),s=new kt(t,e+1);let a=Ve();return this.Rr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new kt(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return _e.comparator(e.key,t.key)||Ue(e.br,t.br)}static Vr(e,t){return Ue(e.br,t.br)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Et(kt.Ar)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new PP(a,t,r,s);this.mutationQueue.push(u);for(const h of s)this.vr=this.vr.add(new kt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return J.resolve(u)}lookupMutationBatch(e,t){return J.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Fr(r),a=s<0?0:s;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new kt(t,0),s=new kt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,s],u=>{const h=this.Cr(u.br);a.push(h)}),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Et(Ue);return t.forEach(s=>{const a=new kt(s,0),u=new kt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],h=>{r=r.add(h.br)})}),J.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;_e.isDocumentKey(a)||(a=a.child(""));const u=new kt(new _e(a),0);let h=new Et(Ue);return this.vr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(h=h.add(f.br)),!0)},u),J.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){qe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return J.forEach(t.mutations,s=>{const a=new kt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new kt(t,0),s=this.vr.firstAfterOrEqual(r);return J.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.Nr=e,this.docs=function(){return new ot(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(t))}getEntries(e,t){let r=Zr();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Ht.newInvalidDocument(s))}),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Zr();const u=t.path,h=new _e(u.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||qR(WR(v),r)<=0||(s.has(v.key)||rh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Ce()}Lr(e,t){return J.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new gA(this)}getSize(e){return J.resolve(this.size)}}class gA extends lA{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),J.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.persistence=e,this.Br=new Ys(t=>Fm(t),Um),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.kr=0,this.qr=new Km,this.targetCount=0,this.Qr=ca.qn()}forEachTarget(e,t){return this.Br.forEach((r,s)=>t(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),J.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ca(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Un(t),J.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Br.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),J.waitFor(a).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),J.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Zd(0),this.Ur=!1,this.Ur=!0,this.Wr=new fA,this.referenceDelegate=e(this),this.Gr=new yA(this),this.indexManager=new nA,this.remoteDocumentCache=function(s){return new mA(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new eA(t),this.jr=new dA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new pA(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){fe("MemoryPersistence","Starting transaction:",e);const s=new vA(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return J.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class vA extends GR{constructor(e){super(),this.currentSequenceNumber=e}}class Gm{constructor(e){this.persistence=e,this.Zr=new Km,this.Xr=null}static ei(e){return new Gm(e)}get ti(){if(this.Xr)return this.Xr;throw Ce()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),J.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ti,r=>{const s=_e.fromPath(r);return this.ni(e,s).next(a=>{a||t.removeEntry(s,be.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return J.or([()=>J.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class xd{constructor(e,t){this.persistence=e,this.ri=new Ys(r=>XR(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=aA(this,t)}static ei(e,t){return new xd(e,t)}Hr(){}Jr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return J.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(a=>a?J.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Lr(e,u=>this.ir(e,u,t).next(h=>{h||(r++,a.removeEntry(u,be.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),J.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wc(e.data.value)),t}ir(e,t,r){return J.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return J.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=s}static zi(e,t){let r=Ve(),s=Ve();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Qm(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return vb()?8:QR(Wt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new _A;return this.ts(e,t,u).next(h=>{if(a.result=h,this.Hi)return this.ns(e,t,u,h.size)})}).next(()=>a.result)}ns(e,t,r,s){return r.documentReadCount<this.Ji?(Ko()<=Me.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Go(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),J.resolve()):(Ko()<=Me.DEBUG&&fe("QueryEngine","Query:",Go(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(Ko()<=Me.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Go(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(t))):J.resolve())}Xi(e,t){if(Hv(t))return J.resolve(null);let r=gr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Xp(t,null,"F"),r=gr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Ve(...a);return this.Zi.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.rs(t,h);return this.ss(t,m,u,f.readTime)?this.Xi(e,Xp(t,null,"F")):this.os(e,m,t,f)}))})))}es(e,t,r,s){return Hv(t)||s.isEqual(be.min())?J.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,s)?J.resolve(null):(Ko()<=Me.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Go(t)),this.os(e,u,t,HR(s,-1)).next(h=>h))})}rs(e,t){let r=new Et(Pw(e));return t.forEach((s,a)=>{rh(e,a)&&(r=r.add(a))}),r}ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,r){return Ko()<=Me.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Go(t)),this.Zi.getDocumentsMatchingQuery(e,t,Hi.min(),r)}os(e,t,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,t,r,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new ot(Ue),this.cs=new Ys(a=>Fm(a),Um),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cA(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function TA(n,e,t,r){return new EA(n,e,t,r)}async function Jw(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let f=Ve();for(const m of s){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){h.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Ts:m,removedBatchIds:u,addedBatchIds:h}))})})}function xA(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,f,m,v){const E=m.batch,x=E.keys();let k=J.resolve();return x.forEach(R=>{k=k.next(()=>v.getEntry(f,R)).next(M=>{const A=m.docVersions.get(R);qe(A!==null),M.version.compareTo(A)<0&&(E.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),v.addEntry(M)))})}),k.next(()=>h.mutationQueue.removeMutationBatch(f,E))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Ve();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function Zw(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function IA(n,e){const t=Ae(n),r=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const h=[];e.targetChanges.forEach((v,E)=>{const x=s.get(E);if(!x)return;h.push(t.Gr.removeMatchingKeys(a,v.removedDocuments,E).next(()=>t.Gr.addMatchingKeys(a,v.addedDocuments,E)));let k=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?k=k.withResumeToken(jt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):v.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(v.resumeToken,r)),s=s.insert(E,k),function(M,A,$){return M.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(x,k,v)&&h.push(t.Gr.updateTargetData(a,k))});let f=Zr(),m=Ve();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),h.push(SA(a,u,e.documentUpdates).next(v=>{f=v.Is,m=v.Es})),!r.isEqual(be.min())){const v=t.Gr.getLastRemoteSnapshotVersion(a).next(E=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(v)}return J.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.us=s,a))}function SA(n,e,t){let r=Ve(),s=Ve();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Zr();return t.forEach((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(be.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):fe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{Is:u,Es:s}})}function CA(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kA(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Gr.getTargetData(r,e).next(a=>a?(s=a,J.resolve(s)):t.Gr.allocateTargetId(r).next(u=>(s=new Li(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function nm(n,e,t){const r=Ae(n),s=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Ea(u))throw u;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function n_(n,e,t){const r=Ae(n);let s=be.min(),a=Ve();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,v){const E=Ae(f),x=E.cs.get(v);return x!==void 0?J.resolve(E.us.get(x)):E.Gr.getTargetData(m,v)}(r,u,gr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?s:be.min(),t?a:Ve())).next(h=>(bA(r,mP(e),h),{documents:h,ds:a})))}function bA(n,e,t){let r=n.ls.get(e)||be.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class r_{constructor(){this.activeTargetIds=EP()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RA{constructor(){this._o=new r_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new r_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function hp(){return Fc===null?Fc=function(){return 268435456+Math.round(2147483648*Math.random())}():Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class DA extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,r,s,a,u){const h=hp(),f=this.No(t,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${t}' ${h}:`,f,s);const m={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(m,a,u),this.Bo(t,f,m,s).then(v=>(fe("RestConnection",`Received RPC '${t}' ${h}: `,v),v),v=>{throw oa("RestConnection",`RPC '${t}' ${h} failed with error: `,v,"url: ",f,"request:",s),v})}ko(t,r,s,a,u,h){return this.Oo(t,r,s,a,u)}Lo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_a}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),s&&s.headers.forEach((a,u)=>t[u]=a)}No(t,r){const s=AA[t];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,s){const a=hp();return new Promise((u,h)=>{const f=new hw;f.setWithCredentials(!0),f.listenOnce(fw.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Hc.NO_ERROR:const v=f.getResponseJson();fe(zt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case Hc.TIMEOUT:fe(zt,`RPC '${e}' ${a} timed out`),h(new me(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const E=f.getStatus();if(fe(zt,`RPC '${e}' ${a} failed with status:`,E,"response text:",f.getResponseText()),E>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const k=x==null?void 0:x.error;if(k&&k.status&&k.message){const R=function(A){const $=A.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf($)>=0?$:Z.UNKNOWN}(k.status);h(new me(R,k.message))}else h(new me(Z.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new me(Z.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{fe(zt,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(s);fe(zt,`RPC '${e}' ${a} sending request:`,s),f.send(t,"POST",m,r,15)})}qo(e,t,r){const s=hp(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=gw(),h=mw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");fe(zt,`Creating RPC '${e}' stream ${s}: ${v}`,f);const E=u.createWebChannel(v,f);let x=!1,k=!1;const R=new NA({Eo:A=>{k?fe(zt,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(x||(fe(zt,`Opening RPC '${e}' stream ${s} transport.`),E.open(),x=!0),fe(zt,`RPC '${e}' stream ${s} sending:`,A),E.send(A))},Ao:()=>E.close()}),M=(A,$,F)=>{A.listen($,O=>{try{F(O)}catch(H){setTimeout(()=>{throw H},0)}})};return M(E,kl.EventType.OPEN,()=>{k||(fe(zt,`RPC '${e}' stream ${s} transport opened.`),R.So())}),M(E,kl.EventType.CLOSE,()=>{k||(k=!0,fe(zt,`RPC '${e}' stream ${s} transport closed`),R.Do())}),M(E,kl.EventType.ERROR,A=>{k||(k=!0,oa(zt,`RPC '${e}' stream ${s} transport errored:`,A),R.Do(new me(Z.UNAVAILABLE,"The operation could not be completed")))}),M(E,kl.EventType.MESSAGE,A=>{var $;if(!k){const F=A.data[0];qe(!!F);const O=F,H=(O==null?void 0:O.error)||(($=O[0])===null||$===void 0?void 0:$.error);if(H){fe(zt,`RPC '${e}' stream ${s} received error:`,H);const X=H.status;let ne=function(P){const L=pt[P];if(L!==void 0)return $w(L)}(X),b=H.message;ne===void 0&&(ne=Z.INTERNAL,b="Unknown error status: "+X+" with message "+H.message),k=!0,R.Do(new me(ne,b)),E.close()}else fe(zt,`RPC '${e}' stream ${s} received:`,F),R.vo(F)}}),M(h,pw.STAT_EVENT,A=>{A.stat===Wp.PROXY?fe(zt,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===Wp.NOPROXY&&fe(zt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.bo()},0),R}}function fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(n){return new UP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,t,r=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-r);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,t,r,s,a,u,h,f){this.li=e,this.Yo=r,this.Zo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new eE(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(Jr(t.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===t&&this.I_(r,s)},r=>{e(()=>{const s=new me(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(s)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.E_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OA extends tE{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=BP(this.serializer,e),r=function(a){if(!("targetChange"in a))return be.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?be.min():u.readTime?yr(u.readTime):be.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=tm(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=Qp(f)?{documents:qP(a,f)}:{query:KP(a,f).ct},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Hw(a,u.resumeToken);const m=Jp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(be.min())>0){h.readTime=Td(a,u.snapshotVersion.toTimestamp());const m=Jp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const r=QP(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=tm(this.serializer),t.removeTarget=e,this.c_(t)}}class LA extends tE{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=WP(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=tm(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>HP(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,Zp(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(Z.UNKNOWN,a.toString())})}ko(e,t,r,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.ko(e,Zp(t,r),s,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(Z.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class MA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Jr(t),this.C_=!1):fe("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{Js(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(f){const m=Ae(f);m.k_.add(4),await uu(m),m.K_.set("Unknown"),m.k_.delete(4),await lh(m)}(this))})}),this.K_=new MA(r,s)}}async function lh(n){if(Js(n))for(const e of n.q_)await e(!0)}async function uu(n){for(const e of n.q_)await e(!1)}function nE(n,e){const t=Ae(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Zm(t)?Jm(t):xa(t).s_()&&Xm(t,e))}function Ym(n,e){const t=Ae(n),r=xa(t);t.B_.delete(e),r.s_()&&rE(t,e),t.B_.size===0&&(r.s_()?r.a_():Js(t)&&t.K_.set("Unknown"))}function Xm(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xa(n).V_(e)}function rE(n,e){n.U_.xe(e),xa(n).m_(e)}function Jm(n){n.U_=new jP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),xa(n).start(),n.K_.F_()}function Zm(n){return Js(n)&&!xa(n).i_()&&n.B_.size>0}function Js(n){return Ae(n).k_.size===0}function iE(n){n.U_=void 0}async function FA(n){n.K_.set("Online")}async function UA(n){n.B_.forEach((e,t)=>{Xm(n,e)})}async function $A(n,e){iE(n),Zm(n)?(n.K_.O_(e),Jm(n)):n.K_.set("Unknown")}async function zA(n,e,t){if(n.K_.set("Online"),e instanceof Bw&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const h of a.targetIds)s.B_.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.B_.delete(h),s.U_.removeTarget(h))}(n,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Id(n,r)}else if(e instanceof Gc?n.U_.$e(e):e instanceof zw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(be.min()))try{const r=await Zw(n.localStore);t.compareTo(r)>=0&&await function(a,u){const h=a.U_.it(u);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.B_.get(m);v&&a.B_.set(m,v.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,m)=>{const v=a.B_.get(f);if(!v)return;a.B_.set(f,v.withResumeToken(jt.EMPTY_BYTE_STRING,v.snapshotVersion)),rE(a,f);const E=new Li(v.target,f,m,v.sequenceNumber);Xm(a,E)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await Id(n,r)}}async function Id(n,e,t){if(!Ea(e))throw e;n.k_.add(1),await uu(n),n.K_.set("Offline"),t||(t=()=>Zw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await lh(n)})}function sE(n,e){return e().catch(t=>Id(n,t,e))}async function uh(n){const e=Ae(n),t=Gi(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;BA(e);)try{const s=await CA(e.localStore,r);if(s===null){e.L_.length===0&&t.a_();break}r=s.batchId,HA(e,s)}catch(s){await Id(e,s)}oE(e)&&aE(e)}function BA(n){return Js(n)&&n.L_.length<10}function HA(n,e){n.L_.push(e);const t=Gi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function oE(n){return Js(n)&&!Gi(n).i_()&&n.L_.length>0}function aE(n){Gi(n).start()}async function WA(n){Gi(n).w_()}async function qA(n){const e=Gi(n);for(const t of n.L_)e.g_(t.mutations)}async function KA(n,e,t){const r=n.L_.shift(),s=Hm.from(r,e,t);await sE(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await uh(n)}async function GA(n,e){e&&Gi(n).f_&&await async function(r,s){if(function(u){return DP(u)&&u!==Z.ABORTED}(s.code)){const a=r.L_.shift();Gi(r).__(),await sE(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await uh(r)}}(n,e),oE(n)&&aE(n)}async function s_(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=Js(t);t.k_.add(3),await uu(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await lh(t)}async function QA(n,e){const t=Ae(n);e?(t.k_.delete(2),await lh(t)):e||(t.k_.add(2),await uu(t),t.K_.set("Unknown"))}function xa(n){return n.W_||(n.W_=function(t,r,s){const a=Ae(t);return a.b_(),new OA(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:FA.bind(null,n),mo:UA.bind(null,n),po:$A.bind(null,n),R_:zA.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Zm(n)?Jm(n):n.K_.set("Unknown")):(await n.W_.stop(),iE(n))})),n.W_}function Gi(n){return n.G_||(n.G_=function(t,r,s){const a=Ae(t);return a.b_(),new LA(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:WA.bind(null,n),po:GA.bind(null,n),p_:qA.bind(null,n),y_:KA.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await uh(n)):(await n.G_.stop(),n.L_.length>0&&(fe("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,h=new eg(e,t,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(n,e){if(Jr("AsyncQueue",`${e}: ${n}`),Ea(n))return new me(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{static emptySet(e){return new ea(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=bl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ea)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ea;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.z_=new ot(_e.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ce():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class da{constructor(e,t,r,s,a,u,h,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new da(e,t,ea.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class XA{constructor(){this.queries=a_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const s=Ae(t),a=s.queries;s.queries=a_(),a.forEach((u,h)=>{for(const f of h.J_)f.onError(r)})})(this,new me(Z.ABORTED,"Firestore shutting down"))}}function a_(){return new Ys(n=>Rw(n),nh)}async function lE(n,e){const t=Ae(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(r=2):(a=new YA,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=tg(u,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&ng(t)}async function uE(n,e){const t=Ae(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function JA(n,e){const t=Ae(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const h of u.J_)h.ta(s)&&(r=!0);u.H_=s}}r&&ng(t)}function ZA(n,e,t){const r=Ae(n),s=r.queries.get(e);if(s)for(const a of s.J_)a.onError(t);r.queries.delete(e)}function ng(n){n.X_.forEach(e=>{e.next()})}var rm,l_;(l_=rm||(rm={})).na="default",l_.Cache="cache";class cE{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new da(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e){this.key=e}}class hE{constructor(e){this.key=e}}class eN{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ve(),this.mutatedKeys=Ve(),this.Va=Pw(e),this.ma=new ea(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new o_,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,E)=>{const x=s.get(v),k=rh(this.query,E)?E:null,R=!!x&&this.mutatedKeys.has(x.key),M=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let A=!1;x&&k?x.data.isEqual(k.data)?R!==M&&(r.track({type:3,doc:k}),A=!0):this.ya(x,k)||(r.track({type:2,doc:k}),A=!0,(f&&this.Va(k,f)>0||m&&this.Va(k,m)<0)&&(h=!0)):!x&&k?(r.track({type:0,doc:k}),A=!0):x&&!k&&(r.track({type:1,doc:x}),A=!0,(f||m)&&(h=!0)),A&&(k?(u=u.add(k),a=M?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{ma:u,pa:r,ss:h,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((v,E)=>function(k,R){const M=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return M(k)-M(R)}(v.type,E.type)||this.Va(v.doc,E.doc)),this.wa(r),s=s!=null&&s;const h=t&&!s?this.Sa():[],f=this.Ra.size===0&&this.current&&!s?1:0,m=f!==this.Aa;return this.Aa=f,u.length!==0||m?{snapshot:new da(this.query,e.ma,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new o_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ve(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new hE(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new dE(r))}),t}va(e){this.da=e.ds,this.Ra=Ve();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return da.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class tN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class nN{constructor(e){this.key=e,this.Fa=!1}}class rN{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new Ys(h=>Rw(h),nh),this.Oa=new Map,this.Na=new Set,this.La=new ot(_e.comparator),this.Ba=new Map,this.ka=new Km,this.qa={},this.Qa=new Map,this.Ka=ca.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function iN(n,e,t=!0){const r=vE(n);let s;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await fE(r,e,t,!0),s}async function sN(n,e){const t=vE(n);await fE(t,e,!0,!1)}async function fE(n,e,t,r){const s=await kA(n.localStore,gr(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await oN(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&nE(n.remoteStore,s),h}async function oN(n,e,t,r,s){n.Ua=(E,x,k)=>async function(M,A,$,F){let O=A.view.ga($);O.ss&&(O=await n_(M.localStore,A.query,!1).then(({documents:b})=>A.view.ga(b,O)));const H=F&&F.targetChanges.get(A.targetId),X=F&&F.targetMismatches.get(A.targetId)!=null,ne=A.view.applyChanges(O,M.isPrimaryClient,H,X);return c_(M,A.targetId,ne.ba),ne.snapshot}(n,E,x,k);const a=await n_(n.localStore,e,!0),u=new eN(e,a.ds),h=u.ga(a.documents),f=lu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),m=u.applyChanges(h,n.isPrimaryClient,f);c_(n,t,m.ba);const v=new tN(e,t,u);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),m.snapshot}async function aN(n,e,t){const r=Ae(n),s=r.xa.get(e),a=r.Oa.get(s.targetId);if(a.length>1)return r.Oa.set(s.targetId,a.filter(u=>!nh(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await nm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Ym(r.remoteStore,s.targetId),im(r,s.targetId)}).catch(wa)):(im(r,s.targetId),await nm(r.localStore,s.targetId,!0))}async function lN(n,e){const t=Ae(n),r=t.xa.get(e),s=t.Oa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ym(t.remoteStore,r.targetId))}async function uN(n,e,t){const r=gN(n);try{const s=await function(u,h){const f=Ae(u),m=dt.now(),v=h.reduce((k,R)=>k.add(R.key),Ve());let E,x;return f.persistence.runTransaction("Locally write mutations","readwrite",k=>{let R=Zr(),M=Ve();return f.hs.getEntries(k,v).next(A=>{R=A,R.forEach(($,F)=>{F.isValidDocument()||(M=M.add($))})}).next(()=>f.localDocuments.getOverlayedDocuments(k,R)).next(A=>{E=A;const $=[];for(const F of h){const O=bP(F,E.get(F.key).overlayedDocument);O!=null&&$.push(new Xs(F.key,O,Ew(O.value.mapValue),Jn.exists(!0)))}return f.mutationQueue.addMutationBatch(k,m,$,h)}).next(A=>{x=A;const $=A.applyToLocalDocumentSet(E,M);return f.documentOverlayCache.saveOverlays(k,A.batchId,$)})}).then(()=>({batchId:x.batchId,changes:Nw(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let m=u.qa[u.currentUser.toKey()];m||(m=new ot(Ue)),m=m.insert(h,f),u.qa[u.currentUser.toKey()]=m}(r,s.batchId,t),await cu(r,s.changes),await uh(r.remoteStore)}catch(s){const a=tg(s,"Failed to persist write");t.reject(a)}}async function pE(n,e){const t=Ae(n);try{const r=await IA(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.Ba.get(a);u&&(qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Fa=!0:s.modifiedDocuments.size>0?qe(u.Fa):s.removedDocuments.size>0&&(qe(u.Fa),u.Fa=!1))}),await cu(t,r,e)}catch(r){await wa(r)}}function u_(n,e,t){const r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.xa.forEach((a,u)=>{const h=u.view.ea(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=Ae(u);f.onlineState=h;let m=!1;f.queries.forEach((v,E)=>{for(const x of E.J_)x.ea(h)&&(m=!0)}),m&&ng(f)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cN(n,e,t){const r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ba.get(e),a=s&&s.key;if(a){let u=new ot(_e.comparator);u=u.insert(a,Ht.newNoDocument(a,be.min()));const h=Ve().add(a),f=new oh(be.min(),new Map,new ot(Ue),u,h);await pE(r,f),r.La=r.La.remove(a),r.Ba.delete(e),rg(r)}else await nm(r.localStore,e,!1).then(()=>im(r,e,t)).catch(wa)}async function dN(n,e){const t=Ae(n),r=e.batch.batchId;try{const s=await xA(t.localStore,e);gE(t,r,null),mE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await cu(t,s)}catch(s){await wa(s)}}async function hN(n,e,t){const r=Ae(n);try{const s=await function(u,h){const f=Ae(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,h).next(E=>(qe(E!==null),v=E.keys(),f.mutationQueue.removeMutationBatch(m,E))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);gE(r,e,t),mE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await cu(r,s)}catch(s){await wa(s)}}function mE(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function gE(n,e,t){const r=Ae(n);let s=r.qa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function im(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||yE(n,r)})}function yE(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Ym(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),rg(n))}function c_(n,e,t){for(const r of t)r instanceof dE?(n.ka.addReference(r.key,e),fN(n,r)):r instanceof hE?(fe("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||yE(n,r.key)):Ce()}function fN(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(fe("SyncEngine","New document in limbo: "+t),n.Na.add(r),rg(n))}function rg(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new _e(Ze.fromString(e)),r=n.Ka.next();n.Ba.set(r,new nN(t)),n.La=n.La.insert(t,r),nE(n.remoteStore,new Li(gr($m(t.path)),r,"TargetPurposeLimboResolution",Zd.oe))}}async function cu(n,e,t){const r=Ae(n),s=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((h,f)=>{u.push(r.Ua(f,e,t).then(m=>{var v;if((m||t)&&r.isPrimaryClient){const E=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(f.targetId,E?"current":"not-current")}if(m){s.push(m);const E=Qm.zi(f.targetId,m);a.push(E)}}))}),await Promise.all(u),r.Ma.R_(s),await async function(f,m){const v=Ae(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>J.forEach(m,x=>J.forEach(x.Wi,k=>v.persistence.referenceDelegate.addReference(E,x.targetId,k)).next(()=>J.forEach(x.Gi,k=>v.persistence.referenceDelegate.removeReference(E,x.targetId,k)))))}catch(E){if(!Ea(E))throw E;fe("LocalStore","Failed to update sequence numbers: "+E)}for(const E of m){const x=E.targetId;if(!E.fromCache){const k=v.us.get(x),R=k.snapshotVersion,M=k.withLastLimboFreeSnapshotVersion(R);v.us=v.us.insert(x,M)}}}(r.localStore,a))}async function pN(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await Jw(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(h=>{h.forEach(f=>{f.reject(new me(Z.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cu(t,r.Ts)}}function mN(n,e){const t=Ae(n),r=t.Ba.get(e);if(r&&r.Fa)return Ve().add(r.key);{let s=Ve();const a=t.Oa.get(e);if(!a)return s;for(const u of a){const h=t.xa.get(u);s=s.unionWith(h.view.fa)}return s}}function vE(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=pE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cN.bind(null,e),e.Ma.R_=JA.bind(null,e.eventManager),e.Ma.Wa=ZA.bind(null,e.eventManager),e}function gN(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hN.bind(null,e),e}class Sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ah(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return TA(this.persistence,new wA,e.initialUser,this.serializer)}ja(e){return new Xw(Gm.ei,this.serializer)}za(e){return new RA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sd.provider={build:()=>new Sd};class yN extends Sd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){qe(this.persistence.referenceDelegate instanceof xd);const r=this.persistence.referenceDelegate.garbageCollector;return new sA(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new Xw(r=>xd.ei(r,t),this.serializer)}}class sm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>u_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pN.bind(null,this.syncEngine),await QA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XA}()}createDatastore(e){const t=ah(e.databaseInfo.databaseId),r=function(a){return new DA(a)}(e.databaseInfo);return function(a,u,h,f){return new jA(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,h){return new VA(r,s,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>u_(this.syncEngine,t,0),function(){return i_.p()?new i_:new PA}())}createSyncEngine(e,t){return function(s,a,u,h,f,m,v){const E=new rN(s,a,u,h,f,m);return v&&(E.$a=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Ae(s);fe("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await uu(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}sm.provider={build:()=>new sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Bt.UNAUTHENTICATED,this.clientId=vw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{fe("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(fe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=tg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pp(n,e){n.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Jw(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function d_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await _N(n);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>s_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>s_(e.remoteStore,s)),n._onlineComponents=e}async function _N(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await pp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;oa("Error using user provided cache. Falling back to memory cache: "+t),await pp(n,new Sd)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await pp(n,new yN(void 0));return n._offlineComponents}async function wE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await d_(n,n._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await d_(n,new sm))),n._onlineComponents}function wN(n){return wE(n).then(e=>e.syncEngine)}async function om(n){const e=await wE(n),t=e.eventManager;return t.onListen=iN.bind(null,e.syncEngine),t.onUnlisten=aN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lN.bind(null,e.syncEngine),t}function EN(n,e,t={}){const r=new Fi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,m){const v=new _E({next:x=>{v.eu(),u.enqueueAndForget(()=>uE(a,E)),x.fromCache&&f.source==="server"?m.reject(new me(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),E=new cE(h,v,{includeMetadataChanges:!0,ua:!0});return lE(a,E)}(await om(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(n,e,t){if(!t)throw new me(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TN(n,e,t,r){if(e===!0&&r===!0)throw new me(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function f_(n){if(!_e.isDocumentKey(n))throw new me(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function p_(n){if(_e.isDocumentKey(n))throw new me(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ch(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce()}function vr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ch(n);throw new me(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dh{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LR;switch(r.type){case"firstParty":return new FR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=h_.get(t);r&&(fe("ComponentProvider","Removing Datastore"),h_.delete(t),r.terminate())}(this),Promise.resolve()}}function xN(n,e,t,r={}){var s;const a=(n=vr(n,dh))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Bt.MOCK_USER;else{h=db(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new me(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Bt(m)}n._authCredentials=new jR(new yw(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ji(this.firestore,e,this._query)}}class ln{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class Ui extends Ji{constructor(e,t,r){super(e,t,$m(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new _e(e))}withConverter(e){return new Ui(this.firestore,e,this._path)}}function Xo(n,e,...t){if(n=un(n),TE("collection","path",e),n instanceof dh){const r=Ze.fromString(e,...t);return p_(r),new Ui(n,null,r)}{if(!(n instanceof ln||n instanceof Ui))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return p_(r),new Ui(n.firestore,null,r)}}function am(n,e,...t){if(n=un(n),arguments.length===1&&(e=vw.newId()),TE("doc","path",e),n instanceof dh){const r=Ze.fromString(e,...t);return f_(r),new ln(n,null,new _e(r))}{if(!(n instanceof ln||n instanceof Ui))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return f_(r),new ln(n.firestore,n instanceof Ui?n.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new eE(this,"async_queue_retry"),this.fu=()=>{const r=fp();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=fp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=fp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Fi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ea(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Jr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=eg.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.du.push(s),s}pu(){this.Au&&Ce()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function y_(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Ws extends dh{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new g_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new g_(e),this._firestoreClient=void 0,await e}}}function IN(n,e){const t=typeof n=="object"?n:lw(),r=typeof n=="string"?n:"(default)",s=Lm(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=ub("firestore");a&&xN(s,...a)}return s}function ig(n){if(n._terminated)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||SN(n),n._firestoreClient}function SN(n){var e,t,r;const s=n._freezeSettings(),a=function(h,f,m,v){return new eP(h,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,EE(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new vN(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ha(jt.fromBase64String(e))}catch(t){throw new me(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ha(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=/^__.*__$/;class kN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new au(e,this.data,t,this.fieldTransforms)}}function IE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class lg{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new lg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Lu(e),s}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Cd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(IE(this.Mu)&&CN.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class bN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ah(e)}$u(e,t,r,s=!1){return new lg({Mu:e,methodName:t,Ku:r,path:Lt.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ug(n){const e=n._freezeSettings(),t=ah(n._databaseId);return new bN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function SE(n,e,t,r,s,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,s);bE("Data must be an object, but it was:",u,r);const h=CE(r,u);let f,m;if(a.merge)f=new Yn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const E of a.mergeFields){const x=PN(e,E,t);if(!u.contains(x))throw new me(Z.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);NN(v,x)||v.push(x)}f=new Yn(v),m=u.fieldTransforms.filter(E=>f.covers(E.field))}else f=null,m=u.fieldTransforms;return new kN(new An(h),f,m)}function RN(n,e,t,r=!1){return cg(t,n.$u(r?4:3,e))}function cg(n,e){if(kE(n=un(n)))return bE("Unsupported field value:",e,n),CE(n,e);if(n instanceof xE)return function(r,s){if(!IE(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const h of r){let f=cg(h,s.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TP(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=dt.fromDate(r);return{timestampValue:Td(s.serializer,a)}}if(r instanceof dt){const a=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Td(s.serializer,a)}}if(r instanceof og)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ha)return{bytesValue:Hw(s.serializer,r._byteString)};if(r instanceof ln){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ag)return function(u,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw h.qu("VectorValues must only contain numeric values.");return zm(h.serializer,f)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${ch(r)}`)}(n,e)}function CE(n,e){const t={};return _w(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(n,(r,s)=>{const a=cg(s,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function kE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof og||n instanceof ha||n instanceof ln||n instanceof xE||n instanceof ag)}function bE(n,e,t){if(!kE(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=ch(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function PN(n,e,t){if((e=un(e))instanceof sg)return e._internalPath;if(typeof e=="string")return RE(n,e);throw Cd("Field path arguments must be of type string or ",n,!1,void 0,t)}const AN=new RegExp("[~\\*/\\[\\]]");function RE(n,e,t){if(e.search(AN)>=0)throw Cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sg(...e.split("."))._internalPath}catch{throw Cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Cd(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new me(Z.INVALID_ARGUMENT,h+n+f)}function NN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class DN extends PE{data(){return super.data()}}function dg(n,e){return typeof e=="string"?RE(n,e):e instanceof sg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{}class NE extends hg{}function ON(n,e,...t){let r=[];e instanceof hg&&r.push(e),r=r.concat(t),function(a){const u=a.filter(f=>f instanceof pg).length,h=a.filter(f=>f instanceof fg).length;if(u>1||u>0&&h>0)throw new me(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class fg extends NE{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new fg(e,t,r)}_apply(e){const t=this._parse(e);return DE(e._query,t),new Ji(e.firestore,e.converter,Yp(e._query,t))}_parse(e){const t=ug(e.firestore);return function(a,u,h,f,m,v,E){let x;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new me(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){__(E,v);const k=[];for(const R of E)k.push(v_(f,a,R));x={arrayValue:{values:k}}}else x=v_(f,a,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||__(E,v),x=RN(h,u,E,v==="in"||v==="not-in");return mt.create(m,v,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class pg extends hg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new pg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let u=s;const h=a.getFlattenedFilters();for(const f of h)DE(u,f),u=Yp(u,f)}(e._query,t),new Ji(e.firestore,e.converter,Yp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mg extends NE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new mg(e,t)}_apply(e){const t=function(s,a,u){if(s.startAt!==null)throw new me(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new me(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kl(a,u)}(e._query,this._field,this._direction);return new Ji(e.firestore,e.converter,function(s,a){const u=s.explicitOrderBy.concat([a]);return new Ta(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function LN(n,e="asc"){const t=e,r=dg("orderBy",n);return mg._create(r,t)}function v_(n,e,t){if(typeof(t=un(t))=="string"){if(t==="")throw new me(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bw(e)&&t.indexOf("/")!==-1)throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ze.fromString(t));if(!_e.isDocumentKey(r))throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vv(n,new _e(r))}if(t instanceof ln)return Vv(n,t._key);throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(t)}.`)}function __(n,e){if(!Array.isArray(n)||n.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DE(n,e){const t=function(s,a){for(const u of s)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class jN{convertValue(e,t="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Qs(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>ct(u.doubleValue));return new ag(a)}convertGeoPoint(e){return new og(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=th(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const t=Wi(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ze.fromString(e);qe(Yw(r));const s=new Wl(r.get(1),r.get(3)),a=new _e(r.popFirst(5));return s.isEqual(t)||Jr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class LE extends PE{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(dg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Qc extends LE{data(e={}){return super.data(e)}}class jE{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Pl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qc(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const f=new Qc(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Pl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new Qc(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Pl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,v=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:MN(h.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function MN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}class gg extends jN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ha(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,t)}}function w_(n){n=vr(n,Ji);const e=vr(n.firestore,Ws),t=ig(e),r=new gg(e);return AE(n._query),EN(t,n._query).then(s=>new jE(e,r,n,s))}function VN(n,e,t){n=vr(n,ln);const r=vr(n.firestore,Ws),s=OE(n.converter,e);return vg(r,[SE(ug(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Jn.none())])}function FN(n){return vg(vr(n.firestore,Ws),[new Bm(n._key,Jn.none())])}function yg(n,e){const t=vr(n.firestore,Ws),r=am(n),s=OE(n.converter,e);return vg(t,[SE(ug(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}function UN(n,...e){var t,r,s;n=un(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||y_(e[u])||(a=e[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(y_(e[u])){const E=e[u];e[u]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[u+1]=(r=E.error)===null||r===void 0?void 0:r.bind(E),e[u+2]=(s=E.complete)===null||s===void 0?void 0:s.bind(E)}let f,m,v;if(n instanceof ln)m=vr(n.firestore,Ws),v=$m(n._key.path),f={next:E=>{e[u]&&e[u]($N(m,n,E))},error:e[u+1],complete:e[u+2]};else{const E=vr(n,Ji);m=vr(E.firestore,Ws),v=E._query;const x=new gg(m);f={next:k=>{e[u]&&e[u](new jE(m,x,E,k))},error:e[u+1],complete:e[u+2]},AE(n._query)}return function(x,k,R,M){const A=new _E(M),$=new cE(k,A,R);return x.asyncQueue.enqueueAndForget(async()=>lE(await om(x),$)),()=>{A.eu(),x.asyncQueue.enqueueAndForget(async()=>uE(await om(x),$))}}(ig(m),v,h,f)}function vg(n,e){return function(r,s){const a=new Fi;return r.asyncQueue.enqueueAndForget(async()=>uN(await wN(r),s,a)),a.promise}(ig(n),e)}function $N(n,e,t){const r=t.docs.get(e._key),s=new gg(n);return new LE(n,s,e._key,r,new Pl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){_a=s})(va),sa(new Bs("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new Ws(new MR(r.getProvider("auth-internal")),new $R(r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new me(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(m.options.projectId,v)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Vi(Nv,"4.7.5",e),Vi(Nv,"4.7.5","esm2017")})();var zN="firebase",BN="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vi(zN,BN,"app");function _g(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function ME(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HN=ME,VE=new su("auth","Firebase",ME());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new Dm("@firebase/auth");function WN(n,...e){kd.logLevel<=Me.WARN&&kd.warn(`Auth (${va}): ${n}`,...e)}function Yc(n,...e){kd.logLevel<=Me.ERROR&&kd.error(`Auth (${va}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(n,...e){throw wg(n,...e)}function _r(n,...e){return wg(n,...e)}function FE(n,e,t){const r=Object.assign(Object.assign({},HN()),{[e]:t});return new su("auth","Firebase",r).create(e,{appName:n.name})}function Gr(n){return FE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return VE.create(n,...e)}function Te(n,e,...t){if(!n)throw wg(e,...t)}function zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Yc(e),new Error(e)}function ei(n,e){n||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function qN(){return E_()==="http:"||E_()==="https:"}function E_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qN()||mb()||"connection"in navigator)?navigator.onLine:!0}function GN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,t){this.shortDelay=e,this.longDelay=t,ei(t>e,"Short delay should be less than long delay!"),this.isMobile=hb()||gb()}get(){return KN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(n,e){ei(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new du(3e4,6e4);function Zi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function es(n,e,t,r,s={}){return $E(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=ou(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return pb()||(m.referrerPolicy="no-referrer"),UE.fetch()(zE(n,n.config.apiHost,t,h),m)})}async function $E(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},QN),e);try{const s=new JN(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Uc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Uc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Uc(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw FE(n,v,m);tr(n,v)}}catch(s){if(s instanceof ti)throw s;tr(n,"network-request-failed",{message:String(s)})}}async function hu(n,e,t,r,s={}){const a=await es(n,e,t,r,s);return"mfaPendingCredential"in a&&tr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function zE(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Eg(n.config,s):`${n.config.apiScheme}://${s}`}function XN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(_r(this.auth,"network-request-failed")),YN.get())})}}function Uc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=_r(n,e,r);return s.customData._tokenResponse=t,s}function T_(n){return n!==void 0&&n.enterprise!==void 0}class ZN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return XN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function e4(n,e){return es(n,"GET","/v2/recaptchaConfig",Zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(n,e){return es(n,"POST","/v1/accounts:delete",e)}async function BE(n,e){return es(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n4(n,e=!1){const t=un(n),r=await t.getIdToken(e),s=Tg(r);Te(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Ml(mp(s.auth_time)),issuedAtTime:Ml(mp(s.iat)),expirationTime:Ml(mp(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function mp(n){return Number(n)*1e3}function Tg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const s=tw(t);return s?JSON.parse(s):(Yc("Failed to decode base64 JWT payload"),null)}catch(s){return Yc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function x_(n){const e=Tg(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ti&&r4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function r4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Yl(n,BE(t,{idToken:r}));Te(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?HE(a.providerUserInfo):[],h=o4(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),v=f?m:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new um(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function s4(n){const e=un(n);await bd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function o4(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function HE(n){return n.map(e=>{var{providerId:t}=e,r=_g(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(n,e){const t=await $E(n,{},async()=>{const r=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=zE(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",UE.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function l4(n,e){return es(n,"POST","/v2/accounts:revokeToken",Zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=x_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await a4(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new ta;return r&&(Te(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Te(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Te(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ta,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Br{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=_g(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new i4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new um(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Yl(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return n4(this,e)}reload(){return s4(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await bd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mr(this.auth.app))return Promise.reject(Gr(this.auth));const e=await this.getIdToken();return await Yl(this,t4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,h,f,m,v;const E=(r=t.displayName)!==null&&r!==void 0?r:void 0,x=(s=t.email)!==null&&s!==void 0?s:void 0,k=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,M=(h=t.tenantId)!==null&&h!==void 0?h:void 0,A=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,$=(m=t.createdAt)!==null&&m!==void 0?m:void 0,F=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:O,emailVerified:H,isAnonymous:X,providerData:ne,stsTokenManager:b}=t;Te(O&&b,e,"internal-error");const C=ta.fromJSON(this.name,b);Te(typeof O=="string",e,"internal-error"),ki(E,e.name),ki(x,e.name),Te(typeof H=="boolean",e,"internal-error"),Te(typeof X=="boolean",e,"internal-error"),ki(k,e.name),ki(R,e.name),ki(M,e.name),ki(A,e.name),ki($,e.name),ki(F,e.name);const P=new Br({uid:O,auth:e,email:x,emailVerified:H,displayName:E,isAnonymous:X,photoURL:R,phoneNumber:k,tenantId:M,stsTokenManager:C,createdAt:$,lastLoginAt:F});return ne&&Array.isArray(ne)&&(P.providerData=ne.map(L=>Object.assign({},L))),A&&(P._redirectEventId=A),P}static async _fromIdTokenResponse(e,t,r=!1){const s=new ta;s.updateFromServerResponse(t);const a=new Br({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await bd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Te(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?HE(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new ta;h.updateFromIdToken(r);const f=new Br({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new um(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;function Hr(n){ei(n instanceof Function,"Expected a class definition");let e=I_.get(n);return e?(ei(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,I_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}WE.type="NONE";const S_=WE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(n,e,t){return`firebase:${n}:${e}:${t}`}class na{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Xc(this.userKey,s.apiKey,a),this.fullPersistenceKey=Xc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Br._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new na(Hr(S_),e,r);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||Hr(S_);const u=Xc(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const v=await m._get(u);if(v){const E=Br._fromJSON(e,v);m!==a&&(h=E),a=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new na(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new na(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XE(e))return"Blackberry";if(JE(e))return"Webos";if(KE(e))return"Safari";if((e.includes("chrome/")||GE(e))&&!e.includes("edge/"))return"Chrome";if(YE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qE(n=Wt()){return/firefox\//i.test(n)}function KE(n=Wt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GE(n=Wt()){return/crios\//i.test(n)}function QE(n=Wt()){return/iemobile/i.test(n)}function YE(n=Wt()){return/android/i.test(n)}function XE(n=Wt()){return/blackberry/i.test(n)}function JE(n=Wt()){return/webos/i.test(n)}function xg(n=Wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function u4(n=Wt()){var e;return xg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function c4(){return yb()&&document.documentMode===10}function ZE(n=Wt()){return xg(n)||YE(n)||JE(n)||XE(n)||/windows phone/i.test(n)||QE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(n,e=[]){let t;switch(n){case"Browser":t=C_(Wt());break;case"Worker":t=`${C_(Wt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${va}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(n,e={}){return es(n,"GET","/v2/passwordPolicy",Zi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=6;class p4{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:f4,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k_(this),this.idTokenSubscription=new k_(this),this.beforeStateQueue=new d4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hr(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await na.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await BE(this,{idToken:e}),r=await Br._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(mr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mr(this.app))return Promise.reject(Gr(this));const t=e?un(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mr(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mr(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h4(this),t=new p4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new su("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await l4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Hr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await na.create(this,[Hr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&WN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Zs(n){return un(n)}class k_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Sb(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g4(n){hh=n}function tT(n){return hh.loadJS(n)}function y4(){return hh.recaptchaEnterpriseScript}function v4(){return hh.gapiScript}function _4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class w4{constructor(){this.enterprise=new E4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class E4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const T4="recaptcha-enterprise",nT="NO_RECAPTCHA";class x4{constructor(e){this.type=T4,this.auth=Zs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{e4(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new ZN(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function s(a,u,h){const f=window.grecaptcha;T_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(nT)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new w4().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!t&&T_(window.grecaptcha))s(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=y4();f.length!==0&&(f+=h),tT(f).then(()=>{s(h,a,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function b_(n,e,t,r=!1,s=!1){const a=new x4(n);let u;if(s)u=nT;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function cm(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await b_(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await b_(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(n,e){const t=Lm(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(gd(a,e??{}))return s;tr(s,"already-initialized")}return t.initialize({options:e})}function S4(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Hr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function C4(n,e,t){const r=Zs(n);Te(r._canInitEmulator,r,"emulator-config-failed"),Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=rT(e),{host:u,port:h}=k4(e),f=h===null?"":`:${h}`;r.config.emulator={url:`${a}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),b4()}function rT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function k4(n){const e=rT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:R_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:R_(u)}}}function R_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function b4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,t){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function R4(n,e){return es(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(n,e){return hu(n,"POST","/v1/accounts:signInWithPassword",Zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(n,e){return hu(n,"POST","/v1/accounts:signInWithEmailLink",Zi(n,e))}async function N4(n,e){return hu(n,"POST","/v1/accounts:signInWithEmailLink",Zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends Ig{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Xl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Xl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cm(e,t,"signInWithPassword",P4);case"emailLink":return A4(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cm(e,r,"signUpPassword",R4);case"emailLink":return N4(e,{idToken:t,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(n,e){return hu(n,"POST","/v1/accounts:signInWithIdp",Zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="http://localhost";class qs extends Ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=_g(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new qs(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ra(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ra(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ra(e,t)}buildRequest(){const e={requestUri:D4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ou(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function L4(n){const e=Sl(Cl(n)).link,t=e?Sl(Cl(e)).deep_link_id:null,r=Sl(Cl(n)).deep_link_id;return(r?Sl(Cl(r)).link:null)||r||t||e||n}class Sg{constructor(e){var t,r,s,a,u,h;const f=Sl(Cl(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(r=f.oobCode)!==null&&r!==void 0?r:null,E=O4((s=f.mode)!==null&&s!==void 0?s:null);Te(m&&v&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=L4(e);try{return new Sg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.providerId=Ia.PROVIDER_ID}static credential(e,t){return Xl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Sg.parseLink(t);return Te(r,"argument-error"),Xl._fromEmailAndCode(e,r.code,r.tenantId)}}Ia.PROVIDER_ID="password";Ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends iT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends fu{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qs._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ai.credential(t,r)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends fu{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends fu{constructor(){super("twitter.com")}static credential(e,t){return qs._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Di.credential(t,r)}catch{return null}}}Di.TWITTER_SIGN_IN_METHOD="twitter.com";Di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(n,e){return hu(n,"POST","/v1/accounts:signUp",Zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Br._fromIdTokenResponse(e,r,s),u=P_(r);return new Ks({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=P_(r);return new Ks({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function P_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends ti{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Rd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Rd(e,t,r,s)}}function sT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Rd._fromErrorAndOperation(n,a,e,r):a})}async function M4(n,e,t=!1){const r=await Yl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ks._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(n,e,t=!1){const{auth:r}=n;if(mr(r.app))return Promise.reject(Gr(r));const s="reauthenticate";try{const a=await Yl(n,sT(r,s,e,n),t);Te(a.idToken,r,"internal-error");const u=Tg(a.idToken);Te(u,r,"internal-error");const{sub:h}=u;return Te(n.uid===h,r,"user-mismatch"),Ks._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&tr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oT(n,e,t=!1){if(mr(n.app))return Promise.reject(Gr(n));const r="signIn",s=await sT(n,r,e),a=await Ks._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function F4(n,e){return oT(Zs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aT(n){const e=Zs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function U4(n,e,t){if(mr(n.app))return Promise.reject(Gr(n));const r=Zs(n),u=await cm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",j4).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&aT(n),f}),h=await Ks._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function $4(n,e,t){return mr(n.app)?Promise.reject(Gr(n)):F4(un(n),Ia.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&aT(n),r})}function z4(n,e,t,r){return un(n).onIdTokenChanged(e,t,r)}function B4(n,e,t){return un(n).beforeAuthStateChanged(e,t)}const Pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pd,"1"),this.storage.removeItem(Pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=1e3,W4=10;class uT extends lT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);c4()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,W4):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},H4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}uT.type="LOCAL";const q4=uT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT extends lT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cT.type="SESSION";const dT=cT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new fh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async m=>m(t.origin,a)),f=await K4(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const m=Cg("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(E){const x=E;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(x.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function Q4(n){wr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function Y4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function J4(){return hT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="firebaseLocalStorageDb",Z4=1,Ad="firebaseLocalStorage",pT="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ph(n,e){return n.transaction([Ad],e?"readwrite":"readonly").objectStore(Ad)}function eD(){const n=indexedDB.deleteDatabase(fT);return new pu(n).toPromise()}function dm(){const n=indexedDB.open(fT,Z4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ad,{keyPath:pT})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ad)?e(r):(r.close(),await eD(),e(await dm()))})})}async function A_(n,e,t){const r=ph(n,!0).put({[pT]:e,value:t});return new pu(r).toPromise()}async function tD(n,e){const t=ph(n,!1).get(e),r=await new pu(t).toPromise();return r===void 0?null:r.value}function N_(n,e){const t=ph(n,!0).delete(e);return new pu(t).toPromise()}const nD=800,rD=3;class mT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>rD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(J4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Y4(),!this.activeServiceWorker)return;this.sender=new G4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||X4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dm();return await A_(e,Pd,"1"),await N_(e,Pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>A_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>tD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>N_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=ph(s,!1).getAll();return new pu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mT.type="LOCAL";const iD=mT;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n,e){return e?Hr(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg extends Ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ra(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ra(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oD(n){return oT(n.auth,new kg(n),n.bypassAuthState)}function aD(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),V4(t,new kg(n),n.bypassAuthState)}async function lD(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),M4(t,new kg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oD;case"linkViaPopup":case"linkViaRedirect":return lD;case"reauthViaPopup":case"reauthViaRedirect":return aD;default:tr(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=new du(2e3,1e4);class Jo extends gT{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=Cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uD.get())};e()}}Jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="pendingRedirect",Jc=new Map;class dD extends gT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const r=await hD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hD(n,e){const t=mD(e),r=pD(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function fD(n,e){Jc.set(n._key(),e)}function pD(n){return Hr(n._redirectPersistence)}function mD(n){return Xc(cD,n.config.apiKey,n.name)}async function gD(n,e,t=!1){if(mr(n.app))return Promise.reject(Gr(n));const r=Zs(n),s=sD(r,e),u=await new dD(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=10*60*1e3;class vD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_D(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!yT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(_r(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yD&&this.cachedEventUids.clear(),this.cachedEventUids.has(D_(e))}saveEventToCache(e){this.cachedEventUids.add(D_(e)),this.lastProcessedEventTime=Date.now()}}function D_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function yT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _D(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(n,e={}){return es(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TD=/^https?/;async function xD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wD(n);for(const t of e)try{if(ID(t))return}catch{}tr(n,"unauthorized-domain")}function ID(n){const e=lm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!TD.test(t))return!1;if(ED.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new du(3e4,6e4);function O_(){const n=wr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function CD(n){return new Promise((e,t)=>{var r,s,a;function u(){O_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O_(),t(_r(n,"network-request-failed"))},timeout:SD.get()})}if(!((s=(r=wr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=wr().gapi)===null||a===void 0)&&a.load)u();else{const h=_4("iframefcb");return wr()[h]=()=>{gapi.load?u():t(_r(n,"network-request-failed"))},tT(`${v4()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function kD(n){return Zc=Zc||CD(n),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new du(5e3,15e3),RD="__/auth/iframe",PD="emulator/auth/iframe",AD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ND=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DD(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Eg(e,PD):`https://${n.config.authDomain}/${RD}`,r={apiKey:e.apiKey,appName:n.name,v:va},s=ND.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${ou(r).slice(1)}`}async function OD(n){const e=await kD(n),t=wr().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:DD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AD,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=_r(n,"network-request-failed"),h=wr().setTimeout(()=>{a(u)},bD.get());function f(){wr().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jD=500,MD=600,VD="_blank",FD="http://localhost";class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UD(n,e,t,r=jD,s=MD){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},LD),{width:r.toString(),height:s.toString(),top:a,left:u}),m=Wt().toLowerCase();t&&(h=GE(m)?VD:t),qE(m)&&(e=e||FD,f.scrollbars="yes");const v=Object.entries(f).reduce((x,[k,R])=>`${x}${k}=${R},`,"");if(u4(m)&&h!=="_self")return $D(e||"",h),new L_(null);const E=window.open(e||"",h,v);Te(E,n,"popup-blocked");try{E.focus()}catch{}return new L_(E)}function $D(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="__/auth/handler",BD="emulator/auth/handler",HD=encodeURIComponent("fac");async function j_(n,e,t,r,s,a){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:va,eventId:s};if(e instanceof iT){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",Ib(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof fu){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),m=f?`#${HD}=${encodeURIComponent(f)}`:"";return`${WD(n)}?${ou(h).slice(1)}${m}`}function WD({config:n}){return n.emulator?Eg(n,BD):`https://${n.authDomain}/${zD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="webStorageSupport";class qD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dT,this._completeRedirectFn=gD,this._overrideRedirectResult=fD}async _openPopup(e,t,r,s){var a;ei((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await j_(e,t,r,lm(),s);return UD(e,u,Cg())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await j_(e,t,r,lm(),s);return Q4(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ei(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await OD(e),r=new vD(e);return t.register("authEvent",s=>(Te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gp,{type:gp},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[gp];u!==void 0&&t(!!u),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=xD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ZE()||KE()||xg()}}const KD=qD;var M_="@firebase/auth",V_="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YD(n){sa(new Bs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Te(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eT(n)},m=new m4(r,s,a,f);return S4(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),sa(new Bs("auth-internal",e=>{const t=Zs(e.getProvider("auth").getImmediate());return(r=>new GD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vi(M_,V_,QD(n)),Vi(M_,V_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=5*60,JD=iw("authIdTokenMaxAge")||XD;let F_=null;const ZD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>JD)return;const s=t==null?void 0:t.token;F_!==s&&(F_=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function eO(n=lw()){const e=Lm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=I4(n,{popupRedirectResolver:KD,persistence:[iD,q4,dT]}),r=iw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=ZD(a.toString());B4(t,u,()=>u(t.currentUser)),z4(t,h=>u(h))}}const s=nw("auth");return s&&C4(t,`http://${s}`),t}function tO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}g4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=_r("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",tO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YD("Browser");const nO={apiKey:"AIzaSyAb6KXo6kfqT7uL24Puw7BFgmBs2wF-GDk",authDomain:"santosh-794bf.firebaseapp.com",projectId:"santosh-794bf",storageBucket:"santosh-794bf.firebasestorage.app",messagingSenderId:"391872388287",appId:"1:391872388287:web:fb03a6d336b65cdd38fa0a",measurementId:"G-2SE4EHJF7J"},vT=aw(nO),_T=eO(vT),bi=IN(vT);function rO(){const n=nu(),e=I.useContext(Mt),{mode:t}=e,r=ya(F=>F.cart);console.log(r);const s=F=>{n(Gk(F.id)),Se.success("delete  cart")};I.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(r))},[r]);const[a,u]=I.useState(0);I.useEffect(()=>{let F=0;r.forEach(O=>{F=F+parseInt(O.price)}),u(F),console.log(F)},[r]);const h=parseInt(100),f=h+a;console.log(f);const[m,v]=I.useState(""),[E,x]=I.useState(""),[k,R]=I.useState(""),[M,A]=I.useState(""),$=async()=>{if(m===""||E===""||k===""||M==="")return Se.error("All fields are required",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});const F={name:m,address:k,pincode:M,phonenumber:E,date:new Date().toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric"})};console.log("Address Info:",F);var O={key:"rzp_test_ex3XRuz87M6hSU",key_secret:"pIAn2Brh3vGzBwQ9Gm1WpVxw",amount:parseInt(f*100),currency:"INR",order_receipt:`order_rcptid_${Date.now()}`,name:"Bharat-Cart",description:"For testing purpose",handler:async function(X){try{Se.success("Payment Successful");const ne=X.razorpay_payment_id,b=JSON.parse(localStorage.getItem("user"));if(console.log("user from local storage:",b),!b||!b.uid||!b.email)throw new Error("Invalid user data from localStorage");const C={cartitem:r,addressinfo:F,date:new Date().toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric"}),email:b.email,userid:b.uid,paymentId:ne};console.log("orderInfo:",C);const P=Xo(bi,"orders"),L=await yg(P,C);console.log("Order added with ID: ",L.id),Se.success("Order placed successfully!")}catch(ne){console.error("Error adding order to Firestore:",ne.message),Se.error("Failed to create order. Please try again.")}},theme:{color:"#3399cc"}},H=new window.Razorpay(O);H.open(),console.log("Payment window opened")};return _.jsx(Fs,{children:_.jsxs("div",{className:"h-screen bg-gray-100 pt-5 mb-[50%] ",style:{backgroundColor:t==="dark"?"#282c34":"",color:t==="dark"?"white":""},children:[_.jsx("h1",{className:"mb-10 text-center text-2xl font-bold",children:"Cart Items"}),_.jsxs("div",{className:"mx-auto max-w-5xl justify-center px-6 md:flex md:space-x-6 xl:px-0 ",children:[_.jsx("div",{className:"rounded-lg md:w-2/3 ",children:r.map((F,O)=>{const{title:H,price:X,description:ne,imageUrl:b}=F;return _.jsxs("div",{className:"justify-between mb-6 rounded-lg border  drop-shadow-xl bg-white p-6  sm:flex  sm:justify-start",style:{backgroundColor:t==="dark"?"rgb(32 33 34)":"",color:t==="dark"?"white":""},children:[_.jsx("img",{src:b,alt:"product-image",className:"w-full rounded-lg sm:w-40"}),_.jsxs("div",{className:"sm:ml-4 sm:flex sm:w-full sm:justify-between",children:[_.jsxs("div",{className:"mt-5 sm:mt-0",children:[_.jsx("h2",{className:"text-lg font-bold text-gray-900",style:{color:t==="dark"?"white":""},children:H}),_.jsx("h2",{className:"text-sm  text-gray-900",style:{color:t==="dark"?"white":""},children:ne}),_.jsxs("p",{className:"mt-1 text-xs font-semibold text-gray-700",style:{color:t==="dark"?"white":""},children:["₹",X]})]}),_.jsx("div",{onClick:()=>{s(F)},className:"mt-4 flex justify-between sm:space-y-6 sm:mt-0 sm:block sm:space-x-6",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]})]})})}),_.jsxs("div",{className:"mt-6 h-full rounded-lg border bg-white p-6 shadow-md md:mt-0 md:w-1/3",style:{backgroundColor:t==="dark"?"rgb(32 33 34)":"",color:t==="dark"?"white":""},children:[_.jsxs("div",{className:"mb-2 flex justify-between",children:[_.jsx("p",{className:"text-gray-700",style:{color:t==="dark"?"white":""},children:"Subtotal"}),_.jsxs("p",{className:"text-gray-700",style:{color:t==="dark"?"white":""},children:["₹",a]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("p",{className:"text-gray-700",style:{color:t==="dark"?"white":""},children:"Shipping"}),_.jsxs("p",{className:"text-gray-700",style:{color:t==="dark"?"white":""},children:["₹",h]})]}),_.jsx("hr",{className:"my-4"}),_.jsxs("div",{className:"flex justify-between mb-3",children:[_.jsx("p",{className:"text-lg font-bold",style:{color:t==="dark"?"white":""},children:"Total"}),_.jsx("div",{className:!0,children:_.jsxs("p",{className:"mb-1 text-lg font-bold",style:{color:t==="dark"?"white":""},children:["₹",f]})})]}),_.jsx(tb,{name:m,address:k,pincode:M,phonenumber:E,setname:v,setaddress:R,setpincode:A,setphonenumber:x,buyNow:$})]})]})]})})}function iO(n){return Xi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM408 168h-48v-40c0-8.837-7.163-16-16-16h-16c-8.837 0-16 7.163-16 16v40h-48c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h48v40c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-40h48c8.837 0 16-7.163 16-16v-16c0-8.837-7.163-16-16-16z"},child:[]}]})(n)}function $c(n){return Xi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(n)}function sO(n){return Xi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}var yp={exports:{}},vp,U_;function oO(){if(U_)return vp;U_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vp=n,vp}var _p,$_;function aO(){if($_)return _p;$_=1;var n=oO();function e(){}function t(){}return t.resetWarningCache=e,_p=function(){function r(u,h,f,m,v,E){if(E!==n){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},_p}var z_;function lO(){return z_||(z_=1,yp.exports=aO()()),yp.exports}var wT=lO();function bg(n){return e=>!!e.type&&e.type.tabsRole===n}const mu=bg("Tab"),mh=bg("TabList"),gh=bg("TabPanel");function uO(n){return mu(n)||mh(n)||gh(n)}function hm(n,e){return I.Children.map(n,t=>t===null?null:uO(t)?e(t):t.props&&t.props.children&&typeof t.props.children=="object"?I.cloneElement(t,Object.assign({},t.props,{children:hm(t.props.children,e)})):t)}function Nd(n,e){return I.Children.forEach(n,t=>{t!==null&&(mu(t)||gh(t)?e(t):t.props&&t.props.children&&typeof t.props.children=="object"&&(mh(t)&&e(t),Nd(t.props.children,e)))})}function ET(n,e,t){let r,s=0,a=0,u=!1;const h=[],f=n[e];return Nd(f,m=>{mh(m)&&(m.props&&m.props.children&&typeof m.props.children=="object"&&Nd(m.props.children,v=>h.push(v)),u&&(r=new Error("Found multiple 'TabList' components inside 'Tabs'. Only one is allowed.")),u=!0),mu(m)?((!u||h.indexOf(m)===-1)&&(r=new Error("Found a 'Tab' component outside of the 'TabList' component. 'Tab' components have to be inside the 'TabList' component.")),s++):gh(m)&&a++}),!r&&s!==a&&(r=new Error(`There should be an equal number of 'Tab' and 'TabPanel' in \`${t}\`. Received ${s} 'Tab' and ${a} 'TabPanel'.`)),r}function cO(n,e,t,r,s){const a=n[e],u=s||e;let h=null;return a&&typeof a!="function"?h=new Error(`Invalid ${r} \`${u}\` of type \`${typeof a}\` supplied to \`${t}\`, expected \`function\`.`):n.selectedIndex!=null&&a==null&&(h=new Error(`The ${r} \`${u}\` is marked as required in \`${t}\`, but its value is \`undefined\` or \`null\`.
\`onSelect\` is required when \`selectedIndex\` is also set. Not doing so will make the tabs not do anything, as \`selectedIndex\` indicates that you want to handle the selected tab yourself.
If you only want to set the inital tab replace \`selectedIndex\` with \`defaultIndex\`.`)),h}function dO(n,e,t,r,s){const a=n[e],u=s||e;let h=null;if(a!=null&&typeof a!="number")h=new Error(`Invalid ${r} \`${u}\` of type \`${typeof a}\` supplied to \`${t}\`, expected \`number\`.`);else if(n.defaultIndex!=null&&a!=null)return new Error(`The ${r} \`${u}\` cannot be used together with \`defaultIndex\` in \`${t}\`.
Either remove \`${u}\` to let \`${t}\` handle the selected tab internally or remove \`defaultIndex\` to handle it yourself.`);return h}function TT(n){let e=0;return Nd(n,t=>{mu(t)&&e++}),e}const hO=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys","disableLeftRightKeys"];function fO(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function xT(n){return n&&"getAttribute"in n}function B_(n){return xT(n)&&n.getAttribute("data-rttab")}function Rs(n){return xT(n)&&n.getAttribute("aria-disabled")==="true"}let Dd;function pO(n){const e=n||(typeof window<"u"?window:void 0);try{Dd=!!(typeof e<"u"&&e.document&&e.document.activeElement)}catch{Dd=!1}}const mO={className:"react-tabs",focus:!1},gO={children:ET},yO=n=>{wT.checkPropTypes(gO,n,"prop","UncontrolledTabs");let e=I.useRef([]),t=I.useRef([]);const r=I.useRef();function s(O,H){if(O<0||O>=m())return;const{onSelect:X,selectedIndex:ne}=n;X(O,ne,H)}function a(O){const H=m();for(let X=O+1;X<H;X++)if(!Rs(v(X)))return X;for(let X=0;X<O;X++)if(!Rs(v(X)))return X;return O}function u(O){let H=O;for(;H--;)if(!Rs(v(H)))return H;for(H=m();H-- >O;)if(!Rs(v(H)))return H;return O}function h(){const O=m();for(let H=0;H<O;H++)if(!Rs(v(H)))return H;return null}function f(){let O=m();for(;O--;)if(!Rs(v(O)))return O;return null}function m(){const{children:O}=n;return TT(O)}function v(O){return e.current[`tabs-${O}`]}function E(){let O=0;const{children:H,disabledTabClassName:X,focus:ne,forceRenderTabPanel:b,selectedIndex:C,selectedTabClassName:P,selectedTabPanelClassName:L,environment:j}=n;t.current=t.current||[];let U=t.current.length-m();const N=I.useId();for(;U++<0;)t.current.push(`${N}${t.current.length}`);return hm(H,de=>{let De=de;if(mh(de)){let Re=0,ke=!1;Dd==null&&pO(j);const re=j||(typeof window<"u"?window:void 0);Dd&&re&&(ke=le.Children.toArray(de.props.children).filter(mu).some((ce,oe)=>re.document.activeElement===v(oe))),De=I.cloneElement(de,{children:hm(de.props.children,ce=>{const oe=`tabs-${Re}`,z=C===Re,Y={tabRef:ue=>{e.current[oe]=ue},id:t.current[Re],selected:z,focus:z&&(ne||ke)};return P&&(Y.selectedClassName=P),X&&(Y.disabledClassName=X),Re++,I.cloneElement(ce,Y)})})}else if(gh(de)){const Re={id:t.current[O],selected:C===O};b&&(Re.forceRender=b),L&&(Re.selectedClassName=L),O++,De=I.cloneElement(de,Re)}return De})}function x(O){const{direction:H,disableUpDownKeys:X,disableLeftRightKeys:ne}=n;if(R(O.target)){let{selectedIndex:b}=n,C=!1,P=!1;(O.code==="Space"||O.keyCode===32||O.code==="Enter"||O.keyCode===13)&&(C=!0,P=!1,k(O)),!ne&&(O.keyCode===37||O.code==="ArrowLeft")||!X&&(O.keyCode===38||O.code==="ArrowUp")?(H==="rtl"?b=a(b):b=u(b),C=!0,P=!0):!ne&&(O.keyCode===39||O.code==="ArrowRight")||!X&&(O.keyCode===40||O.code==="ArrowDown")?(H==="rtl"?b=u(b):b=a(b),C=!0,P=!0):O.keyCode===35||O.code==="End"?(b=f(),C=!0,P=!0):(O.keyCode===36||O.code==="Home")&&(b=h(),C=!0,P=!0),C&&O.preventDefault(),P&&s(b,O)}}function k(O){let H=O.target;do if(R(H)){if(Rs(H))return;const X=[].slice.call(H.parentNode.children).filter(B_).indexOf(H);s(X,O);return}while((H=H.parentNode)!=null)}function R(O){if(!B_(O))return!1;let H=O.parentElement;do{if(H===r.current)return!0;if(H.getAttribute("data-rttabs"))break;H=H.parentElement}while(H);return!1}const M=Object.assign({},mO,n),{className:A,domRef:$}=M,F=fO(M,hO);return le.createElement("div",Object.assign({},F,{className:Xn(A),onClick:k,onKeyDown:x,ref:O=>{r.current=O,$&&$(O)},"data-rttabs":!0}),E())},vO=["children","defaultFocus","defaultIndex","focusTabOnClick","onSelect"];function _O(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}const wO=0,ed=1,EO={children:ET,onSelect:cO,selectedIndex:dO},TO={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},xO=n=>n.selectedIndex===null?ed:wO,IT=n=>{wT.checkPropTypes(EO,n,"prop","Tabs");const e=Object.assign({},TO,n),{children:t,defaultFocus:r,defaultIndex:s,focusTabOnClick:a,onSelect:u}=e,h=_O(e,vO),[f,m]=I.useState(r),[v]=I.useState(xO(h)),[E,x]=I.useState(v===ed?s||0:null);if(I.useEffect(()=>{m(!1)},[]),v===ed){const M=TT(t);I.useEffect(()=>{if(E!=null){const A=Math.max(0,M-1);x(Math.min(E,A))}},[M])}const k=(M,A,$)=>{typeof u=="function"&&u(M,A,$)===!1||(a&&m(!0),v===ed&&x(M))};let R=Object.assign({},n,h);return R.focus=f,R.onSelect=k,E!=null&&(R.selectedIndex=E),delete R.defaultFocus,delete R.defaultIndex,delete R.focusTabOnClick,le.createElement(yO,R,t)};IT.tabsRole="Tabs";const IO=["children","className"];function SO(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}const CO={className:"react-tabs__tab-list"},ST=n=>{const e=Object.assign({},CO,n),{children:t,className:r}=e,s=SO(e,IO);return le.createElement("ul",Object.assign({},s,{className:Xn(r),role:"tablist"}),t)};ST.tabsRole="TabList";const kO=["children","className","disabled","disabledClassName","focus","id","selected","selectedClassName","tabIndex","tabRef"];function bO(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}const wp="react-tabs__tab",RO={className:wp,disabledClassName:`${wp}--disabled`,focus:!1,id:null,selected:!1,selectedClassName:`${wp}--selected`},td=n=>{let e=I.useRef();const t=Object.assign({},RO,n),{children:r,className:s,disabled:a,disabledClassName:u,focus:h,id:f,selected:m,selectedClassName:v,tabIndex:E,tabRef:x}=t,k=bO(t,kO);return I.useEffect(()=>{m&&h&&e.current.focus()},[m,h]),le.createElement("li",Object.assign({},k,{className:Xn(s,{[v]:m,[u]:a}),ref:R=>{e.current=R,x&&x(R)},role:"tab",id:`tab${f}`,"aria-selected":m?"true":"false","aria-disabled":a?"true":"false","aria-controls":`panel${f}`,tabIndex:E||(m?"0":null),"data-rttab":!0}),r)};td.tabsRole="Tab";const PO=["children","className","forceRender","id","selected","selectedClassName"];function AO(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}const H_="react-tabs__tab-panel",NO={className:H_,forceRender:!1,selectedClassName:`${H_}--selected`},nd=n=>{const e=Object.assign({},NO,n),{children:t,className:r,forceRender:s,id:a,selected:u,selectedClassName:h}=e,f=AO(e,PO);return le.createElement("div",Object.assign({},f,{className:Xn(r,{[h]:u}),role:"tabpanel",id:`panel${a}`,"aria-labelledby":`tab${a}`}),s||u?t:null)};nd.tabsRole="TabPanel";function DO(n){return Xi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 10h-2V8h2v2zm0-4h-2V1h2v5zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-8.9-5h7.45c.75 0 1.41-.41 1.75-1.03L21 4.96 19.25 4l-3.7 7H8.53L4.27 2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2z"},child:[]}]})(n)}function OO(n){return Xi({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M832 312H696v-16c0-101.6-82.4-184-184-184s-184 82.4-184 184v16H192c-17.7 0-32 14.3-32 32v536c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V344c0-17.7-14.3-32-32-32zm-208 0H400v-16c0-61.9 50.1-112 112-112s112 50.1 112 112v16z"},child:[]}]})(n)}function LO(){const n=()=>{window.location.href="/addproduct"},e=I.useContext(Mt),{mode:t,product:r,edithandle:s,deleteProduct:a,order:u,user:h}=e;return _.jsx(_.Fragment,{children:_.jsx("div",{className:"container mx-auto",children:_.jsx("div",{className:"tab container mx-auto",children:_.jsxs(IT,{defaultIndex:0,children:[_.jsxs(ST,{className:"md:flex md:space-x-8 grid grid-cols-2 text-center gap-4 md:justify-center mb-10",children:[_.jsx(td,{children:_.jsx("button",{type:"button",className:"font-medium border-b-2 hover:shadow-purple-700 border-purple-500 text-purple-500 rounded-lg text-xl shadow-[inset_0_0_8px_rgba(0,0,0,0.6)] px-5 py-1.5 text-center bg-[#605d5d12]",children:_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsx(DO,{}),"Products"]})})}),_.jsx(td,{children:_.jsx("button",{type:"button",className:"font-medium border-b-2 border-pink-500 bg-[#605d5d12] text-pink-500 hover:shadow-pink-700 rounded-lg text-xl shadow-[inset_0_0_8px_rgba(0,0,0,0.6)] px-5 py-1.5 text-center",children:_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsx(OO,{})," Order"]})})}),_.jsx(td,{children:_.jsx("button",{type:"button",className:"font-medium border-b-2 border-green-500 bg-[#605d5d12] text-green-500 rounded-lg text-xl hover:shadow-green-700 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)] px-5 py-1.5 text-center",children:_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsx(sO,{})," Users"]})})})]}),_.jsx(nd,{children:_.jsxs("div",{className:"px-4 md:px-0 mb-16",children:[_.jsx("h1",{className:"text-center mb-5 text-3xl font-semibold underline",style:{color:t==="dark"?"white":""},children:"Product Details"}),_.jsx("div",{className:"flex justify-end mb-4",children:_.jsx("button",{onClick:n,type:"button",className:"focus:outline-none text-white bg-pink-600 shadow-[inset_0_0_10px_rgba(0,0,0,0.6)] border hover:bg-pink-700 outline-0 font-medium rounded-lg text-sm px-5 py-2.5",style:{backgroundColor:t==="dark"?"rgb(46 49 55)":"",color:t==="dark"?"white":""},children:_.jsxs("div",{className:"flex gap-2 items-center",children:["Add Product ",_.jsx(iO,{size:20})]})})}),_.jsx("div",{className:"relative overflow-x-auto",children:_.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[_.jsx("thead",{className:"text-xs border border-gray-600 text-black uppercase bg-gray-200 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]",style:{backgroundColor:t==="dark"?"rgb(46 49 55)":"",color:t==="dark"?"white":""},children:_.jsxs("tr",{children:[_.jsx("th",{scope:"col",className:"px-6 py-3",children:"S.No"}),_.jsx("th",{scope:"col",className:"px-6 py-3",children:"Image"}),_.jsx("th",{scope:"col",className:"px-6 py-3",children:"Title"}),_.jsx("th",{scope:"col",className:"px-6 py-3",children:"Price"}),_.jsx("th",{scope:"col",className:"px-6 py-3",children:"Category"}),_.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date"}),_.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),_.jsx("tbody",{children:r.map((f,m)=>{const{imageUrl:v,title:E,price:x,category:k,date:R}=f;return _.jsxs("tr",{className:"bg-gray-50 border-b dark:border-gray-700",style:{backgroundColor:t==="dark"?"rgb(46 49 55)":"",color:t==="dark"?"white":""},children:[_.jsxs("td",{className:"px-6 py-4",children:[m+1,"."]}),_.jsx("td",{className:"px-6 py-4",children:_.jsx("img",{className:"w-16",src:v,alt:"Product"})}),_.jsx("td",{className:"px-6 py-4",children:E}),_.jsxs("td",{className:"px-6 py-4",children:["₹",x]}),_.jsx("td",{className:"px-6 py-4",children:k}),_.jsx("td",{className:"px-6 py-4",children:R}),_.jsx("td",{className:"px-6 py-4",children:_.jsx("div",{className:"flex gap-2",children:_.jsxs("div",{className:"cursor-pointer",style:{color:t==="dark"?"white":""},children:[_.jsx("div",{onClick:()=>a(f),className:"mr-2",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),_.jsx(bt,{to:"/updateProduct",children:_.jsx("div",{onClick:()=>s(f),children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})})})]})})})]},m)})})]})})]})}),_.jsx(nd,{children:_.jsxs("div",{className:"px-4 md:px-0 mb-16",children:[_.jsx("h1",{className:"text-center mb-5 text-3xl font-semibold underline",style:{color:t==="dark"?"white":""},children:"Order Details"}),_.jsx("div",{className:"relative overflow-x-auto",children:_.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[_.jsx("thead",{className:"text-xs text-black uppercase bg-gray-200 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]",style:{backgroundColor:t==="dark"?"rgb(46 49 55)":"",color:t==="dark"?"white":""},children:_.jsxs("tr",{children:[_.jsx("th",{scope:"col",className:"px-6 py-3",children:"Payment ID"}),_.jsx("th",{scope:"col",className:"px-6 py-3",children:"Image"}),_.jsx("th",{scope:"col",className:"px-6 py-3",children:"Title"}),_.jsx("th",{scope:"col",className:"px-6 py-3",children:"Price"}),_.jsx("th",{scope:"col",className:"px-6 py-3",children:"Category"}),_.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),_.jsx("th",{scope:"col",className:"px-6 py-3",children:"Address"}),_.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date"})]})}),_.jsx("tbody",{children:u.flatMap((f,m)=>{var v;return(v=f.cartitem)==null?void 0:v.map((E,x)=>{var k,R;return _.jsxs("tr",{className:"bg-gray-50 border-b dark:border-gray-700",style:{backgroundColor:t==="dark"?"rgb(46 49 55)":"",color:t==="dark"?"white":""},children:[_.jsx("td",{className:"px-6 py-4",children:f.paymentId||"N/A"}),_.jsx("td",{className:"px-6 py-4",children:_.jsx("img",{className:"w-16",src:E.imageUrl||"https://via.placeholder.com/50",alt:E.title})}),_.jsx("td",{className:"px-6 py-4",children:E.title||"N/A"}),_.jsxs("td",{className:"px-6 py-4",children:["₹",E.price||"N/A"]}),_.jsx("td",{className:"px-6 py-4",children:E.category||"N/A"}),_.jsx("td",{className:"px-6 py-4",children:((k=f.addressinfo)==null?void 0:k.name)||"N/A"}),_.jsx("td",{className:"px-6 py-4",children:((R=f.addressinfo)==null?void 0:R.address)||"N/A"}),_.jsx("td",{className:"px-6 py-4",children:f.date||"N/A"})]},`${m}-${x}`)})})})]})})]})}),_.jsx(nd,{children:_.jsxs("div",{className:"px-4 md:px-0 mb-16",children:[_.jsx("h1",{className:"text-center mb-5 text-3xl font-semibold underline",style:{color:t==="dark"?"white":""},children:"User Details"}),_.jsx("div",{className:"relative overflow-x-auto",children:_.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[_.jsx("thead",{className:"text-xs text-black uppercase bg-gray-200 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]",style:{backgroundColor:t==="dark"?"rgb(46 49 55)":"",color:t==="dark"?"white":""},children:_.jsxs("tr",{children:[_.jsx("th",{scope:"col",className:"px-6 py-3",children:"S.No"}),_.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),_.jsx("th",{scope:"col",className:"px-6 py-3",children:"Email"}),_.jsx("th",{scope:"col",className:"px-6 py-3",children:"User ID"}),_.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date"})]})}),_.jsx("tbody",{children:h.map((f,m)=>_.jsxs("tr",{className:"bg-gray-50 border-b dark:border-gray-700",style:{backgroundColor:t==="dark"?"rgb(46 49 55)":"",color:t==="dark"?"white":""},children:[_.jsxs("td",{className:"px-6 py-4",children:[m+1,"."]}),_.jsx("td",{className:"px-6 py-4",children:f.name||"N/A"}),_.jsx("td",{className:"px-6 py-4",children:f.email||"N/A"}),_.jsx("td",{className:"px-6 py-4",children:f.uid||"N/A"}),_.jsx("td",{className:"px-6 py-4",children:f.date||"N/A"})]},m))})]})})]})})]})})})})}function jO(){const n=I.useContext(Mt),{mode:e}=n;return _.jsx(Fs,{children:_.jsxs("section",{className:"text-gray-600 body-font mt-10 mb-10",children:[_.jsx("div",{className:"container px-5 mx-auto mb-10",children:_.jsxs("div",{className:"flex flex-wrap -m-4 text-center",children:[_.jsx("div",{className:"p-4 md:w-1/4 sm:w-1/2 w-full",children:_.jsxs("div",{className:" border-2 hover:shadow-purple-600 shadow-[inset_0_0_10px_rgba(0,0,0,0.6)] bg-gray-100 border-gray-300    px-4 py-3 rounded-xl",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[_.jsx("div",{className:"text-purple-500 w-12 h-12 mb-3 inline-block",viewBox:"0 0 24 24",children:_.jsx($c,{size:50})}),_.jsx("h2",{className:"title-font font-medium text-3xl text-black fonts1",style:{color:e==="dark"?"white":""},children:"10"}),_.jsx("p",{className:" text-purple-500  font-bold",style:{color:e==="dark"?"white":""},children:"Total Products"})]})}),_.jsx("div",{className:"p-4 md:w-1/4 sm:w-1/2 w-full",children:_.jsxs("div",{className:" border-2 hover:shadow-purple-600 shadow-[inset_0_0_10px_rgba(0,0,0,0.6)] bg-gray-100 border-gray-300    px-4 py-3 rounded-xl",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[_.jsx("div",{className:"text-purple-500 w-12 h-12 mb-3 inline-block",viewBox:"0 0 24 24",children:_.jsx($c,{size:50})}),_.jsx("h2",{className:"title-font font-medium text-3xl text-black fonts1",style:{color:e==="dark"?"white":""},children:"10"}),_.jsx("p",{className:" text-purple-500  font-bold",style:{color:e==="dark"?"white":""},children:"Total Orders"})]})}),_.jsx("div",{className:"p-4 md:w-1/4 sm:w-1/2 w-full",children:_.jsxs("div",{className:" border-2 hover:shadow-purple-600 shadow-[inset_0_0_10px_rgba(0,0,0,0.6)] bg-gray-100 border-gray-300    px-4 py-3 rounded-xl",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[_.jsx("div",{className:"text-purple-500 w-12 h-12 mb-3 inline-block",viewBox:"0 0 24 24",children:_.jsx($c,{size:50})}),_.jsx("h2",{className:"title-font font-medium text-3xl text-black fonts1",style:{color:e==="dark"?"white":""},children:"20"}),_.jsx("p",{className:" text-purple-500  font-bold",style:{color:e==="dark"?"white":""},children:"Total Users"})]})}),_.jsx("div",{className:"p-4 md:w-1/4 sm:w-1/2 w-full",children:_.jsxs("div",{className:" border-2 hover:shadow-purple-600 shadow-[inset_0_0_10px_rgba(0,0,0,0.6)] bg-gray-100 border-gray-300    px-4 py-3 rounded-xl",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[_.jsx("div",{className:"text-purple-500 w-12 h-12 mb-3 inline-block",viewBox:"0 0 24 24",children:_.jsx($c,{size:50})}),_.jsx("h2",{className:"title-font font-medium text-3xl text-black fonts1",style:{color:e==="dark"?"white":""},children:"20"}),_.jsx("p",{className:" text-purple-500  font-bold",style:{color:e==="dark"?"white":""},children:"Total Products"})]})})]})}),_.jsx(LO,{})]})})}const MO=()=>_.jsx("div",{});function VO(){const n=I.useContext(Mt),{mode:e,product:t,searchkey:r,setSearchkey:s,filterType:a,setFilterType:u,filterPrice:h,setFilterPrice:f}=n,m=nu(),v=ya(x=>x.cart);console.log(v);const E=x=>{m(Am(x)),Se.success("add to cart")};return I.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(v))},[v]),I.useEffect(()=>{window.scrollTo(0,0)},[]),_.jsxs(Fs,{children:[_.jsx(O1,{}),_.jsx("section",{className:"text-gray-600 body-font",children:_.jsxs("div",{className:"container px-5 py-8 md:py-16 mx-auto",children:[_.jsxs("div",{class:"lg:w-1/2 w-full mb-6 lg:mb-10",children:[_.jsx("h1",{class:"sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900",style:{color:e==="dark"?"white":""},children:"Our Latest Collection"}),_.jsx("div",{class:"h-1 w-20 bg-pink-600 rounded"})]}),_.jsx("div",{className:"flex flex-wrap -m-4",children:t.filter(x=>x.title.toLowerCase().includes(r)).filter(x=>x.category.toLowerCase().includes(a)).filter(x=>x.price.includes(h)).map((x,k)=>{const{title:R,price:M,description:A,imageUrl:$,id:F}=x;return _.jsx("div",{onClick:()=>window.location.href=`/productinfo/${F}`,className:"p-4 md:w-1/4  drop-shadow-lg ",children:_.jsxs("div",{className:"h-full border-2 hover:shadow-gray-100 hover:shadow-2xl transition-shadow duration-300 ease-in-out    border-gray-200 border-opacity-60 rounded-2xl overflow-hidden",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[_.jsx("div",{className:"flex justify-center cursor-pointer",children:_.jsx("img",{className:" rounded-2xl w-full h-80 p-2 hover:scale-110 transition-scale-110  duration-300 ease-in-out",src:$,alt:"blog"})}),_.jsxs("div",{className:"p-5 border-t-2",children:[_.jsx("h2",{className:"tracking-widest text-xs title-font font-medium text-gray-400 mb-1",style:{color:e==="dark"?"white":""},children:"E-Bharat"}),_.jsx("h1",{className:"title-font text-lg font-medium text-gray-900 mb-3",style:{color:e==="dark"?"white":""},children:R}),_.jsxs("p",{className:"leading-relaxed mb-3",style:{color:e==="dark"?"white":""},children:["₹",M]}),_.jsx("div",{className:" flex justify-center",children:_.jsx("button",{type:"button",onClick:()=>E(x),className:"focus:outline-none text-white bg-pink-600 hover:bg-pink-700 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm w-full  py-2",children:"Add To Cart"})})]})]})},k)})})]})})]})}const FO=n=>{const[e,t]=I.useState("light"),r=()=>{t(j=>j==="light"?"dark":"light")},[s,a]=I.useState(!1),[u,h]=I.useState({title:null,price:null,imageUrl:null,category:null,description:null,time:dt.now(),date:new Date().toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric"})}),f=async()=>{if(u.title==null||u.price==null||u.imageUrl==null||u.category==null||u.description==null)return Se.error("Please fill all fields");const j=Xo(bi,"products");a(!0);try{await yg(j,u),Se.success("Product Add successfully"),setTimeout(()=>{window.location.href="/Dashboard"},800),E(),closeModal(),a(!1)}catch(U){console.log(U),a(!1)}h("")},[m,v]=I.useState([]),E=async()=>{a(!0);try{const j=ON(Xo(bi,"products"),LN("time")),U=UN(j,N=>{let de=[];N.forEach(De=>{de.push({...De.data(),id:De.id})}),v(de),a(!1)});return()=>U}catch(j){console.log(j),a(!1),Se.error(j.message)}};I.useEffect(()=>{E()},[]);const x=j=>{h(j)},k=async j=>{a(!0);try{await VN(am(bi,"products",u.id),u),Se.success("Product Updated successfully"),E(),a(!1),setTimeout(()=>{window.location.href="/Dashboard"},800)}catch(U){a(!1),console.log(U)}h("")},R=async j=>{try{a(!0),await FN(am(bi,"products",j.id)),Se.success("Product Deleted successfully"),E()}catch(U){console.error("Delete error:",U),Se.error("Product Deletion Failed")}finally{a(!1)}},[M,A]=I.useState([]),$=async()=>{a(!0);try{const j=await w_(Xo(bi,"orders"));if(j.empty){console.log("No orders found in the database"),A([]);return}const U=j.docs.map(N=>{var ke,re,ce,oe,z,Y,ue,Pe,xe,Oe;const de=N.data(),De={name:de.name||((ke=de.addressinfo)==null?void 0:ke.name)||((re=de.addressInfo)==null?void 0:re.name)||"N/A",address:de.address||((ce=de.addressinfo)==null?void 0:ce.address)||((oe=de.addressInfo)==null?void 0:oe.address)||"N/A",phone:de.phone||((z=de.addressinfo)==null?void 0:z.phone)||((Y=de.addressInfo)==null?void 0:Y.phone)||"N/A",email:de.email||((ue=de.addressinfo)==null?void 0:ue.email)||((Pe=de.addressInfo)==null?void 0:Pe.email)||"N/A",pincode:de.pincode||((xe=de.addressinfo)==null?void 0:xe.pincode)||((Oe=de.addressInfo)==null?void 0:Oe.pincode)||"N/A"},Re=Array.isArray(de.cartitem)?de.cartitem:de.cartItems||de.cart||[];return console.group(`Order Debug - ID: ${N.id}`),console.log("Raw Order Data:",de),console.log("Normalized Address Info:",De),console.log("Cart Items:",Re),console.groupEnd(),{...de,id:N.id,addressinfo:De,cartitem:Re.map(Ne=>({title:Ne.title||"N/A",description:Ne.description||"N/A",category:Ne.category||"N/A",imageUrl:Ne.imageUrl||"https://via.placeholder.com/150",price:Ne.price||0})),date:de.date||new Date().toLocaleString()}});console.log("Total Processed Orders:",U.length),A(U)}catch(j){console.error("Comprehensive Order Fetch Error:",{message:j.message,name:j.name,stack:j.stack}),Se.error("Failed to fetch orders. Please check console for details."),A([])}finally{a(!1)}},[F,O]=I.useState([]),H=async()=>{a(!0);try{const j=["user","users","Users","User"];let U=[];for(const N of j)try{const de=await w_(Xo(bi,N));if(console.group(`Attempting to fetch from collection: ${N}`),console.log("Number of documents:",de.docs.length),de.docs.length>0&&(U=de.docs.map(De=>{const Re=De.data(),ke=()=>{const re=[Re.date,Re.createdAt,Re.timestamp,Re.created,Re.registeredAt];for(let ce of re)if(ce){if(ce.toDate)return ce.toDate().toLocaleString();const oe=new Date(ce);if(!isNaN(oe))return oe.toLocaleString()}return new Date().toLocaleString()};return console.log(`User Document from ${N}:`,{id:De.id,data:Re}),{...Re,id:De.id,date:ke()}}),U.length>0)){console.log(`Successfully retrieved users from ${N}`);break}console.groupEnd()}catch(de){console.error(`Error fetching from collection ${N}:`,de)}console.group("Final User Data"),console.log("Total Users Retrieved:",U.length),console.log("User Data:",U),console.groupEnd(),O(U),a(!1)}catch(j){console.error("Comprehensive User Fetch Error:",{message:j.message,name:j.name,stack:j.stack}),Se.error("Failed to fetch users. Please check console for details."),O([]),a(!1)}},[X,ne]=I.useState(""),[b,C]=I.useState(""),[P,L]=I.useState("");return I.useEffect(()=>{E(),$(),H()},[]),_.jsx(Mt.Provider,{value:{mode:e,toggleMode:r,loading:s,setLoading:a,products:u,setProducts:h,product:m,setProduct:v,addProduct:f,edithandle:x,updateProduct:k,deleteProduct:R,order:M,user:F,searchkey:X,setsearchkey:ne,filterType:b,setfilterType:C,filterPrice:P,setfilterPrice:L},children:n.children})};function UO(){const n=gm(),e=I.useContext(Mt),{loading:t,setLoading:r}=e,[s,a]=I.useState(""),[u,h]=I.useState(""),f=async()=>{r(!0);try{r(!0);const m=await $4(_T,s,u);console.log(m),n("/"),localStorage.setItem("user",JSON.stringify(m.user)),Se.success("Login Successfully",{position:"top-right",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),r(!1)}catch(m){r(!1),Se.error(m.message,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})}r(!1)};return _.jsxs("div",{className:" flex justify-center items-center h-screen",children:[t&&_.jsx(Nm,{}),_.jsxs("div",{className:" bg-gray-800 px-10 py-10 rounded-xl ",children:[_.jsx("div",{className:"",children:_.jsx("h1",{className:"text-center text-white text-xl mb-4 font-bold",children:"Login"})}),_.jsx("div",{children:_.jsx("input",{type:"email",value:s,onChange:m=>a(m.target.value),name:"email",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Email"})}),_.jsx("div",{children:_.jsx("input",{value:u,onChange:m=>h(m.target.value),name:"password",type:"password",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Password"})}),_.jsx("div",{className:" flex justify-center mb-3",children:_.jsx("button",{onClick:f,className:" bg-yellow-500 w-full text-black font-bold  px-2 py-2 rounded-lg",children:"Login"})}),_.jsx("div",{children:_.jsxs("h2",{className:"text-white",children:["Don't have an account ",_.jsx(bt,{className:" text-yellow-500 font-bold",to:"/signup",children:"Signup"})]})})]})]})}function $O(){const[n,e]=I.useState(""),[t,r]=I.useState(""),[s,a]=I.useState(""),u=I.useContext(Mt),{loading:h,setLoading:f}=u,m=async()=>{if(f(!0),n===""||t===""||s==="")return Se.error("All fields are required");try{const v=await U4(_T,t,s);console.log(v);const E={name:n,uid:v.user.uid,email:v.user.email,time:dt.now()},x=Xo(bi,"users");await yg(x,E),Se.success("Signup Successfully",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),e(""),r(""),a(""),f(!1)}catch(v){console.log(v),f(!1)}};return _.jsxs("div",{className:" flex justify-center items-center h-screen",children:[h&&_.jsx(Nm,{}),_.jsxs("div",{className:" bg-gray-800 px-10 py-10 rounded-xl ",children:[_.jsx("div",{className:"",children:_.jsx("h1",{className:"text-center text-white text-xl mb-4 font-bold",children:"Signup"})}),_.jsx("div",{children:_.jsx("input",{type:"text",value:n,onChange:v=>e(v.target.value),name:"name",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Name"})}),_.jsx("div",{children:_.jsx("input",{type:"email",value:t,onChange:v=>r(v.target.value),name:"email",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Email"})}),_.jsx("div",{children:_.jsx("input",{type:"password",value:s,onChange:v=>a(v.target.value),className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Password"})}),_.jsx("div",{className:" flex justify-center mb-3",children:_.jsx("button",{onClick:m,className:" bg-red-500 w-full text-white font-bold  px-2 py-2 rounded-lg",children:"Signup"})}),_.jsx("div",{children:_.jsxs("h2",{className:"text-white",children:["Have an account"," ",_.jsx(bt,{className:" text-red-500 font-bold",to:"/login",children:"Login"})]})})]})]})}function zO(){const n=I.useContext(Mt),{mode:e,product:t}=n,{id:r}=fI(),[s,a]=I.useState(null),u=nu();ya(f=>f.cart),I.useEffect(()=>{const f=t.find(m=>m.id===r);a(f)},[r,t]);const h=()=>{s&&(u(Am(s)),Se.success("Added to cart"))};return s?_.jsx(Fs,{children:_.jsx("div",{className:"min-h-screen py-8",style:{backgroundColor:e==="dark"?"#282c34":"white",color:e==="dark"?"white":"black"},children:_.jsx("section",{className:"text-gray-600 body-font overflow-hidden",children:_.jsx("div",{className:"container px-5 py-24 mx-auto",children:_.jsxs("div",{className:"lg:w-4/5 mx-auto flex flex-wrap",children:[_.jsx("img",{alt:s.title,className:"lg:w-1/2 w-full lg:h-auto h-64 object-cover object-center rounded",src:s.imageUrl,style:{boxShadow:e==="dark"?"0 4px 6px rgba(255,255,255,0.1)":"0 4px 6px rgba(0,0,0,0.1)"}}),_.jsxs("div",{className:"lg:w-1/2 w-full lg:pl-10 lg:py-6 mt-6 lg:mt-0",children:[_.jsx("h2",{className:"text-sm title-font tracking-widest",style:{color:e==="dark"?"lightgray":"gray"},children:s.category}),_.jsx("h1",{className:"text-3xl title-font font-medium mb-1",style:{color:e==="dark"?"white":"black"},children:s.title}),_.jsx("p",{className:"leading-relaxed border-b-2 mb-5 pb-5",style:{color:e==="dark"?"rgba(255,255,255,0.8)":"black",borderColor:e==="dark"?"rgba(255,255,255,0.2)":"gray-200"},children:s.description}),_.jsxs("div",{className:"flex items-center",children:[_.jsxs("span",{className:"title-font font-medium text-2xl",style:{color:e==="dark"?"white":"black"},children:["₹",s.price]}),_.jsx("button",{onClick:h,className:"flex ml-auto text-white bg-pink-600 border-0 py-2 px-6 focus:outline-none hover:bg-pink-700 rounded",children:"Add To Cart"})]})]})]})})})})}):_.jsx(Fs,{children:_.jsx("div",{className:"flex justify-center items-center h-screen text-2xl",style:{color:e==="dark"?"white":"black"},children:"Loading product details..."})})}function BO(){const n=I.useContext(Mt),{products:e,setProducts:t,addProduct:r}=n;return _.jsx("div",{children:_.jsx("div",{className:" flex justify-center items-center h-screen",children:_.jsxs("div",{className:" bg-gray-800 px-10 py-10 rounded-xl ",children:[_.jsx("div",{className:"",children:_.jsx("h1",{className:"text-center text-white text-xl mb-4 font-bold",children:"Add Product"})}),_.jsx("div",{children:_.jsx("input",{type:"text",onChange:s=>t({...e,title:s.target.value}),value:e.title,name:"title",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product title"})}),_.jsx("div",{children:_.jsx("input",{type:"text",name:"price",onChange:s=>t({...e,price:s.target.value}),value:e.price,className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product price"})}),_.jsx("div",{children:_.jsx("input",{type:"text",name:"imageurl",onChange:s=>t({...e,imageUrl:s.target.value}),value:e.imageUrl,className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product imageUrl"})}),_.jsx("div",{children:_.jsx("input",{type:"text",name:"category",onChange:s=>t({...e,category:s.target.value}),value:e.category,className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product category"})}),_.jsx("div",{children:_.jsx("textarea",{cols:"30",rows:"10",name:"description",onChange:s=>t({...e,description:s.target.value}),className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product Description"})}),_.jsx("div",{className:" flex justify-center mb-3",children:_.jsx("button",{onClick:r,className:" bg-yellow-500 w-full text-black font-bold  px-2 py-2 rounded-lg",children:"Add Product"})})]})})})}function HO(){const n=I.useContext(Mt),{products:e,setProducts:t,updateProduct:r}=n;return _.jsx("div",{children:_.jsx("div",{className:" flex justify-center items-center h-screen",children:_.jsxs("div",{className:" bg-gray-800 px-10 py-10 rounded-xl ",children:[_.jsx("div",{className:"",children:_.jsx("h1",{className:"text-center text-white text-xl mb-4 font-bold",children:"Update Product"})}),_.jsx("div",{children:_.jsx("input",{type:"text",onChange:s=>t({...e,title:s.target.value}),value:e.title,name:"title",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product title"})}),_.jsx("div",{children:_.jsx("input",{type:"text",name:"price",onChange:s=>t({...e,price:s.target.value}),value:e.price,className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product price"})}),_.jsx("div",{children:_.jsx("input",{type:"text",name:"imageurl",onChange:s=>t({...e,imageUrl:s.target.value}),value:e.imageUrl,className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product imageUrl"})}),_.jsx("div",{children:_.jsx("input",{type:"text",name:"category",onChange:s=>t({...e,category:s.target.value}),value:e.category,className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product category"})}),_.jsx("div",{children:_.jsx("textarea",{cols:"30",rows:"10",name:"description",onChange:s=>t({...e,description:s.target.value}),className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product Description"})}),_.jsx("div",{className:" flex justify-center mb-3",children:_.jsx("button",{onClick:r,className:" bg-yellow-500 w-full text-black font-bold  px-2 py-2 rounded-lg",children:"Update Product"})})]})})})}const WO=()=>_.jsx(_.Fragment,{children:_.jsx(_.Fragment,{children:_.jsxs(FO,{children:[_.jsx(JI,{children:_.jsxs(bI,{children:[_.jsx(Pn,{path:"/",element:_.jsx(Zk,{})}),_.jsx(Pn,{path:"/Order",element:_.jsx(qO,{children:_.jsx(eb,{})})}),_.jsx(Pn,{path:"/cart",element:_.jsx(rO,{})}),_.jsx(Pn,{path:"/Dashboard",element:_.jsx(Ep,{children:_.jsx(jO,{})})}),_.jsx(Pn,{path:"/allproducts",element:_.jsx(VO,{})}),_.jsx(Pn,{path:"/login",element:_.jsx(UO,{})}),_.jsx(Pn,{path:"/signup",element:_.jsx($O,{})}),_.jsx(Pn,{path:"/productinfo/:id",element:_.jsx(zO,{})}),_.jsx(Pn,{path:"/addproduct",element:_.jsx(Ep,{children:_.jsx(BO,{})})}),_.jsx(Pn,{path:"/updateproduct",element:_.jsx(Ep,{children:_.jsx(HO,{})})}),_.jsx(Pn,{path:"/*",element:_.jsx(MO,{})})]})}),_.jsx(uk,{})]})})}),qO=({children:n})=>{const e=localStorage.getItem("user");if(e)try{return JSON.parse(e)?n:_.jsx(Zo,{to:"/login"})}catch(t){return console.error("Error parsing user from localStorage:",t),_.jsx(Zo,{to:"/login"})}return _.jsx(Zo,{to:"/login"})},Ep=({children:n})=>{var t;const e=localStorage.getItem("user");if(e)try{const r=JSON.parse(e);return(r.email||((t=r.user)==null?void 0:t.email))==="santoshpatelvns5@gmail.com"?n:_.jsx(Zo,{to:"/"})}catch(r){return console.error("Error parsing user data",r),_.jsx(Zo,{to:"/login"})}else return _.jsx(Zo,{to:"/login"})},KO=Ok({reducer:{cart:Qk}});Mx.createRoot(document.getElementById("root")).render(_.jsx(I.StrictMode,{children:_.jsx(E2,{store:KO,children:_.jsx(WO,{})})}));
